"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6e3],{1125:(q,V,f)=>{f.d(V,{o:()=>K});var A=f(7643),G=f(5312),b=f(6648),j=f(8810),N=f(6354),y=f(9437),x=f(5558),B=f(1360),l=f(9564),Y=f(5806);let K=(()=>{var $;class X{get baseUrl(){return this._baseUrl}constructor(c,t,s){this.http=c,this.headersService=t,this.general=s,this._baseUrl=this.normalizeBaseUrl(G.c.api_key),this.BOOKING_BASE="/booking/bookings"}normalizeBaseUrl(c){return(c||"").replace(/\/+$/,"")}toParams(c){let t=new A.Nl;return Object.entries(c||{}).forEach(([s,u])=>{null==u||""===u||(Array.isArray(u)?u.forEach(r=>{t=t.append(s,String(r))}):t=t.set(s,String(u)))}),t}authJsonHeaders$(){return(0,b.H)(this.headersService.obtenerToken()).pipe((0,N.T)(c=>this.headersService.getJsonHeaders(c)))}authMultipartHeaders$(){return(0,b.H)(this.headersService.obtenerToken()).pipe((0,N.T)(c=>this.headersService.getJsonHeaders(c).delete("Content-Type")))}buildApiCandidates(c){const t=this.baseUrl.replace(/\/+$/,""),s=c.startsWith("/")?c:`/${c}`,u=`${t}${s}`,_=`${/\/api$/.test(t)?t.replace(/\/api$/,""):`${t}/api`}${s}`,m=new Set([u.replace(/\/+$/,""),_.replace(/\/+$/,"")]);return Array.from(m)}withNoCache(c){return c.set("Cache-Control","no-cache").set("Pragma","no-cache").set("If-Modified-Since","0")}withNoCacheHeaders(c){return c instanceof A.Lr?this.withNoCache(c):{...c,"Cache-Control":"no-cache",Pragma:"no-cache","If-Modified-Since":"0"}}addCacheBuster(c){const t=Date.now().toString();return(null!=c?c:new A.Nl).set("_ts",t)}formatHttpErrorMessage(c){const t="Ocurri\xf3 un error al procesar la solicitud.";if(!c)return t;const s=[],u=c.error;if(u)if("string"==typeof u)s.push(u);else{var r;"string"==typeof u.message&&s.push(u.message),"string"==typeof u.error?s.push(u.error):null!==(r=u.error)&&void 0!==r&&r.message&&s.push(String(u.error.message)),Array.isArray(u.errors)&&u.errors.length>0&&s.push(...u.errors.map(_=>(null==_?void 0:_.msg)||(null==_?void 0:_.message)||_).filter(Boolean).map(String))}0===s.length&&c.message&&s.push(String(c.message));const g=Array.from(new Set(s.map(_=>_.trim()).filter(Boolean)));return g.length?g.join("\n"):t}handleHttpErrorWithContext(c,t){return s=>{var u;const r=null==s?void 0:s.error,g="string"==typeof(null==r?void 0:r.message)&&r.message.trim()||"string"==typeof(null==s?void 0:s.message)&&s.message.trim()||"No se pudo completar la acci\xf3n";let _="";return"string"==typeof(null==r?void 0:r.error)&&r.error.trim()?_=r.error.trim():null!=r&&null!==(u=r.error)&&void 0!==u&&u.message?_=String(r.error.message):Array.isArray(null==r?void 0:r.errors)&&r.errors.length&&(_=r.errors.map(m=>(null==m?void 0:m.msg)||(null==m?void 0:m.message)||String(m)).filter(Boolean).join("\n")),_||(_=this.formatHttpErrorMessage(s)),this.general.alert(g,_,"danger"),(0,j.$)(()=>s)}}getWithApiFallback(c,t,s){const[u,r]=this.buildApiCandidates(c),g=this.withNoCacheHeaders(t),_=this.handleHttpErrorWithContext("GET",c);return this.http.get(u,{headers:g,params:s}).pipe((0,y.W)(m=>404===(null==m?void 0:m.status)&&r?this.http.get(r,{headers:g,params:s}).pipe((0,y.W)(this.handleHttpErrorWithContext("GET",c))):_(m)))}postWithApiFallback(c,t,s,u){const[r,g]=this.buildApiCandidates(c),_=this.handleHttpErrorWithContext("POST",c);return this.http.post(r,t,{headers:s,params:u}).pipe((0,y.W)(m=>404===(null==m?void 0:m.status)&&g?this.http.post(g,t,{headers:s,params:u}).pipe((0,y.W)(this.handleHttpErrorWithContext("POST",c))):_(m)))}putWithApiFallback(c,t,s,u){const[r,g]=this.buildApiCandidates(c),_=this.handleHttpErrorWithContext("PUT",c);return this.http.put(r,t,{headers:s,params:u}).pipe((0,y.W)(m=>404===(null==m?void 0:m.status)&&g?this.http.put(g,t,{headers:s,params:u}).pipe((0,y.W)(this.handleHttpErrorWithContext("PUT",c))):_(m)))}deleteWithApiFallback(c,t,s,u){const[r,g]=this.buildApiCandidates(c),_=this.handleHttpErrorWithContext("DELETE",c);return this.http.request("DELETE",r,{headers:t,params:s,body:u}).pipe((0,y.W)(m=>404===(null==m?void 0:m.status)&&g?this.http.request("DELETE",g,{headers:t,params:s,body:u}).pipe((0,y.W)(this.handleHttpErrorWithContext("DELETE",c))):_(m)))}listarBookings(c={}){const t=this.addCacheBuster(this.toParams(c));return this.authJsonHeaders$().pipe((0,x.n)(s=>this.getWithApiFallback(`${this.BOOKING_BASE}`,s,t)))}getBookingById(c){return this.authJsonHeaders$().pipe((0,x.n)(t=>this.getWithApiFallback(`${this.BOOKING_BASE}/${c}`,t,this.addCacheBuster())))}getMyBookings(){return this.authJsonHeaders$().pipe((0,x.n)(c=>this.getWithApiFallback(`${this.BOOKING_BASE}/mine`,c,this.addCacheBuster())))}getBookingsByCar(c,t={}){const s=this.addCacheBuster(this.toParams(t));return this.authJsonHeaders$().pipe((0,x.n)(u=>this.getWithApiFallback(`${this.BOOKING_BASE}/car/${c}`,u,s)))}createBookingV2(c){const t={...c};if(t.fechaInicio=new Date(c.fechaInicio).toISOString(),t.fechaFin=new Date(c.fechaFin).toISOString(),"string"==typeof t.items)try{t.items=JSON.parse(t.items)}catch{return this.general.alert("Datos inv\xe1lidos","Formato inv\xe1lido de items (JSON).","danger"),(0,j.$)(()=>new Error("Formato inv\xe1lido de items (JSON)"))}return t.rentalCar&&t.fechaInicio&&t.fechaFin?new Date(t.fechaFin)<=new Date(t.fechaInicio)?(this.general.alert("Rango inv\xe1lido","fechaFin debe ser mayor a fechaInicio.","danger"),(0,j.$)(()=>new Error("Rango de fechas inv\xe1lido: fechaFin debe ser > fechaInicio."))):!0!==t.aceptoTerminos?(this.general.alert("T\xe9rminos","Debes aceptar los t\xe9rminos para continuar.","danger"),(0,j.$)(()=>new Error("Debes aceptar los t\xe9rminos para continuar."))):this.authJsonHeaders$().pipe((0,x.n)(s=>this.postWithApiFallback(`${this.BOOKING_BASE}`,t,s))):(this.general.alert("Campos faltantes","Faltan campos: rentalCar, fechaInicio, fechaFin","danger"),(0,j.$)(()=>new Error("Faltan campos: rentalCar, fechaInicio, fechaFin")))}acceptBooking(c,t={}){const s={};return!0===t.force&&(s.force=!0),!0===t.ignoreTraslape&&(s.ignoreTraslape=!0),!0===t.ignoreOverlap&&(s.ignoreOverlap=!0),this.authJsonHeaders$().pipe((0,x.n)(u=>this.postWithApiFallback(`${this.BOOKING_BASE}/${c}/accept`,s,u)))}startBooking(c){return this.authJsonHeaders$().pipe((0,x.n)(t=>this.postWithApiFallback(`${this.BOOKING_BASE}/${c}/start`,{},t)))}finishBooking(c){return this.authJsonHeaders$().pipe((0,x.n)(t=>this.postWithApiFallback(`${this.BOOKING_BASE}/${c}/finish`,{},t)))}cancelBooking(c,t){const s=t?{motivo:t}:{};return this.authJsonHeaders$().pipe((0,x.n)(u=>this.postWithApiFallback(`${this.BOOKING_BASE}/${c}/cancel`,s,u)))}setCheckIn(c,t=[],s){const u=new FormData;return(t||[]).forEach(r=>u.append("checkInFotos",r)),null!=s&&s.fecha&&u.append("fecha",s.fecha),null!=(null==s?void 0:s.combustible)&&u.append("combustible",String(s.combustible)),null!=(null==s?void 0:s.notas)&&u.append("notas",s.notas),null!=s&&s.existentes&&u.append("checkInFotosExistentes",JSON.stringify(s.existentes)),this.authMultipartHeaders$().pipe((0,x.n)(r=>this.putWithApiFallback(`${this.BOOKING_BASE}/${c}/checkin`,u,r)))}setCheckOut(c,t=[],s){const u=new FormData;return(t||[]).forEach(r=>u.append("checkOutFotos",r)),null!=s&&s.fecha&&u.append("fecha",s.fecha),null!=(null==s?void 0:s.combustible)&&u.append("combustible",String(s.combustible)),null!=(null==s?void 0:s.notas)&&u.append("notas",s.notas),this.authMultipartHeaders$().pipe((0,x.n)(r=>this.putWithApiFallback(`${this.BOOKING_BASE}/${c}/checkout`,u,r)))}updatePayment(c,t){return this.authJsonHeaders$().pipe((0,x.n)(s=>this.putWithApiFallback(`${this.BOOKING_BASE}/${c}/payment`,t,s)))}updateDeposit(c,t){return this.authJsonHeaders$().pipe((0,x.n)(s=>this.putWithApiFallback(`${this.BOOKING_BASE}/${c}/deposit`,t,s)))}setContractUrl(c,t){return this.authJsonHeaders$().pipe((0,x.n)(s=>this.putWithApiFallback(`${this.BOOKING_BASE}/${c}/contract`,{url:t},s)))}replaceItems(c,t){return this.authJsonHeaders$().pipe((0,x.n)(s=>this.putWithApiFallback(`${this.BOOKING_BASE}/${c}/items`,{items:t},s)))}addLineItem(c,t){return this.authJsonHeaders$().pipe((0,x.n)(s=>this.postWithApiFallback(`${this.BOOKING_BASE}/${c}/items`,t,s)))}updateBookingPartial(c,t){return this.authJsonHeaders$().pipe((0,x.n)(s=>this.putWithApiFallback(`${this.BOOKING_BASE}/${c}`,t,s)))}removeLineItem(c,t){return this.authJsonHeaders$().pipe((0,x.n)(s=>this.deleteWithApiFallback(`${this.BOOKING_BASE}/${c}/items`,s,void 0,{index:t})))}deleteBooking(c){return this.authJsonHeaders$().pipe((0,x.n)(t=>this.deleteWithApiFallback(`${this.BOOKING_BASE}/${c}`,t)))}saveCheckInData(c,t){return this.authJsonHeaders$().pipe((0,x.n)(s=>this.putWithApiFallback(`${this.BOOKING_BASE}/${c}/checkin`,t,s)))}}return($=X).\u0275fac=function(c){return new(c||$)(B.KVO(A.Qq),B.KVO(l.m),B.KVO(Y.O))},$.\u0275prov=B.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}),X})()},5473:(q,V,f)=>{f.d(V,{n:()=>c});var A=f(467),G=f(2881),b=f(7343),j=f(9467),N=f(6557),y=f(4771),x=f(7392),B=f(5083),l=f(1360),Y=f(5806),K=f(9417),$=f(2381),X=f(9557);const U=["footerRoot"];let c=(()=>{var t;class s{constructor(r,g,_,m,I,H,W,J,z){this.menu=r,this.generalService=g,this.popoverCtrl=_,this.fb=m,this.alertCtrl=I,this.router=H,this.modalCtrl=W,this.activatedRoute=J,this.carsService=z,this.blog=[],this.mostrarMapa=!1,this.mostrarVerMas=!1,this.aceptoPopup=!1,this.YaseptePopup=!1,this.esDispositivoMovil=!1,this.dispositivo="",this.currentYear=(new Date).getFullYear(),this.destinoLat=20.6079,this.destinoLng=-100.3793,this.destinoLabel="WOAW Automotive - Oficinas Operativas",this.destinoDir="Blvd. Bernardo Quintana Arrioja 14, Alamos 2da Secc, 76160 Santiago de Quer\xe9taro, Qro."}ngOnInit(){var r=this;return(0,A.A)(function*(){localStorage.setItem("popUp","true"),"true"===localStorage.getItem("popUp")&&(r.YaseptePopup=!0),r.generalService.dispositivo$.subscribe(m=>{r.esDispositivoMovil="telefono"===m||"tablet"===m,r.dispositivo=m});const _=window.location.pathname;r.mostrarMapa=_.includes("/home")})()}ngAfterViewInit(){const r=this.footerRoot.nativeElement.querySelectorAll(".is-reveal"),g=new IntersectionObserver(_=>{_.forEach(m=>{m.isIntersecting&&(m.target.classList.add("visible"),g.unobserve(m.target))})},{threshold:.15});r.forEach(_=>g.observe(_))}abrirUbicacion(){return(0,A.A)(function*(){let g=20.607572064205126,_=-100.37906506352265;const m=encodeURIComponent("Blvd. Bernardo Quintana Arrioja 17, \xc1lamos 2da Secc, Santiago de Quer\xe9taro"),I=`https://www.google.com/maps/search/?api=1&query=${g},${_}`,H=B.Ii.getPlatform();if("android"!==H)if("ios"!==H)window.open(I,"_blank");else{const W=`http://maps.apple.com/?ll=${g},${_}&q=${m}`;try{yield x.P.open({url:W})}catch{window.open(I,"_blank")}}else{const W=`geo:${g},${_}?q=${g},${_}(${m})`;try{yield x.P.open({url:W})}catch{window.open(I,"_blank")}}})()}mostrarTerminos(){var r=this;return(0,A.A)(function*(){let g;g="telefono"===r.dispositivo?yield r.modalCtrl.create({component:j.W,componentProps:{onAceptar:()=>r.setAceptado("terminos",!0),onCancelar:()=>r.setAceptado("terminos",!1)},breakpoints:[0,.7,1],cssClass:"modal-perfil",initialBreakpoint:1,handle:!0,backdropDismiss:!0,showBackdrop:!0}):yield r.modalCtrl.create({component:j.W,componentProps:{onAceptar:()=>r.setAceptado("terminos",!0),onCancelar:()=>r.setAceptado("terminos",!1)},backdropDismiss:!0,showBackdrop:!0,cssClass:"modal-consentimiento"}),yield g.present()})()}setAceptado(r,g){!0===g?localStorage.setItem(r,"true"):(localStorage.setItem(r,"false"),this.generalService.alert({aviso:"Aviso de Privacidad",terminos:"T\xe9rminos y Condiciones"}[r],{aviso:"Por tu seguridad y protecci\xf3n de datos, es necesario aceptar el Aviso de Privacidad.",terminos:"Debes aceptar los T\xe9rminos y Condiciones para usar este servicio de forma segura y responsable."}[r],"info"),localStorage.removeItem(r))}abrirCorreo(){window.location.href="mailto:comercial@wo-aw.com"}mostrarAviso(){var r=this;return(0,A.A)(function*(){let g;g="telefono"===r.dispositivo?yield r.modalCtrl.create({component:N.X,componentProps:{onAceptar:()=>r.setAceptado("aviso",!0),onCancelar:()=>r.setAceptado("aviso",!1)},breakpoints:[0,.7,1],cssClass:"modal-perfil",initialBreakpoint:1,handle:!0,backdropDismiss:!0,showBackdrop:!0}):yield r.modalCtrl.create({component:N.X,componentProps:{onAceptar:()=>r.setAceptado("aviso",!0),onCancelar:()=>r.setAceptado("aviso",!1)},backdropDismiss:!0,showBackdrop:!0,cssClass:"modal-consentimiento"}),yield g.present()})()}handleContactoClick(r){r.preventDefault();const g="true"===localStorage.getItem("popUp");console.log(g),g?window.open("mailto:contacto@goautos.mx","_blank"):this.mostrarPopUp("email")}mostrarPopUp(r){var g=this;return(0,A.A)(function*(){if("true"===localStorage.getItem("popUp"))return"telefono"===r?window.open("tel:+524425516440"):"email"===r&&window.open("mailto:contacto@goautos.mx","_blank"),void g.generalService.alert("PopUp Aceptado","\xa1Gracias por aceptar el PopUp! Ahora puedes continuar con tu registro.","success");let m;m="telefono"===g.dispositivo?yield g.modalCtrl.create({component:y.I,breakpoints:[0,.7,1],cssClass:"modal-perfil",initialBreakpoint:1,handle:!0,backdropDismiss:!1,showBackdrop:!0}):yield g.modalCtrl.create({component:y.I,backdropDismiss:!1,showBackdrop:!0,cssClass:"modal-consentimiento"}),yield m.present();const{data:I}=yield m.onDidDismiss();g.popUpAceptado(I,r)})()}handleTelefonoClick(r){r.preventDefault(),r.stopPropagation(),"true"===localStorage.getItem("popUp")?window.open("tel:+524425516440"):this.mostrarPopUp("telefono")}popUpAceptado(r,g){var _=this;return(0,A.A)(function*(){r?(localStorage.setItem("popUp","true"),"telefono"===g?window.open("tel:+524425516440"):"email"===g&&window.open("mailto:contacto@goautos.mx","_blank"),_.generalService.alert("PopUp Aceptado","\xa1Gracias por aceptar el PopUp! Ahora puedes continuar con tu registro.","success")):console.error("El usuario no acept\xf3 el PopUp")})()}redirecion(r){this.router.navigate([r])}onCambioConsentimiento(r){this.aceptoPopup=!!r.detail.checked}aceptarConsentimiento(){this.aceptoPopup?(localStorage.setItem("popUp","true"),this.YaseptePopup=!0):this.generalService.alert("Consentimiento requerido","Debes aceptar el aviso de privacidad para continuar.","warning")}}return(t=s).\u0275fac=function(r){return new(r||t)(l.rXU(b._t),l.rXU(Y.O),l.rXU(b.IE),l.rXU(K.ok),l.rXU(b.hG),l.rXU($.Ix),l.rXU(b.W3),l.rXU($.nX),l.rXU(X.R))},t.\u0275cmp=l.VBU({type:t,selectors:[["app-footer"]],viewQuery:function(r,g){if(1&r&&l.GBs(U,7),2&r){let _;l.mGM(_=l.lsd())&&(g.footerRoot=_.first)}},decls:47,vars:0,consts:[["footerRoot",""],[1,"woaw-footer"],[1,"wf-wrap"],[1,"wf-col","brand","is-reveal"],[1,"marca_title"],[1,"tagline"],[1,"legal-mini"],["type","button",1,"link",3,"click"],[1,"wf-col","contact","is-reveal"],[1,"contacto_title"],[1,"empresa"],[1,"ubicacion"],[1,"consent"],["href","","role","link",1,"dato",3,"click","keydown.enter","keydown.space"],[1,"horario"],["type","button",1,"btn-primary",3,"click"],["name","navigate-outline"],[1,"wf-col","explore","is-reveal"],[1,"explora_title"],[1,"social-row"],["href","https://www.instagram.com/woaw.mx/","target","_blank","aria-label","Instagram",1,"chip"],["name","logo-instagram"],["href","https://www.tiktok.com/@woaw.mx","target","_blank","aria-label","TikTok",1,"chip"],["name","logo-tiktok"],["href","https://www.facebook.com/share/16wiS1yd9L/?mibextid=wwXIfr","target","_blank","aria-label","Facebook",1,"chip"],["name","logo-facebook"],["href","https://wa.me/524427706776","target","_blank","aria-label","WhatsApp",1,"chip"],["name","logo-whatsapp"],["href","https://www.linkedin.com/company/woaw-automotive","target","_blank","aria-label","LinkedIn",1,"chip"],["name","logo-linkedin"],["href","https://mail.google.com/mail/?view=cm&fs=1&to=comercial@wo-aw.com\n          &su=Contacto%20desde%20la%20web%20Woaw\n          &body=Hola%20equipo%20Woaw,","target","_blank","aria-label","Correo Gmail",1,"chip"],["name","mail-outline"],[1,"copy"]],template:function(r,g){if(1&r){const _=l.RV6();l.j41(0,"footer",1,0)(2,"div",2)(3,"section",3)(4,"h2",4),l.EFF(5,"Woaw Automotive"),l.k0s(),l.j41(6,"p",5),l.EFF(7," Veh\xedculos, personas y rutas claras. Sin ruido, sin adornos innecesarios. "),l.k0s(),l.j41(8,"div",6)(9,"button",7),l.bIt("click",function(){return l.eBV(_),l.Njj(g.mostrarAviso())}),l.EFF(10," Aviso de Privacidad "),l.k0s(),l.j41(11,"button",7),l.bIt("click",function(){return l.eBV(_),l.Njj(g.mostrarTerminos())}),l.EFF(12," T\xe9rminos "),l.k0s()()(),l.j41(13,"section",8)(14,"h2",9),l.EFF(15,"Contacto"),l.k0s(),l.j41(16,"h3",10),l.EFF(17,"Woaw Automotive S.A. de C.V."),l.k0s(),l.j41(18,"p",11),l.EFF(19,"Santiago de Quer\xe9taro, M\xe9xico"),l.k0s(),l.j41(20,"p",12),l.EFF(21," Consentimiento registrado. Puedes escribirnos o llamarnos cuando quieras. "),l.k0s(),l.j41(22,"a",13),l.bIt("click",function(I){return l.eBV(_),l.Njj(g.handleTelefonoClick(I))})("keydown.enter",function(I){return l.eBV(_),l.Njj(g.handleTelefonoClick(I))})("keydown.space",function(I){return l.eBV(_),g.handleTelefonoClick(I),l.Njj(I.preventDefault())}),l.EFF(23," +52 442 770 6776 "),l.k0s(),l.j41(24,"p",14),l.EFF(25,"Lunes a Viernes: 9:00\u201318:00"),l.k0s(),l.j41(26,"button",15),l.bIt("click",function(){return l.eBV(_),l.Njj(g.abrirUbicacion())}),l.nrm(27,"ion-icon",16),l.EFF(28," C\xd3MO LLEGAR "),l.k0s()(),l.j41(29,"section",17)(30,"h2",18),l.EFF(31,"Redes"),l.k0s(),l.j41(32,"div",19)(33,"a",20),l.nrm(34,"ion-icon",21),l.k0s(),l.j41(35,"a",22),l.nrm(36,"ion-icon",23),l.k0s(),l.j41(37,"a",24),l.nrm(38,"ion-icon",25),l.k0s(),l.j41(39,"a",26),l.nrm(40,"ion-icon",27),l.k0s(),l.j41(41,"a",28),l.nrm(42,"ion-icon",29),l.k0s(),l.j41(43,"a",30),l.nrm(44,"ion-icon",31),l.k0s()()()(),l.j41(45,"div",32),l.EFF(46,"\xa9 2025 Woaw Automotive. Todos los derechos reservados."),l.k0s()()}},dependencies:[b.bv,b.iq,G.MD],styles:['@charset "UTF-8";.woaw-footer[_ngcontent-%COMP%]{background:#f2f2f7;padding:28px 20px 110px;color:#1c1c1e;border-top:1px solid rgba(0,0,0,.08)}.wf-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.wf-col[_ngcontent-%COMP%]{background:#fff;padding:18px 20px;border-radius:16px;box-shadow:0 3px 12px #0000000a;border:1px solid rgba(0,0,0,.06)}h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:800;color:#111}p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:14px;line-height:1.45}.legal-mini[_ngcontent-%COMP%]{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}.legal-mini[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#007aff;font-weight:600;border-radius:12px;padding:6px 12px;background:#f3f3f7;border:1px solid rgba(0,0,0,.06)}.empresa[_ngcontent-%COMP%]{font-weight:700;margin-bottom:4px;font-size:15px;color:#111}.dato[_ngcontent-%COMP%]{display:inline-block;margin-top:8px;color:#007aff;font-weight:600;font-size:15px;border-bottom:1px dotted rgba(0,0,0,.2)}.btn-primary[_ngcontent-%COMP%]{margin-top:14px;display:inline-flex;align-items:center;gap:8px;padding:12px 18px;background:#ff3b30;color:#fff;border-radius:14px;font-weight:700;border:none;font-size:15px;box-shadow:0 6px 20px #ff3b3040}.social-row[_ngcontent-%COMP%]{margin-top:14px;display:flex;gap:14px;flex-wrap:wrap}.social-row[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{width:42px;height:42px;background:#fff;border-radius:50%;border:1px solid rgba(0,0,0,.08);display:grid;place-items:center;color:#111;font-size:22px;box-shadow:0 2px 6px #00000014}.copy[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;text-align:center;color:#8e8e93}']}),s})()},6e3:(q,V,f)=>{f.r(V),f.d(V,{RentaCochesPageModule:()=>At});var A=f(2881),G=f(9417),b=f(7343),j=f(9870),N=f(467),y=f(2381),x=f(7051),B=f(5964),l=f(6354),Y=f(3294),K=f(980),$=f(9437),X=f(5558),U=f(7673),c=f(7468),t=f(1360),s=f(3104),u=f(5806),r=f(1125),g=f(9847),_=f(1969),m=f(7677);const I=["pageContent"];function H(d,v){if(1&d){const n=t.RV6();t.j41(0,"div",17)(1,"ion-chip",18),t.nrm(2,"ion-icon",19),t.j41(3,"ion-label"),t.EFF(4),t.k0s()(),t.j41(5,"div",20)(6,"ion-button",21),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.openModalFechas())}),t.EFF(7,"Cambiar"),t.k0s(),t.j41(8,"ion-button",22),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.limpiarFechas())}),t.EFF(9,"Quitar"),t.k0s()()()}if(2&d){const n=t.XpG();t.R7$(4),t.JRh(n.rangoTexto)}}function W(d,v){if(1&d){const n=t.RV6();t.j41(0,"ion-button",23),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.openModalFechas())}),t.EFF(1," Elegir fechas "),t.k0s()}}function J(d,v){if(1&d&&(t.j41(0,"ion-segment-button",24)(1,"ion-label"),t.EFF(2),t.k0s()()),2&d){const n=t.XpG();t.R7$(2),t.SpI("Mis coches (",n.totalMios,")")}}function z(d,v){1&d&&t.nrm(0,"ion-spinner",29)}function tt(d,v){1&d&&(t.j41(0,"div",30),t.nrm(1,"ion-icon",31),t.j41(2,"h2"),t.EFF(3,"No hay coches disponibles"),t.k0s(),t.j41(4,"p"),t.EFF(5,"Vuelve a intentarlo m\xe1s tarde."),t.k0s()())}function et(d,v){1&d&&(t.j41(0,"div",43),t.EFF(1,"Mi coche"),t.k0s())}function ot(d,v){if(1&d&&(t.j41(0,"div",44),t.nrm(1,"ion-icon",45),t.j41(2,"span"),t.EFF(3),t.nI1(4,"number"),t.k0s()()),2&d){const n=t.XpG().$implicit;t.R7$(3),t.SpI("",t.bMT(4,1,n.kilometrajeActual)," km")}}function it(d,v){if(1&d&&(t.j41(0,"div",44),t.nrm(1,"ion-icon",46),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&d){const n=t.XpG().$implicit;t.R7$(3),t.JRh(n.transmision)}}function nt(d,v){if(1&d){const n=t.RV6();t.j41(0,"ion-card",34),t.bIt("click",function(){const o=t.eBV(n).$implicit,i=t.XpG(3);return t.Njj(i.onCardClick(o))})("keyup.enter",function(){const o=t.eBV(n).$implicit,i=t.XpG(3);return t.Njj(i.onCardClick(o))}),t.DNE(1,et,2,0,"div",35),t.j41(2,"div",36),t.nrm(3,"img",37),t.k0s(),t.j41(4,"ion-card-content")(5,"div",38)(6,"strong"),t.EFF(7),t.k0s(),t.EFF(8),t.k0s(),t.j41(9,"div",39),t.EFF(10),t.nI1(11,"currency"),t.k0s(),t.j41(12,"div",40),t.DNE(13,ot,5,3,"div",41)(14,it,4,1,"div",41),t.k0s(),t.nrm(15,"div",42),t.k0s()()}if(2&d){const n=v.$implicit,e=t.XpG(3);t.BMQ("aria-label",(n.marca||"")+" "+(n.modelo||"")+(n.anio?" "+n.anio:"")),t.R7$(),t.Y8G("ngIf",e.getEsMio(n)),t.R7$(2),t.FCK("alt","",n.marca," ",n.modelo,""),t.Y8G("src",n.imagenPrincipal||"/assets/placeholder-car.webp",t.B4B),t.R7$(4),t.JRh(n.marca),t.R7$(),t.Lme(" \u2022 ",n.modelo," ",n.anio," "),t.R7$(2),t.SpI(" ",t.brH(11,12,e.precioPorDia(n),"MXN","symbol-narrow"),"/d\xeda "),t.R7$(3),t.Y8G("ngIf",null!=n.kilometrajeActual),t.R7$(),t.Y8G("ngIf",n.transmision)}}function at(d,v){if(1&d&&(t.j41(0,"div",32),t.DNE(1,nt,16,16,"ion-card",33),t.k0s()),2&d){const n=t.XpG(2);t.R7$(),t.Y8G("ngForOf",n.todosPaginados)("ngForTrackBy",n.trackCar)}}function st(d,v){if(1&d){const n=t.RV6();t.j41(0,"button",55),t.bIt("click",function(){t.eBV(n);const o=t.XpG().$implicit,i=t.XpG(3);return t.Njj(i.cambiarPagina("todos",o))}),t.EFF(1),t.k0s()}if(2&d){const n=t.XpG().$implicit,e=t.XpG(3);t.AVh("activa",e.paginaTodosActual===n),t.BMQ("aria-current",e.paginaTodosActual===n?"page":null),t.R7$(),t.SpI(" ",n," ")}}function rt(d,v){1&d&&(t.j41(0,"span",56),t.EFF(1,"..."),t.k0s())}function lt(d,v){if(1&d&&(t.qex(0),t.DNE(1,st,2,4,"button",53)(2,rt,2,0,"span",54),t.bVm()),2&d){const n=v.$implicit,e=t.XpG(3);t.R7$(),t.Y8G("ngIf",e.esNumero(n)),t.R7$(),t.Y8G("ngIf",!e.esNumero(n))}}function ct(d,v){if(1&d){const n=t.RV6();t.j41(0,"div",47)(1,"p",48),t.EFF(2,"M\xe1s"),t.k0s(),t.j41(3,"div",49)(4,"div",50)(5,"button",51),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.cambiarPagina("todos",o.paginaTodosActual-1))}),t.EFF(6," \u2039 "),t.k0s(),t.DNE(7,lt,3,2,"ng-container",52),t.j41(8,"button",51),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.cambiarPagina("todos",o.paginaTodosActual+1))}),t.EFF(9," \u203a "),t.k0s()()()()}if(2&d){const n=t.XpG(2);t.R7$(5),t.Y8G("disabled",1===n.paginaTodosActual),t.R7$(2),t.Y8G("ngForOf",n.paginasReducidasTodos),t.R7$(),t.Y8G("disabled",n.paginaTodosActual===n.totalPaginasTodos)}}function dt(d,v){if(1&d&&(t.qex(0),t.DNE(1,z,1,0,"ion-spinner",25)(2,tt,6,0,"div",26)(3,at,2,2,"div",27)(4,ct,10,3,"div",28),t.bVm()),2&d){const n=t.XpG();t.R7$(),t.Y8G("ngIf",n.loading),t.R7$(),t.Y8G("ngIf",!n.loading&&0===((null==n.todosPaginados?null:n.todosPaginados.length)||0)),t.R7$(),t.Y8G("ngIf",!n.loading&&((null==n.todosPaginados?null:n.todosPaginados.length)||0)>0),t.R7$(),t.Y8G("ngIf",n.totalPaginasTodos>1)}}function pt(d,v){1&d&&(t.j41(0,"div",30),t.nrm(1,"ion-icon",31),t.j41(2,"h2"),t.EFF(3,"No tienes coches de renta publicados"),t.k0s(),t.j41(4,"p"),t.EFF(5,"Publica uno y aparecer\xe1 aqu\xed."),t.k0s()())}function ht(d,v){1&d&&(t.j41(0,"div",43),t.EFF(1,"Mi coche"),t.k0s())}function gt(d,v){if(1&d&&(t.j41(0,"div",44),t.nrm(1,"ion-icon",45),t.j41(2,"span"),t.EFF(3),t.nI1(4,"number"),t.k0s()()),2&d){const n=t.XpG().$implicit;t.R7$(3),t.SpI("",t.bMT(4,1,n.kilometrajeActual)," km")}}function ut(d,v){if(1&d&&(t.j41(0,"div",44),t.nrm(1,"ion-icon",46),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&d){const n=t.XpG().$implicit;t.R7$(3),t.JRh(n.transmision)}}function mt(d,v){if(1&d){const n=t.RV6();t.j41(0,"ion-card",34),t.bIt("click",function(){const o=t.eBV(n).$implicit,i=t.XpG(3);return t.Njj(i.onCardClick(o))})("keyup.enter",function(){const o=t.eBV(n).$implicit,i=t.XpG(3);return t.Njj(i.onCardClick(o))}),t.DNE(1,ht,2,0,"div",35),t.j41(2,"div",36),t.nrm(3,"img",37),t.k0s(),t.j41(4,"ion-card-content")(5,"div",38)(6,"strong"),t.EFF(7),t.k0s(),t.EFF(8),t.k0s(),t.j41(9,"div",39),t.EFF(10),t.nI1(11,"currency"),t.k0s(),t.j41(12,"div",40),t.DNE(13,gt,5,3,"div",41)(14,ut,4,1,"div",41),t.k0s(),t.nrm(15,"div",42),t.k0s()()}if(2&d){const n=v.$implicit,e=t.XpG(3);t.BMQ("aria-label",(n.marca||"")+" "+(n.modelo||"")),t.R7$(),t.Y8G("ngIf",e.getEsMio(n)),t.R7$(2),t.FCK("alt","",n.marca," ",n.modelo,""),t.Y8G("src",n.imagenPrincipal||"/assets/placeholder-car.webp",t.B4B),t.R7$(4),t.JRh(n.marca),t.R7$(),t.SpI(" \u2022 ",n.modelo," "),t.R7$(2),t.SpI(" ",t.brH(11,11,e.precioPorDia(n),"MXN","symbol-narrow"),"/d\xeda "),t.R7$(3),t.Y8G("ngIf",null!=n.kilometrajeActual),t.R7$(),t.Y8G("ngIf",n.transmision)}}function _t(d,v){if(1&d&&(t.j41(0,"div",32),t.DNE(1,mt,16,15,"ion-card",33),t.k0s()),2&d){const n=t.XpG(2);t.R7$(),t.Y8G("ngForOf",n.miosPaginados)("ngForTrackBy",n.trackCar)}}function ft(d,v){if(1&d){const n=t.RV6();t.j41(0,"button",55),t.bIt("click",function(){t.eBV(n);const o=t.XpG().$implicit,i=t.XpG(3);return t.Njj(i.cambiarPagina("mios",o))}),t.EFF(1),t.k0s()}if(2&d){const n=t.XpG().$implicit,e=t.XpG(3);t.AVh("activa",e.paginaMiosActual===n),t.BMQ("aria-current",e.paginaMiosActual===n?"page":null),t.R7$(),t.SpI(" ",n," ")}}function vt(d,v){1&d&&(t.j41(0,"span",56),t.EFF(1,"..."),t.k0s())}function bt(d,v){if(1&d&&(t.qex(0),t.DNE(1,ft,2,4,"button",53)(2,vt,2,0,"span",54),t.bVm()),2&d){const n=v.$implicit,e=t.XpG(3);t.R7$(),t.Y8G("ngIf",e.esNumero(n)),t.R7$(),t.Y8G("ngIf",!e.esNumero(n))}}function Ct(d,v){if(1&d){const n=t.RV6();t.j41(0,"div",47)(1,"p",48),t.EFF(2,"M\xe1s"),t.k0s(),t.j41(3,"div",49)(4,"div",50)(5,"button",51),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.cambiarPagina("mios",o.paginaMiosActual-1))}),t.EFF(6," \u2039 "),t.k0s(),t.DNE(7,bt,3,2,"ng-container",52),t.j41(8,"button",51),t.bIt("click",function(){t.eBV(n);const o=t.XpG(2);return t.Njj(o.cambiarPagina("mios",o.paginaMiosActual+1))}),t.EFF(9," \u203a "),t.k0s()()()()}if(2&d){const n=t.XpG(2);t.R7$(5),t.Y8G("disabled",1===n.paginaMiosActual),t.R7$(2),t.Y8G("ngForOf",n.paginasReducidasMios),t.R7$(),t.Y8G("disabled",n.paginaMiosActual===n.totalPaginasMios)}}function Pt(d,v){if(1&d&&(t.qex(0),t.DNE(1,pt,6,0,"div",26)(2,_t,2,2,"div",27)(3,Ct,10,3,"div",28),t.bVm()),2&d){const n=t.XpG();t.R7$(),t.Y8G("ngIf",0===((null==n.miosPaginados?null:n.miosPaginados.length)||0)),t.R7$(),t.Y8G("ngIf",((null==n.miosPaginados?null:n.miosPaginados.length)||0)>0),t.R7$(),t.Y8G("ngIf",n.totalPaginasMios>1)}}function kt(d,v){if(1&d){const n=t.RV6();t.j41(0,"div",57)(1,"h2",58),t.EFF(2,"\xbfA d\xf3nde quieres ir?"),t.k0s(),t.j41(3,"p",59),t.EFF(4,"Este coche es tuyo."),t.k0s(),t.j41(5,"div",60)(6,"ion-button",23),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.goToFicha())}),t.EFF(7,"Ficha"),t.k0s(),t.j41(8,"ion-button",61),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.goToDisponibilidad())}),t.EFF(9,"Disponibilidad"),t.k0s()(),t.j41(10,"ion-button",62),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.closeModal())}),t.EFF(11," CANCELAR "),t.k0s()()}}function xt(d,v){if(1&d){const n=t.RV6();t.j41(0,"ion-header",63)(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Disponibilidad"),t.k0s(),t.j41(4,"ion-buttons",64)(5,"ion-button",65),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.closeModalFechas())}),t.nrm(6,"ion-icon",66),t.k0s()()()(),t.j41(7,"ion-content")(8,"div",67)(9,"ion-item",68)(10,"ion-label",69),t.EFF(11,"Selecciona fecha(s)"),t.k0s(),t.j41(12,"ion-datetime",70),t.mxI("ngModelChange",function(o){t.eBV(n);const i=t.XpG();return t.DH7(i.tempFechasSeleccionadas,o)||(i.tempFechasSeleccionadas=o),t.Njj(o)}),t.bIt("ionChange",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.onTempRangoChange())}),t.k0s()()()(),t.j41(13,"ion-footer")(14,"ion-toolbar")(15,"ion-buttons",71)(16,"ion-button",72),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.limpiarTemp())}),t.EFF(17,"Limpiar"),t.k0s()(),t.j41(18,"ion-buttons",64)(19,"ion-button",73),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.closeModalFechas())}),t.EFF(20,"Cancelar"),t.k0s(),t.j41(21,"ion-button",74),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.aplicarRango())}),t.EFF(22,"Aplicar"),t.k0s()()()()}if(2&d){const n=t.XpG();t.R7$(12),t.R50("ngModel",n.tempFechasSeleccionadas),t.Y8G("min",n.minFecha)("highlightedDates",n.tempHighlightedRange)}}const Mt=[{path:"",component:(()=>{var d;class v{get isLoggedIn(){return!!localStorage.getItem("token")}constructor(e,o,i,a,h,p){this.rentaService=e,this.popoverCtrl=o,this.generalService=i,this.router=a,this.reservaService=h,this.route=p,this.myCarIds=new Set,this.currentUserId=null,this.estadoQP=null,this.ciudadQP=null,this.userRol=null,this.vistaActiva="todos",this.todosStorage=[],this.todosFiltrados=[],this.todosPaginados=[],this.totalTodos=0,this.paginaTodosActual=1,this.totalPaginasTodos=1,this.miosStorage=[],this.miosFiltrados=[],this.miosPaginados=[],this.totalMios=0,this.paginaMiosActual=1,this.totalPaginasMios=1,this.loading=!1,this.error=null,this.itemsPorPagina=8,this.ordenActual="",this.filtros=[{label:"$",tipo:"precio"},{label:"Marca",tipo:"marca"}],this.filtrosAplicados={precio:null,anio:null,marca:null,disponibilidad:null},this.modalOpen=!1,this.modalCarId=null,this.pendingNav=null,this.minFecha=this.toLocalISODate(),this.rangoTexto="",this.fechasSeleccionadas=[],this.highlightedRange=[],this.modalFechasOpen=!1,this.tempFechasSeleccionadas=[],this.tempHighlightedRange=[],this.dispoLoading=!1,this.dispoReqId=0,this.trackCar=(O,P)=>{var T,k;return null!==(T=null!==(k=null==P?void 0:P._id)&&void 0!==k?k:null==P?void 0:P.id)&&void 0!==T?T:`${null==P?void 0:P.marca}-${null==P?void 0:P.modelo}-${null==P?void 0:P.anio}`},this.routerSub=this.router.events.pipe((0,B.p)(O=>O instanceof y.Z)).subscribe(()=>{this.modalOpen=!1,this.modalCarId=null,this.pendingNav=null})}ngOnInit(){var e;console.log("[RentaCoches] rentaService.baseUrl =",this.rentaService.baseUrl),this.refreshCurrentUserId(),this.route.queryParamMap.pipe((0,l.T)(i=>({estado:(i.get("estado")||"").trim()||null,ciudad:(i.get("ciudad")||"").trim()||null})),(0,Y.F)((i,a)=>i.estado===a.estado&&i.ciudad===a.ciudad)).subscribe(({estado:i,ciudad:a})=>{this.estadoQP=i,this.ciudadQP=a,this.cargarTodos()}),this.isLoggedIn&&"cliente"!==this.userRol&&this.cargarMios();const o=null===(e=this.filtrosAplicados)||void 0===e?void 0:e.disponibilidad;null!=o&&o.desde&&null!=o&&o.hasta?(this.fechasSeleccionadas=[o.desde,o.hasta].sort(),this.rebuildHighlightAndText()):null!=o&&o.desde&&(this.fechasSeleccionadas=[o.desde],this.rebuildHighlightAndText())}ngOnDestroy(){var e,o,i,a;null===(e=this.lastPopover)||void 0===e||e.dismiss().catch(()=>{}),this.lastPopover=null,null===(o=this.routerSub)||void 0===o||null===(i=o.unsubscribe)||void 0===i||i.call(o),null===(a=this.estadoSub)||void 0===a||a.unsubscribe()}refreshCurrentUserId(){try{const e=localStorage.getItem("user"),o=e?JSON.parse(e):null;this.currentUserId=(null==o?void 0:o._id)||(null==o?void 0:o.id)||(null==o?void 0:o.userId)||null,this.userRol=(null==o?void 0:o.rol)||(null==o?void 0:o.role)||null}catch{this.currentUserId=null,this.userRol=null}}precioPorDia(e){var o,i,a,h;const p=null!==(o=null!==(i=null!==(a=null==e||null===(h=e.precio)||void 0===h?void 0:h.porDia)&&void 0!==a?a:null==e?void 0:e.precioPorDia)&&void 0!==i?i:null==e?void 0:e.precio)&&void 0!==o?o:0,O=Number(p);return Number.isFinite(O)?O:0}cargarTodos(){this.loading=!0,this.error=null;const e={};this.estadoQP&&(e.estado=this.estadoQP.trim()),this.ciudadQP&&(e.ciudad=this.ciudadQP.trim()),this.rentaService.listarCoches(e).pipe((0,K.j)(()=>this.loading=!1)).subscribe({next:o=>{const i=Array.isArray(null==o?void 0:o.rentals)?o.rentals:Array.isArray(null==o?void 0:o.autos)?o.autos:Array.isArray(null==o?void 0:o.data)?o.data:Array.isArray(o)?o:[];this.todosStorage=(i||[]).filter(a=>{var h;return"inactivo"!==(null!==(h=null==a?void 0:a.estadoRenta)&&void 0!==h?h:"disponible")}),this.totalTodos=this.todosStorage.length,this.aplicarFiltros(),this.ordenarAutos("recientes"),this.ciudadQP&&console.log(`\u{1f50d} Autos filtrados por ciudad: ${this.ciudadQP}`,this.todosStorage)},error:o=>{console.error("[RentaCoches] listarCoches error:",o),this.error="Error al cargar coches",this.todosStorage=[],this.totalTodos=0,this.aplicarFiltros()}})}cargarMios(){if(this.refreshCurrentUserId(),!this.isLoggedIn||"cliente"===this.userRol)return this.miosStorage=[],this.totalMios=0,void this.myCarIds.clear();this.rentaService.misCoches().subscribe({next:e=>{const o=Array.isArray(e)?e:[];this.miosStorage=o||[],this.totalMios=this.miosStorage.length,this.myCarIds=new Set(this.miosStorage.map(i=>{var a;return String(null!==(a=null==i?void 0:i._id)&&void 0!==a?a:null==i?void 0:i.id)}).filter(Boolean)),this.aplicarFiltros()},error:e=>{console.error("[RentaCoches] misCoches error:",e),this.miosStorage=[],this.totalMios=0,this.myCarIds.clear()}})}onSegmentChange(){"mios"===this.vistaActiva&&this.isLoggedIn&&"cliente"!==this.userRol&&0===this.miosStorage.length&&this.cargarMios(),"todos"===this.vistaActiva?this.paginaTodosActual=1:this.paginaMiosActual=1,this.aplicarFiltros(),setTimeout(()=>{var e;return null===(e=this.pageContent)||void 0===e?void 0:e.scrollToTop(300)},50)}createdTs(e){const o=null==e?void 0:e.createdAt,i=o?new Date(o).getTime():NaN;return Number.isFinite(i)?i:0}ordenarAutos(e){const o=(null!=e?e:"").toString();this.ordenActual=o;const i="todos"===this.vistaActiva?this.todosFiltrados.length?[...this.todosFiltrados]:[...this.todosStorage]:this.miosFiltrados.length?[...this.miosFiltrados]:[...this.miosStorage];"precioAsc"===o?i.sort((a,h)=>this.precioPorDia(a)-this.precioPorDia(h)):"precioDesc"===o?i.sort((a,h)=>this.precioPorDia(h)-this.precioPorDia(a)):"recientes"===o&&i.sort((a,h)=>this.createdTs(h)-this.createdTs(a)),"todos"===this.vistaActiva?(this.todosFiltrados=i,this.calcularPaginacion("todos")):(this.miosFiltrados=i,this.calcularPaginacion("mios")),setTimeout(()=>{var a;return null===(a=this.pageContent)||void 0===a?void 0:a.scrollToTop(300)},50)}mostrarOpciones(e,o){var i=this;return(0,N.A)(function*(){var a;yield null===(a=i.lastPopover)||void 0===a?void 0:a.dismiss().catch(()=>{}),i.lastPopover=yield i.popoverCtrl.create({component:x.s,event:e,translucent:!0,componentProps:{tipo:o,extra:"renta"}}),yield i.lastPopover.present();const{data:h,role:p}=yield i.lastPopover.onDidDismiss();i.lastPopover=null,"cancel"!==p&&"backdrop"!==p&&(i.filtrosAplicados[o]=null===h?null:h,i.aplicarFiltros())})()}resetearFiltros(){this.filtrosAplicados={precio:null,anio:null,marca:null,disponibilidad:null},this.fechasSeleccionadas=[],this.highlightedRange=[],this.rangoTexto="",this.aplicarFiltros()}normStr(e){return(null!=e?e:"").toString().toLowerCase().trim()}aplicarFiltros(){var e;let i=[..."todos"===this.vistaActiva?this.todosStorage:this.miosStorage];const{precio:a,anio:h,marca:p,disponibilidad:O}=this.filtrosAplicados;if(2===(null==a||null===(e=a.rango)||void 0===e?void 0:e.length)){const[M,E]=a.rango.map(w=>Number(w));i=i.filter(w=>this.precioPorDia(w)>=M&&this.precioPorDia(w)<=E)}if(h&&(i=i.filter(M=>Number(null==M?void 0:M.anio)===Number(h))),p){var P,T;const M=this.normStr(null!==(P=null!==(T=null==p?void 0:p.label)&&void 0!==T?T:null==p?void 0:p.value)&&void 0!==P?P:p);M&&"todos"!==M&&"todas"!==M&&(i=i.filter(E=>this.normStr(null==E?void 0:E.marca)===M))}if(null!=O&&O.desde||null!=O&&O.hasta){const M=O.desde||O.hasta,E=O.hasta||O.desde;if(M){const w=++this.dispoReqId;return this.dispoLoading=!0,void this.fetchUnavailableCarIdsForRange(M,E,i).subscribe({next:L=>{if(w!==this.dispoReqId)return;const C=i.filter(F=>{var R,S;const D=String(null!==(R=null!==(S=null==F?void 0:F._id)&&void 0!==S?S:null==F?void 0:F.id)&&void 0!==R?R:"");return D&&!L.has(D)});"todos"===this.vistaActiva?(this.todosFiltrados=C,this.totalTodos=this.todosFiltrados.length,this.paginaTodosActual=1,this.calcularPaginacion("todos")):(this.miosFiltrados=C,this.totalMios=this.miosFiltrados.length,this.paginaMiosActual=1,this.calcularPaginacion("mios")),this.dispoLoading=!1},error:()=>{this.dispoLoading=!1}})}}"todos"===this.vistaActiva?(this.todosFiltrados=i,this.totalTodos=this.todosFiltrados.length,this.paginaTodosActual=1,this.calcularPaginacion("todos")):(this.miosFiltrados=i,this.totalMios=this.miosFiltrados.length,this.paginaMiosActual=1,this.calcularPaginacion("mios"))}fetchUnavailableCarIdsForRange(e,o,i=[]){const a=this.dayStart(e),h=this.dayEnd(o||e),p={desde:a.toISOString(),hasta:h.toISOString(),page:1,limit:5e3,sort:"fechaInicio:asc"},P=["pendiente","aceptada","en_curso"].map(C=>this.reservaService.listarBookings({...p,estatus:C}).pipe((0,l.T)(F=>(null==F?void 0:F.bookings)||[]),(0,$.W)(()=>(0,U.of)([])))),T=this.buildYmdList(a,h),k=new Set;for(const C of i){var M,E;const F=String(null!==(M=null!==(E=null==C?void 0:C._id)&&void 0!==E?E:null==C?void 0:C.id)&&void 0!==M?M:"");if(!F)continue;const R=Array.isArray(null==C?void 0:C.excepcionesNoDisponibles)?C.excepcionesNoDisponibles:[];R.length&&this.excepcionesIntersectan(R,a,h)&&k.add(F)}const w=i.map(C=>{var F,R;return String(null!==(F=null!==(R=null==C?void 0:C._id)&&void 0!==R?R:null==C?void 0:C.id)&&void 0!==F?F:"")}).filter(C=>C&&!k.has(C)),L=w.length?(0,c.p)(w.map(C=>this.rentaService.diasNoDisponibles(C).pipe((0,l.T)(F=>F.some(R=>T.has(R))?C:null),(0,$.W)(()=>(0,U.of)(null))))).pipe((0,l.T)(C=>new Set(C.filter(Boolean)))):(0,U.of)(new Set);return(0,c.p)(P).pipe((0,X.n)(C=>{const F=[].concat(...C),R=new Set;for(const S of F){const D=this.getCarIdFromBooking(S);if(!D)continue;const Q=this.dayStart(S.fechaInicio),Z=this.dayEnd(S.fechaFin);this.overlap(a,h,Q,Z)&&R.add(D)}for(const S of k)R.add(S);return L.pipe((0,l.T)(S=>{for(const D of S)R.add(D);return R}))}))}buildYmdList(e,o){const i=new Set,a=new Date(e);for(;a.getTime()<=o.getTime();)i.add(this.toISOyyyyMMdd(a)),a.setDate(a.getDate()+1);return i}excepcionesIntersectan(e,o,i){for(const a of e){if(null==a||!a.inicio||null==a||!a.fin)continue;const h=this.dayStart(a.inicio),p=this.dayEnd(a.fin);if(this.overlap(o,i,h,p))return!0}return!1}getCarIdFromBooking(e){var o,i,a;const h=null==e?void 0:e.rentalCar;return String(null!==(o=null!==(i=null!==(a=null==h?void 0:h._id)&&void 0!==a?a:null==h?void 0:h.id)&&void 0!==i?i:h)&&void 0!==o?o:"").trim()}overlap(e,o,i,a){return e<=a&&i<=o}dayStart(e){const o="string"==typeof e?this.asLocalDateOnly(e):new Date(e);return o.setHours(0,0,0,0),o}dayEnd(e){const o="string"==typeof e?this.asLocalDateOnly(e):new Date(e);return o.setHours(23,59,59,999),o}isCarAvailableLocal(e,o,i){const a=p=>{var O,P,T,k,M,E,w,L,C,F,R;const S=null!==(O=null!==(P=null!==(T=null!==(k=null!==(M=null!==(E=null==p?void 0:p.inicio)&&void 0!==E?E:null==p?void 0:p.ini)&&void 0!==M?M:null==p?void 0:p.from)&&void 0!==k?k:null==p?void 0:p.startDate)&&void 0!==T?T:null==p?void 0:p.start)&&void 0!==P?P:null==p?void 0:p.desde)&&void 0!==O?O:null==p?void 0:p.fechaInicio,D=null!==(w=null!==(L=null!==(C=null!==(F=null!==(R=null==p?void 0:p.fin)&&void 0!==R?R:null==p?void 0:p.hasta)&&void 0!==F?F:null==p?void 0:p.to)&&void 0!==C?C:null==p?void 0:p.endDate)&&void 0!==L?L:null==p?void 0:p.end)&&void 0!==w?w:null==p?void 0:p.fechaFin;return S&&D?{ini:this.dayStart(S),fin:this.dayEnd(D)}:null},h=[...Array.isArray(null==e?void 0:e.reservas)?e.reservas.filter(p=>"cancelada"!==(null==p?void 0:p.estatus)):[],...Array.isArray(null==e?void 0:e.bloqueos)?e.bloqueos:[],...Array.isArray(null==e?void 0:e.noDisponibilidad)?e.noDisponibilidad:[],...Array.isArray(null==e?void 0:e.excepciones)?e.excepciones:[],...Array.isArray(null==e?void 0:e.excepcionesNoDisponibles)?e.excepcionesNoDisponibles:[]];for(const p of h){const O=a(p);if(O&&this.overlap(o,i,O.ini,O.fin))return!1}return!0}calcularPaginacion(e){const i=Math.max(1,Math.ceil(("todos"===e?this.todosFiltrados:this.miosFiltrados).length/this.itemsPorPagina));"todos"===e?(this.totalPaginasTodos=i,this.mostrarPagina("todos",this.paginaTodosActual)):(this.totalPaginasMios=i,this.mostrarPagina("mios",this.paginaMiosActual))}mostrarPagina(e,o){const i="todos"===e?this.todosFiltrados:this.miosFiltrados,a="todos"===e?this.totalPaginasTodos:this.totalPaginasMios,h=Math.min(Math.max(1,o),a),p=(h-1)*this.itemsPorPagina,P=i.slice(p,p+this.itemsPorPagina);"todos"===e?(this.paginaTodosActual=h,this.todosPaginados=P):(this.paginaMiosActual=h,this.miosPaginados=P)}cambiarPagina(e,o){const i="number"==typeof o?o:Number(o);Number.isFinite(i)&&(this.mostrarPagina(e,i),setTimeout(()=>{var a;return null===(a=this.pageContent)||void 0===a?void 0:a.scrollToTop(400)},100))}onCardClick(e){var i,a,h,o;"cliente"!==this.userRol?this.esMio(e)?(this.modalCarId=null!==(i=null!==(a=null==e?void 0:e._id)&&void 0!==a?a:null==e?void 0:e.id)&&void 0!==i?i:null,this.modalOpen=!!this.modalCarId):this.router.navigate(["/renta-ficha",null!==(h=e._id)&&void 0!==h?h:e.id]):this.router.navigate(["/renta-ficha",null!==(o=e._id)&&void 0!==o?o:e.id])}esMio(e){var o,i,a;const h=String(null!==(o=null!==(i=null==e?void 0:e._id)&&void 0!==i?i:null==e?void 0:e.id)&&void 0!==o?o:"");if(h&&this.myCarIds.has(h))return!0;const p=(null==e?void 0:e.propietarioId)||(null==e||null===(a=e.propietario)||void 0===a?void 0:a._id)||(null==e?void 0:e.ownerId)||(null==e?void 0:e.userId)||null;return!(!p||!this.currentUserId)&&String(p)===String(this.currentUserId)}getEsMio(e){return this.esMio(e)}refrescar(e){const o=()=>e.target.complete();"mios"===this.vistaActiva&&this.isLoggedIn&&"cliente"!==this.userRol?(this.cargarMios(),setTimeout(o,300)):(this.cargarTodos(),setTimeout(o,300))}goToFicha(){this.modalCarId&&(this.pendingNav=["/renta-ficha",this.modalCarId],this.modalOpen=!1)}goToDisponibilidad(){this.modalCarId&&(this.pendingNav=["/disponibilidad-car",this.modalCarId],this.modalOpen=!1)}closeModal(){this.modalOpen=!1}onModalDismiss(){const e=this.pendingNav;this.pendingNav=null,this.modalCarId=null,e&&this.router.navigate(e)}ionViewWillEnter(){this.refreshCurrentUserId(),!this.estadoQP&&!this.ciudadQP&&this.cargarTodos(),this.isLoggedIn&&"cliente"!==this.userRol?this.cargarMios():(this.miosStorage=[],this.totalMios=0),this.paginaTodosActual=1,this.paginaMiosActual=1,this.aplicarFiltros()}openModalFechas(){this.tempFechasSeleccionadas=[...this.fechasSeleccionadas],this.tempBuildHighlightedRange(),this.modalFechasOpen=!0}closeModalFechas(){this.modalFechasOpen=!1}aplicarRango(){if(this.fechasSeleccionadas=[...this.tempFechasSeleccionadas],!this.fechasSeleccionadas.length)return this.highlightedRange=[],this.rangoTexto="",this.filtrosAplicados.disponibilidad=null,this.aplicarFiltros(),void this.closeModalFechas();const e=[...this.fechasSeleccionadas].sort(),o=e[0],i=e[1]||e[0];this.rebuildHighlightAndText(),this.filtrosAplicados.disponibilidad={desde:o,hasta:i},this.aplicarFiltros(),this.closeModalFechas()}limpiarFechas(){this.fechasSeleccionadas=[],this.highlightedRange=[],this.rangoTexto="",this.filtrosAplicados.disponibilidad=null,this.aplicarFiltros()}limpiarTemp(){this.tempFechasSeleccionadas=[],this.tempHighlightedRange=[]}onTempRangoChange(){this.tempFechasSeleccionadas.length>2&&(this.tempFechasSeleccionadas=this.tempFechasSeleccionadas.slice(-2)),this.tempBuildHighlightedRange()}toLocalISODate(e=new Date){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}asLocalDateOnly(e){const o=(e||"").slice(0,10),[i,a,h]=o.split("-").map(p=>parseInt(p,10));return new Date(i,a-1,h)}toISOyyyyMMdd(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}buildHighlightedRangeCore(e){const o=[];if(null==e||!e.length)return o;const i=[...e].sort();let a=this.asLocalDateOnly(i[0]),h=this.asLocalDateOnly(i[i.length-1]);h<a&&([a,h]=[h,a]);const p=this.getCssVar("--ion-color-danger","#e50914"),O=this.toRgba(p,.28),P=this.toRgba(p,.85),k=new Date(a);let M=0;const E=Math.floor((h.getTime()-a.getTime())/864e5)+1;for(;k<=h;){const w=0===M||M===E-1;o.push({date:this.toISOyyyyMMdd(k),backgroundColor:w?P:O,textColor:"#ffffff"}),k.setDate(k.getDate()+1),M++}return o}tempBuildHighlightedRange(){this.tempHighlightedRange=this.buildHighlightedRangeCore(this.tempFechasSeleccionadas)}rebuildHighlightAndText(){if(this.highlightedRange=this.buildHighlightedRangeCore(this.fechasSeleccionadas),!this.fechasSeleccionadas.length)return void(this.rangoTexto="");const e=[...this.fechasSeleccionadas].sort(),o=this.formatDMY(e[0]),i=this.formatDMY(e[1]||e[0]);this.rangoTexto=o===i?o:`${o} \u2013 ${i}`}formatDMY(e){const o=this.asLocalDateOnly(e);return new Intl.DateTimeFormat("es-MX",{day:"2-digit",month:"2-digit",year:"numeric"}).format(o)}getCssVar(e,o="#e50914"){return getComputedStyle(document.documentElement).getPropertyValue(e).trim()||o}toRgba(e,o=1){if(e.startsWith("rgb"))return e.replace(")",`, ${o})`).replace("rgb(","rgba(");const i=e.replace("#",""),a=3===i.length?i.split("").map(P=>P+P).join(""):i.padEnd(6,"0");return`rgba(${parseInt(a.slice(0,2),16)}, ${parseInt(a.slice(2,4),16)}, ${parseInt(a.slice(4,6),16)}, ${o})`}get paginasReducidasTodos(){return this.buildPaginasReducidas(this.paginaTodosActual,this.totalPaginasTodos)}get paginasReducidasMios(){return this.buildPaginasReducidas(this.paginaMiosActual,this.totalPaginasMios)}esNumero(e){return"number"==typeof e}buildPaginasReducidas(e,o){if(o<=2)return Array.from({length:o},(h,p)=>p+1);const a=[];a.push(1),e-1>2&&a.push("...");for(let h=Math.max(2,e-1);h<=Math.min(o-1,e+1);h++)a.push(h);return e+1<o-1&&a.push("..."),a.push(o),a}}return(d=v).\u0275fac=function(e){return new(e||d)(t.rXU(s.w),t.rXU(b.IE),t.rXU(u.O),t.rXU(y.Ix),t.rXU(r.o),t.rXU(y.nX))},d.\u0275cmp=t.VBU({type:d,selectors:[["app-renta-coches"]],viewQuery:function(e,o){if(1&e&&t.GBs(I,5),2&e){let i;t.mGM(i=t.lsd())&&(o.pageContent=i.first)}},standalone:!1,decls:27,vars:15,consts:[["pageContent",""],["sinRango",""],[1,"contenido-ios",3,"fullscreen"],["slot","fixed",3,"ionRefresh"],[3,"ordenCambio","totalAutos","titulo"],[1,"contenedor-catalogo-ios"],["size","12","size-md","3"],[3,"mostrarOpciones","limpiarFiltros","filtros","filtrosAplicados"],[1,"filtro-card"],["class","resumen-rango",4,"ngIf","ngIfElse"],["size","12","size-md","9"],[1,"segment-woaw-ios",3,"ngModelChange","ionChange","ngModel"],["value","todos"],["value","mios",4,"ngIf"],[4,"ngIf"],["mode","md",1,"mio-modal",3,"didDismiss","isOpen","backdropDismiss"],["mode","md",1,"modal-calendario",3,"didDismiss","isOpen"],[1,"resumen-rango"],["color","danger"],["name","calendar-outline"],[1,"acciones"],["color","dark","size","small",3,"click"],["color","danger","size","small","fill","outline",3,"click"],["expand","block","color","danger",3,"click"],["value","mios"],["name","crescent","class","loading-spinner",4,"ngIf"],["class","no-coches",4,"ngIf"],["class","cards-grid",4,"ngIf"],["class","contenedor-paginacion-ios",4,"ngIf"],["name","crescent",1,"loading-spinner"],[1,"no-coches"],["name","car-outline",1,"icono-carro"],[1,"cards-grid"],["class","veh-card","tabindex","0",3,"click","keyup.enter",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0",1,"veh-card",3,"click","keyup.enter"],["class","badge",4,"ngIf"],[1,"img-wrap"],["loading","lazy",3,"src","alt"],[1,"title"],[1,"price"],[1,"meta"],["class","meta-item",4,"ngIf"],[1,"accent-bar"],[1,"badge"],[1,"meta-item"],["name","speedometer-outline"],["name","settings-outline"],[1,"contenedor-paginacion-ios"],[1,"titulo-paginacion-ios"],[1,"paginacion-scroll-ios"],[1,"paginacion-ios"],[1,"pagina-ios",3,"click","disabled"],[4,"ngFor","ngForOf"],["class","pagina-ios",3,"activa","click",4,"ngIf"],["class","ellipsis-ios",4,"ngIf"],[1,"pagina-ios",3,"click"],[1,"ellipsis-ios"],[1,"mio-modal__box"],[1,"mio-modal__title"],[1,"mio-modal__msg"],[1,"mio-modal__actions"],["expand","block","color","dark",3,"click"],["expand","block","fill","solid",1,"mio-modal__cancel",3,"click"],["translucent","true"],["slot","end"],["color","danger","aria-label","Cerrar",3,"click"],["name","close-outline"],[1,"contenedor-datetime"],["lines","none",1,"center-item","danger-datetime"],[1,"sr-only"],["color","danger","multiple","true","presentation","date","locale","es-ES","show-default-buttons","false",3,"ngModelChange","ionChange","ngModel","min","highlightedDates"],["slot","start"],["fill","outline","color","danger",3,"click"],["color","danger",3,"click"],["color","dark",3,"click"]],template:function(e,o){if(1&e){const i=t.RV6();t.nrm(0,"app-navbar"),t.j41(1,"ion-content",2,0)(3,"ion-refresher",3),t.bIt("ionRefresh",function(h){return t.eBV(i),t.Njj(o.refrescar(h))}),t.nrm(4,"ion-refresher-content"),t.k0s(),t.j41(5,"app-acomodo",4),t.bIt("ordenCambio",function(h){return t.eBV(i),t.Njj(o.ordenarAutos(h))}),t.k0s(),t.j41(6,"ion-grid",5)(7,"ion-row")(8,"ion-col",6)(9,"app-menu",7),t.bIt("mostrarOpciones",function(h){return t.eBV(i),t.Njj(o.mostrarOpciones(h.event,h.tipo))})("limpiarFiltros",function(){return t.eBV(i),t.Njj(o.resetearFiltros())}),t.k0s(),t.j41(10,"ion-card",8)(11,"ion-card-content"),t.DNE(12,H,10,1,"div",9)(13,W,2,0,"ng-template",null,1,t.C5r),t.k0s()()(),t.j41(15,"ion-col",10)(16,"ion-segment",11),t.mxI("ngModelChange",function(h){return t.eBV(i),t.DH7(o.vistaActiva,h)||(o.vistaActiva=h),t.Njj(h)}),t.bIt("ionChange",function(){return t.eBV(i),t.Njj(o.onSegmentChange())}),t.j41(17,"ion-segment-button",12)(18,"ion-label"),t.EFF(19),t.k0s()(),t.DNE(20,J,3,1,"ion-segment-button",13),t.k0s(),t.DNE(21,dt,5,4,"ng-container",14)(22,Pt,4,3,"ng-container",14),t.k0s()()()(),t.j41(23,"ion-modal",15),t.bIt("didDismiss",function(){return t.eBV(i),t.Njj(o.onModalDismiss())}),t.DNE(24,kt,12,0,"ng-template"),t.k0s(),t.j41(25,"ion-modal",16),t.bIt("didDismiss",function(){return t.eBV(i),t.Njj(o.closeModalFechas())}),t.DNE(26,xt,23,3,"ng-template"),t.k0s()}if(2&e){const i=t.sdS(14);t.R7$(),t.Y8G("fullscreen",!0),t.R7$(4),t.Y8G("totalAutos","todos"===o.vistaActiva?o.totalTodos:o.totalMios)("titulo","Renta de autos"),t.R7$(4),t.Y8G("filtros",o.filtros)("filtrosAplicados",o.filtrosAplicados),t.R7$(3),t.Y8G("ngIf",o.rangoTexto)("ngIfElse",i),t.R7$(4),t.R50("ngModel",o.vistaActiva),t.R7$(3),t.SpI("Todos (",o.totalTodos,")"),t.R7$(),t.Y8G("ngIf",o.isLoggedIn&&"cliente"!==o.userRol),t.R7$(),t.Y8G("ngIf","todos"===o.vistaActiva),t.R7$(),t.Y8G("ngIf","mios"===o.vistaActiva),t.R7$(),t.Y8G("isOpen",o.modalOpen)("backdropDismiss",!0),t.R7$(2),t.Y8G("isOpen",o.modalFechasOpen)}},dependencies:[A.Sq,A.bT,G.BC,G.vS,b.Jm,b.QW,b.b_,b.I9,b.ZB,b.hU,b.W9,b.A9,b.M0,b.lO,b.eU,b.iq,b.uz,b.he,b.To,b.Ki,b.ln,b.Gp,b.eP,b.w2,b.BC,b.ai,b.Sb,b.Je,g._,_.Z,m.E,A.QX,A.oe],styles:['@charset "UTF-8";.contenido-ios[_ngcontent-%COMP%]{--background: #f2f2f7;font-family:-apple-system,BlinkMacSystemFont,SF Pro Text,sans-serif}.contenedor-catalogo-ios[_ngcontent-%COMP%]{max-width:1100px;width:100%;margin:0 auto;padding:0 12px 20px}.segment-woaw-ios[_ngcontent-%COMP%]{margin:6px 12px 8px;border-radius:999px;padding:3px;background:#e5e5ea;--background: transparent;--indicator-color: #ffffff;--indicator-height: 28px;--color: #3c3c43;--color-checked: #ffffff}.segment-woaw-ios[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{text-transform:none;font-weight:600;font-size:13px;letter-spacing:.2px;min-height:32px;--color-checked: #007aff;--indicator-color: #ffffff}.cards-grid[_ngcontent-%COMP%]{display:grid;gap:14px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}@media (min-width: 1400px){.cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}}@media (max-width: 768px){.cards-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}}@media (max-width: 360px){.cards-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.veh-card[_ngcontent-%COMP%]{position:relative;border-radius:16px;overflow:hidden;box-shadow:0 8px 22px #0000001a,0 0 0 .4px #ffffffe6;background:#fff;transition:transform .18s ease,box-shadow .18s ease;cursor:pointer;width:100%;min-width:0}.veh-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 12px 26px #00000024,0 0 0 .4px #ffffffe6}.veh-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:12px 14px 14px}.badge[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;z-index:2;background:#ff3b30;color:#fff;font-size:11px;font-weight:700;padding:4px 9px;border-radius:999px;box-shadow:0 4px 10px #00000040}.img-wrap[_ngcontent-%COMP%]{width:100%;aspect-ratio:16/9;background:#f5f5f7}.img-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}@media (min-width: 1200px){.img-wrap[_ngcontent-%COMP%]{aspect-ratio:16/10}}.title[_ngcontent-%COMP%]{font-size:clamp(14px,1.6vw,16px);font-weight:700;color:#111827}.price[_ngcontent-%COMP%]{font-size:clamp(14px,1.4vw,15px);font-weight:800;margin-bottom:8px;color:#ff3b30}.meta[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;grid-auto-columns:1fr;gap:8px;align-items:center;margin-bottom:10px}.meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:clamp(11px,1.2vw,12px);color:#6b7280}.meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.meta[_ngcontent-%COMP%]   .meta-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.accent-bar[_ngcontent-%COMP%]{height:3px;width:100%;background:linear-gradient(90deg,#ff3b30,#111827);border-radius:0 0 16px 16px;opacity:.8;margin-top:6px}@media (max-width: 768px){.veh-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:10px 12px}.title[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{font-size:14px}}.loading-spinner[_ngcontent-%COMP%]{display:block;margin:40px auto;width:48px;height:48px}.no-coches[_ngcontent-%COMP%]{text-align:center;margin-top:60px;color:#6b7280}.no-coches[_ngcontent-%COMP%]   .icono-carro[_ngcontent-%COMP%]{font-size:64px;color:#ff3b30}.no-coches[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin:12px 0 6px;color:#111827}.no-coches[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.contenedor-paginacion-ios[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-top:18px;padding-bottom:10px}.titulo-paginacion-ios[_ngcontent-%COMP%]{margin:0 0 6px;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.12em;color:#6b7280}.paginacion-scroll-ios[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;overflow-x:auto;padding-bottom:4px;scrollbar-width:thin;scrollbar-color:rgba(148,163,184,.9) transparent}.paginacion-scroll-ios[_ngcontent-%COMP%]::-webkit-scrollbar{height:5px}.paginacion-scroll-ios[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#94a3b8e6;border-radius:999px}.paginacion-ios[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:5px 6px;border-radius:999px;background:#fffffff5;backdrop-filter:blur(12px);-webkit-backdrop-filter:blur(12px);box-shadow:0 10px 22px #0f172a29,0 0 0 .5px #ffffffe6}.pagina-ios[_ngcontent-%COMP%]{min-width:32px;height:32px;padding:0 10px;border-radius:999px;border:none;outline:none;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:13px;font-weight:600;color:#111827;background:transparent;transition:background .18s ease,color .18s ease,transform .16s ease,box-shadow .16s ease}.pagina-ios[_ngcontent-%COMP%]:disabled{opacity:.35;cursor:default}.pagina-ios[_ngcontent-%COMP%]:not(.activa):not(:disabled):hover{background:#94a3b82e;transform:translateY(-1px)}.pagina-ios.activa[_ngcontent-%COMP%]{background:#ff3b30;color:#fff;box-shadow:0 8px 18px #ff3b308c;transform:translateY(-1px)}.ellipsis-ios[_ngcontent-%COMP%]{padding:0 6px;font-size:14px;color:#9ca3af;font-weight:500}.filtro-card[_ngcontent-%COMP%]{border-radius:14px;box-shadow:0 8px 18px #0f172a1f,0 0 0 .4px #ffffffe6}.resumen-rango[_ngcontent-%COMP%]{display:grid;gap:10px}.resumen-rango[_ngcontent-%COMP%]   .acciones[_ngcontent-%COMP%]{display:flex;gap:8px}ion-modal.mio-modal[_ngcontent-%COMP%]{--background: transparent;--backdrop-opacity: .35;--height: auto;--min-height: 0;--width: auto;--border-radius: 16px;--box-shadow: none}ion-modal.mio-modal[_ngcontent-%COMP%]::part(content){display:flex;align-items:center;justify-content:center;width:min(360px,92vw);height:auto;background:transparent;border-radius:16px;box-shadow:none;padding:0}.mio-modal__box[_ngcontent-%COMP%]{width:100%;background:#fff;border-radius:16px;box-shadow:0 12px 28px #0000002e;padding:18px}.mio-modal__title[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;font-weight:800;color:#000;text-align:center}.mio-modal__msg[_ngcontent-%COMP%]{margin:0 0 16px;font-size:14px;color:#6b7280;text-align:center}.mio-modal__actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:12px}.mio-modal__actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;font-weight:800;border-radius:10px}ion-modal.mio-modal[_ngcontent-%COMP%]   .mio-modal__actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-child{--background: #0e0e11;--background-hover: #16161a;--background-activated: #0c0c0f;--background-focused: #16161a;--color: #fff;--ripple-color: rgba(255, 255, 255, .15)}ion-modal.mio-modal[_ngcontent-%COMP%]   .mio-modal__actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:last-child{--background: #ff3b30;--background-hover: color-mix(in srgb, #ff3b30 92%, black);--background-activated: color-mix(in srgb, #ff3b30 88%, black);--background-focused: color-mix(in srgb, #ff3b30 92%, black);--color: #fff;--ripple-color: color-mix(in srgb, #ff3b30 25%, white)}.mio-modal__cancel[_ngcontent-%COMP%]{font-weight:800;width:100%;text-align:center;border-radius:10px;--color: #ff3b30;--background: transparent;--background-hover: transparent;--background-activated: transparent;--background-focused: transparent;--ripple-color: color-mix(in srgb, #ff3b30 20%, transparent)}.mio-modal__cancel[_ngcontent-%COMP%]::part(native){border:2px solid #ff3b30;border-radius:10px}.modal-calendario[_ngcontent-%COMP%]::part(content){border-radius:14px;max-width:720px;margin:auto}.contenedor-datetime[_ngcontent-%COMP%]{padding:12px}.center-item[_ngcontent-%COMP%]{width:100%;--padding-start: 0;--padding-end: 0;--inner-padding-start: 0;--inner-padding-end: 0}.center-item[_ngcontent-%COMP%]::part(native){display:flex;flex-direction:column;align-items:center}.center-item[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.danger-datetime[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #ef444426;border-radius:14px}ion-datetime[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::part(calendar-day){border-radius:6px;font-weight:500}ion-datetime[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::part(calendar-day-active), ion-datetime[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::part(calendar-day-selected){background:#ff3b30;color:#fff;border-radius:6px}.sr-only[_ngcontent-%COMP%]{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media (min-width: 768px){app-menu[_ngcontent-%COMP%]{position:sticky;top:12px;display:block}}']}),v})()}];let Ft=(()=>{var d;class v{}return(d=v).\u0275fac=function(e){return new(e||d)},d.\u0275mod=t.$C({type:d}),d.\u0275inj=t.G2t({imports:[j.iI.forChild(Mt),j.iI]}),v})();var Ot=f(2764),Rt=f(5473);let At=(()=>{var d;class v{}return(d=v).\u0275fac=function(e){return new(e||d)},d.\u0275mod=t.$C({type:d}),d.\u0275inj=t.G2t({imports:[A.MD,G.YN,b.bv,Ft,g._,_.Z,m.E,Rt.n,Ot.B]}),v})()}}]);