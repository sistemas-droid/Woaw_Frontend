"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6138],{6138:(en,O,p)=>{p.r(O),p.d(O,{CheckoutPageModule:()=>Z});var k=p(2881),b=p(9417),u=p(7343),P=p(9870),h=p(467),x=p(980),y=p(5083),v=p(7691),n=p(1360),M=p(2381),F=p(1125);function I(i,a){if(1&i&&(n.j41(0,"ion-chip",40),n.nrm(1,"ion-icon",41),n.j41(2,"ion-label"),n.EFF(3),n.k0s()()),2&i){const o=n.XpG().ngIf;n.R7$(3),n.Lme("",null==o?null:o.marca," ",null==o?null:o.modelo,"")}}function j(i,a){if(1&i&&(n.j41(0,"ion-chip",40),n.nrm(1,"ion-icon",42),n.j41(2,"ion-label"),n.EFF(3),n.k0s()()),2&i){const o=n.XpG().ngIf;n.R7$(3),n.JRh(null==o?null:o.transmision)}}function w(i,a){if(1&i&&(n.j41(0,"ion-chip",40),n.nrm(1,"ion-icon",43),n.j41(2,"ion-label"),n.EFF(3),n.k0s()()),2&i){const o=n.XpG().ngIf;n.R7$(3),n.JRh(null==o?null:o.combustible)}}function E(i,a){if(1&i&&(n.j41(0,"div",38),n.DNE(1,I,4,2,"ion-chip",39)(2,j,4,1,"ion-chip",39)(3,w,4,1,"ion-chip",39),n.k0s()),2&i){const o=a.ngIf;n.R7$(),n.Y8G("ngIf",(null==o?null:o.marca)||(null==o?null:o.modelo)),n.R7$(),n.Y8G("ngIf",null==o?null:o.transmision),n.R7$(),n.Y8G("ngIf",null==o?null:o.combustible)}}function R(i,a){1&i&&(n.qex(0),n.EFF(1," (eres el solicitante de esta renta) "),n.bVm())}function G(i,a){1&i&&n.EFF(0," (la reserva est\xe1 finalizada) ")}function $(i,a){if(1&i&&(n.j41(0,"ion-item",44),n.nrm(1,"ion-icon",45),n.j41(2,"ion-label"),n.EFF(3," Vista de s\xf3lo lectura "),n.DNE(4,R,2,0,"ng-container",46)(5,G,1,0,"ng-template",null,1,n.C5r),n.k0s()()),2&i){const o=n.sdS(6),t=n.XpG(2);n.R7$(4),n.Y8G("ngIf",t.viewerOnly)("ngIfElse",o)}}function T(i,a){if(1&i&&(n.j41(0,"div",31),n.EFF(1),n.k0s()),2&i){const o=n.XpG(2);n.R7$(),n.SpI(" ",o.existingUrls.length," en la reserva ")}}function U(i,a){1&i&&(n.j41(0,"div",31),n.EFF(1,"No hay fotos de check-out guardadas"),n.k0s())}function A(i,a){if(1&i&&(n.j41(0,"div",49),n.nrm(1,"ion-img",50),n.k0s()),2&i){const o=a.$implicit;n.R7$(),n.Y8G("src",o)}}function L(i,a){if(1&i&&(n.j41(0,"div",47),n.DNE(1,A,2,1,"div",48),n.k0s()),2&i){const o=n.XpG(2);n.R7$(),n.Y8G("ngForOf",o.existingUrls)("ngForTrackBy",o.trackByUrl)}}function X(i,a){if(1&i&&(n.j41(0,"span",59),n.EFF(1),n.k0s()),2&i){const o=n.XpG(3);n.R7$(),n.SpI("",o.files.length," seleccionadas")}}function N(i,a){1&i&&(n.j41(0,"span",59),n.EFF(1,"Sin archivos seleccionados"),n.k0s())}function z(i,a){if(1&i&&(n.j41(0,"div",60),n.nrm(1,"ion-icon",61),n.j41(2,"span"),n.EFF(3),n.k0s()()),2&i){const o=n.XpG(3);n.R7$(3),n.JRh(o.fileError)}}function Y(i,a){if(1&i){const o=n.RV6();n.j41(0,"div",49),n.nrm(1,"ion-img",62),n.j41(2,"ion-button",63),n.bIt("click",function(){const e=n.eBV(o).index,r=n.XpG(4);return n.Njj(r.quitarFotoNueva(e))}),n.nrm(3,"ion-icon",64),n.k0s()()}if(2&i){const o=a.$implicit;n.R7$(),n.Y8G("src",o)}}function B(i,a){if(1&i&&(n.j41(0,"div",47),n.DNE(1,Y,4,1,"div",48),n.k0s()),2&i){const o=n.XpG(3);n.R7$(),n.Y8G("ngForOf",o.previewUrls)("ngForTrackBy",o.trackByUrl)}}function D(i,a){if(1&i){const o=n.RV6();n.j41(0,"div",24)(1,"div",25)(2,"div",26),n.EFF(3,"Agregar fotos"),n.k0s(),n.j41(4,"div",31),n.EFF(5,"Hasta 12 im\xe1genes"),n.k0s()(),n.j41(6,"div",51)(7,"input",52,2),n.bIt("change",function(e){n.eBV(o);const r=n.XpG(2);return n.Njj(r.onFiles(e))}),n.k0s(),n.j41(9,"ion-button",53),n.bIt("click",function(){n.eBV(o);const e=n.sdS(8),r=n.XpG(2);return n.Njj(r.abrirSelectorFotos(e))}),n.nrm(10,"ion-icon",54),n.EFF(11," Elegir archivos "),n.k0s(),n.j41(12,"ion-button",55),n.bIt("click",function(){n.eBV(o);const e=n.XpG(2);return n.Njj(e.tomarFotoCapacitor())}),n.nrm(13,"ion-icon",56),n.EFF(14," Tomar foto "),n.k0s(),n.DNE(15,X,2,1,"span",57)(16,N,2,0,"span",57),n.k0s(),n.DNE(17,z,4,1,"div",58)(18,B,2,2,"div",34),n.k0s()}if(2&i){const o=n.XpG(2);n.R7$(15),n.Y8G("ngIf",null==o.files?null:o.files.length),n.R7$(),n.Y8G("ngIf",!(null!=o.files&&o.files.length)),n.R7$(),n.Y8G("ngIf",o.fileError),n.R7$(),n.Y8G("ngIf",null==o.previewUrls?null:o.previewUrls.length)}}function S(i,a){if(1&i){const o=n.RV6();n.j41(0,"ion-button",65),n.bIt("click",function(){n.eBV(o);const e=n.XpG(2);return n.Njj(e.continuar())}),n.EFF(1," VOLVER "),n.k0s()}}function V(i,a){1&i&&n.nrm(0,"ion-spinner",68)}function W(i,a){1&i&&(n.j41(0,"span"),n.EFF(1,"GUARDAR Y FINALIZAR"),n.k0s())}function q(i,a){if(1&i){const o=n.RV6();n.qex(0),n.j41(1,"ion-button",66),n.bIt("click",function(){n.eBV(o);const e=n.XpG(2);return n.Njj(e.guardarYFinalizar())}),n.DNE(2,V,1,0,"ion-spinner",67)(3,W,2,0,"span",14),n.k0s(),n.j41(4,"ion-button",65),n.bIt("click",function(){n.eBV(o);const e=n.XpG(2);return n.Njj(e.continuar())}),n.EFF(5,"VOLVER"),n.k0s(),n.bVm()}if(2&i){const o=n.XpG(2);n.R7$(),n.Y8G("disabled",o.loading.finalizar||o.loading.fotos||o.loading.booking),n.R7$(),n.Y8G("ngIf",o.loading.finalizar),n.R7$(),n.Y8G("ngIf",!o.loading.finalizar)}}function J(i,a){if(1&i){const o=n.RV6();n.qex(0),n.j41(1,"ion-card",15)(2,"ion-card-header",16)(3,"div",17)(4,"span",18),n.EFF(5,"Reserva "),n.j41(6,"b"),n.EFF(7),n.k0s()(),n.j41(8,"ion-badge",19),n.EFF(9),n.k0s()(),n.j41(10,"ion-card-subtitle",20),n.EFF(11),n.nI1(12,"date"),n.nI1(13,"date"),n.k0s(),n.DNE(14,E,4,3,"div",21)(15,$,7,2,"ion-item",22),n.k0s(),n.j41(16,"ion-card-content",23)(17,"div",24)(18,"div",25)(19,"div",26),n.EFF(20,"Combustible"),n.k0s(),n.j41(21,"div",27),n.EFF(22),n.k0s()(),n.j41(23,"ion-range",28),n.mxI("ngModelChange",function(e){n.eBV(o);const r=n.XpG();return n.DH7(r.combustible,e)||(r.combustible=e),n.Njj(e)}),n.nrm(24,"ion-icon",29)(25,"ion-icon",30),n.k0s()(),n.j41(26,"div",24)(27,"div",25)(28,"div",26),n.EFF(29,"Notas"),n.k0s(),n.j41(30,"div",31),n.EFF(31,"Da\xf1os, accesorios, kilometraje, etc."),n.k0s()(),n.j41(32,"ion-textarea",32),n.mxI("ngModelChange",function(e){n.eBV(o);const r=n.XpG();return n.DH7(r.notas,e)||(r.notas=e),n.Njj(e)}),n.k0s()(),n.j41(33,"div",24)(34,"div",25)(35,"div",26),n.EFF(36,"Fotos guardadas"),n.k0s(),n.DNE(37,T,2,1,"div",33)(38,U,2,0,"ng-template",null,0,n.C5r),n.k0s(),n.DNE(40,L,2,2,"div",34),n.k0s(),n.DNE(41,D,19,4,"div",35),n.k0s(),n.j41(42,"div",36),n.DNE(43,S,2,0,"ion-button",37)(44,q,6,3,"ng-container",14),n.k0s()(),n.bVm()}if(2&i){const o=a.ngIf,t=n.sdS(39),e=n.XpG();n.R7$(7),n.SpI("#",o.codigo||o._id,""),n.R7$(),n.Y8G("color",o.estatus||"primary"),n.R7$(),n.JRh(o.estatus),n.R7$(2),n.Lme(" ",n.i5U(12,21,o.fechaInicio,"medium")," \u2192 ",n.i5U(13,24,o.fechaFin,"medium")," "),n.R7$(3),n.Y8G("ngIf",e.getRentalCar(o)),n.R7$(),n.Y8G("ngIf",e.soloLectura),n.R7$(7),n.SpI("",e.combustible,"%"),n.R7$(),n.R50("ngModel",e.combustible),n.Y8G("pin",!0)("snaps",!0)("ticks",!1)("disabled",e.soloLectura),n.R7$(9),n.R50("ngModel",e.notas),n.Y8G("readonly",e.soloLectura),n.R7$(5),n.Y8G("ngIf",null==e.existingUrls?null:e.existingUrls.length)("ngIfElse",t),n.R7$(3),n.Y8G("ngIf",null==e.existingUrls?null:e.existingUrls.length),n.R7$(),n.Y8G("ngIf",!e.soloLectura),n.R7$(2),n.Y8G("ngIf",e.soloLectura),n.R7$(),n.Y8G("ngIf",!e.soloLectura)}}const H=[{path:"",component:(()=>{var i;class a{constructor(t,e,r,c,l){this.route=t,this.router=e,this.reservas=r,this.cdr=c,this.toast=l,this.combustible=100,this.notas="",this.files=[],this.previewUrls=[],this.existingUrls=[],this.fileError="",this.errors=[],this.loading={booking:!1,fotos:!1,finalizar:!1},this.viewerOnly=!1,this.RUTA_LISTADO="/mis-reservas",this.MAX_FILES=12,this.MAX_MB_PER_FILE=8}ngOnInit(){this.route.paramMap.subscribe(t=>{const e=t.get("id");(!this.id||this.id!==e)&&(this.id=e,this.cargar())})}volver(){try{if(window.history.length>2)return history.back()}catch{}this.router.navigate(["/mis-reservas"])}cerrar(){this.volver()}ionViewWillEnter(){this.id&&this.cargar()}ngOnDestroy(){this.revokePreviews()}get soloLectura(){var t;return this.viewerOnly||"finalizada"===(null===(t=this.booking)||void 0===t?void 0:t.estatus)}leerUsuario(){try{const t=localStorage.getItem("user");if(!t)return{id:null};const e=JSON.parse(t);return{id:(null==e?void 0:e._id)||(null==e?void 0:e.id)||(null==e?void 0:e.uid)||(null==e?void 0:e.userId)||(null==e?void 0:e.usuarioId)||null}}catch{return{id:null}}}soySolicitante(t){const e=this.leerUsuario().id;if(!e||!t)return!1;const r=t.usuario;return!!r&&("string"==typeof r?r===e:((null==r?void 0:r._id)||(null==r?void 0:r.id)||(null==r?void 0:r.uid)||(null==r?void 0:r.userId)||null)===e)}cargar(){this.loading.booking=!0,this.cdr.markForCheck(),this.reservas.getBookingById(this.id).pipe((0,x.j)(()=>{this.loading.booking=!1,this.cdr.markForCheck()})).subscribe({next:t=>{var e,r,c,l;this.booking=t,this.viewerOnly=this.soySolicitante(t),null!=(null==t||null===(e=t.checkOut)||void 0===e?void 0:e.combustible)&&(this.combustible=t.checkOut.combustible),null!=t&&null!==(r=t.checkOut)&&void 0!==r&&r.notas&&(this.notas=t.checkOut.notas);const s=null!==(c=null==t||null===(l=t.checkOut)||void 0===l?void 0:l.fotos)&&void 0!==c?c:[],g=Array.isArray(s)?s:"string"==typeof s?s.split(","):[];this.existingUrls=g.map(_=>(_||"").trim()).filter(Boolean),this.cdr.markForCheck()},error:()=>this.cdr.markForCheck()})}getRentalCar(t){const e=null==t?void 0:t.rentalCar;return e&&"object"==typeof e?e:null}abrirSelectorFotos(t){this.soloLectura||t.click()}onFiles(t){var e=this;return(0,h.A)(function*(){var r;if(e.soloLectura)return;const c=t.target,l=null!==(r=null==c?void 0:c.files)&&void 0!==r?r:null,s=l?Array.from(l):[];e.fileError="",e.errors=[],s.length>e.MAX_FILES&&e.errors.push(`M\xe1ximo ${e.MAX_FILES} fotos.`);const g=[];for(const d of s.slice(0,e.MAX_FILES))d.type.startsWith("image/")?d.size/1048576>e.MAX_MB_PER_FILE?e.errors.push(`"${d.name}" supera ${e.MAX_MB_PER_FILE} MB.`):g.push(d):e.errors.push(`"${d.name}" no es imagen.`);if(e.errors.length)return e.fileError=e.errors.join(" "),e.files=[],e.refreshPreviews(),e.cdr.markForCheck(),void(c&&(c.value=""));const _=[];for(const d of g)_.push(yield e.compressImageSafe(d));e.files=_,e.refreshPreviews(),e.cdr.markForCheck(),c&&(c.value="")})()}refreshPreviews(){this.revokePreviews(),this.previewUrls=(this.files||[]).map(t=>URL.createObjectURL(t))}revokePreviews(){this.previewUrls.forEach(t=>URL.revokeObjectURL(t)),this.previewUrls=[]}quitarFotoNueva(t){if(this.soloLectura)return;const e=[...this.files];e.splice(t,1),this.files=e,this.refreshPreviews(),this.cdr.markForCheck()}trackByUrl(t,e){return e||t}subirFotos(){var t,r,e=this;this.soloLectura||null===(t=this.booking)||void 0===t||!t._id||0===this.files.length||this.fileError||(this.loading.fotos=!0,this.cdr.markForCheck(),this.reservas.setCheckOut(this.booking._id,this.files).pipe((0,x.j)(()=>{this.loading.fotos=!1,this.cdr.markForCheck()})).subscribe({next:(r=(0,h.A)(function*(c){var l,s;e.booking=c.booking;const g=null!==(l=null==c||null===(s=c.booking)||void 0===s||null===(s=s.checkOut)||void 0===s?void 0:s.fotos)&&void 0!==l?l:[],_=Array.isArray(g)?g:"string"==typeof g?g.split(","):[];e.existingUrls=_.map(d=>(d||"").trim()).filter(Boolean),e.files=[],e.refreshPreviews(),yield e.showToast("Fotos de check-out subidas")}),function(l){return r.apply(this,arguments)}),error:function(){var r=(0,h.A)(function*(){yield e.showToast("No se pudieron subir las fotos","danger")});return function(){return r.apply(this,arguments)}}()}))}guardarYFinalizar(){var t=this;return(0,h.A)(function*(){var e;if(!t.soloLectura&&null!==(e=t.booking)&&void 0!==e&&e._id&&!t.fileError){t.loading.finalizar=!0,t.cdr.markForCheck();try{var r;const c={fecha:(new Date).toISOString(),combustible:t.combustible,notas:(null!==(r=t.notas)&&void 0!==r?r:"").trim()};yield new Promise((l,s)=>{t.reservas.setCheckOut(t.booking._id,t.files,c).subscribe({next:g=>{var _,d;t.booking=g.booking;const f=null!==(_=null==g||null===(d=g.booking)||void 0===d||null===(d=d.checkOut)||void 0===d?void 0:d.fotos)&&void 0!==_?_:[],m=Array.isArray(f)?f:"string"==typeof f?f.split(","):[];t.existingUrls=m.map(C=>(C||"").trim()).filter(Boolean),l()},error:s})}),yield new Promise((l,s)=>{t.reservas.finishBooking(t.booking._id).subscribe({next:g=>{t.booking=g.booking,l()},error:s})}),t.files=[],t.refreshPreviews(),yield t.showToast("Check-out guardado y reserva finalizada"),t.router.navigate([t.RUTA_LISTADO],{queryParams:{refresh:"1"},replaceUrl:!0})}catch{yield t.showToast("No se pudo finalizar la reserva","danger")}finally{t.loading.finalizar=!1,t.cdr.markForCheck()}}})()}continuar(){this.router.navigate([this.RUTA_LISTADO])}tomarFotoCapacitor(){var t=this;return(0,h.A)(function*(){if(t.soloLectura||!y.Ii.isNativePlatform())return;const e=yield v.i7.getPhoto({quality:70,allowEditing:!1,resultType:v.LK.Uri,source:v.ru.Camera}),c=yield(yield fetch(e.webPath)).blob(),l=new File([c],`checkout_${Date.now()}.jpg`,{type:c.type||"image/jpeg"}),s=[...t.files,l].slice(0,t.MAX_FILES),g=[];for(const _ of s)g.push(yield t.compressImageSafe(_));t.files=g,t.refreshPreviews(),t.cdr.markForCheck()})()}compressImageSafe(t){var e=this;return(0,h.A)(function*(r,c=1600,l=1600,s=.7){try{return yield e.compressImage(r,c,l,s)}catch{return r}}).apply(this,arguments)}compressImage(t){return(0,h.A)(function*(e,r=1600,c=1600,l=.7){const s=yield createImageBitmap(e),g=Math.min(r/s.width,c/s.height,1),_=Math.round(s.width*g),d=Math.round(s.height*g),f=document.createElement("canvas");f.width=_,f.height=d,f.getContext("2d").drawImage(s,0,0,_,d);const C=yield new Promise(Q=>f.toBlob(nn=>Q(nn),"image/jpeg",l));return new File([C],e.name.replace(/\.\w+$/,".jpg"),{type:"image/jpeg"})}).apply(this,arguments)}showToast(t){var e=this;return(0,h.A)(function*(r,c="success"){yield(yield e.toast.create({message:r,duration:1800,color:c})).present()}).apply(this,arguments)}}return(i=a).\u0275fac=function(t){return new(t||i)(n.rXU(M.nX),n.rXU(M.Ix),n.rXU(F.o),n.rXU(n.gRc),n.rXU(u.K_))},i.\u0275cmp=n.VBU({type:i,selectors:[["app-checkout"]],standalone:!1,decls:14,vars:2,consts:[["sinGuardadas",""],["porFinalizada",""],["fileInput",""],["color","dark"],["slot","start"],[1,"perfil-header"],["aria-label","Regresar",1,"btn-regresar",3,"click"],["name","arrow-back-outline"],["src","/assets/icon/logo4.png","alt","WOAW",1,"logo"],[1,"titulo-perfil"],["slot","end"],["aria-label","Cerrar",3,"click"],["name","close-outline"],[3,"fullscreen"],[4,"ngIf"],[1,"ck-card"],[1,"ck-header"],[1,"ck-title"],[1,"codigo"],[3,"color"],[1,"fecha"],["class","auto",4,"ngIf"],["class","solo-lectura","lines","none",4,"ngIf"],[1,"ck-body"],[1,"bloque"],[1,"bloque-head"],[1,"titulo"],[1,"valor"],["min","0","max","100","step","1","aria-label","Nivel de combustible",1,"ck-range",3,"ngModelChange","ngModel","pin","snaps","ticks","disabled"],["size","small","slot","start","name","ellipse-outline"],["size","small","slot","end","name","ellipse"],[1,"hint"],["autoGrow","","rows","4","placeholder","Escribe aqu\xed\u2026",1,"ck-textarea",3,"ngModelChange","ngModel","readonly"],["class","hint",4,"ngIf","ngIfElse"],["class","grid-preview",4,"ngIf"],["class","bloque",4,"ngIf"],[1,"ck-actions"],["expand","block","fill","clear",3,"click",4,"ngIf"],[1,"auto"],["outline","",4,"ngIf"],["outline",""],["name","car-outline"],["name","settings-outline"],["name","flame-outline"],["lines","none",1,"solo-lectura"],["name","eye-outline","slot","start"],[4,"ngIf","ngIfElse"],[1,"grid-preview"],["class","preview-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"preview-item"],["alt","foto guardada",3,"src"],[1,"uploader"],["type","file","accept","image/*","capture","environment","multiple","","hidden","",3,"change"],["size","small","color","danger",3,"click"],["slot","start","name","image-outline"],["size","small","color","dark",3,"click"],["slot","start","name","camera-outline"],["class","uploader-info",4,"ngIf"],["class","uploader-err",4,"ngIf"],[1,"uploader-info"],[1,"uploader-err"],["name","alert-circle-outline"],["alt","foto nueva",3,"src"],["fill","clear","size","small","aria-label","Eliminar foto nueva",1,"btn-del",3,"click"],["name","close-circle-outline"],["expand","block","fill","clear",3,"click"],["color","success","expand","block",3,"click","disabled"],["name","dots",4,"ngIf"],["name","dots"]],template:function(t,e){1&t&&(n.j41(0,"ion-header")(1,"ion-toolbar",3)(2,"ion-buttons",4)(3,"div",5)(4,"button",6),n.bIt("click",function(){return e.volver()}),n.nrm(5,"ion-icon",7),n.k0s(),n.nrm(6,"img",8),n.j41(7,"span",9),n.EFF(8,"Check-Out"),n.k0s()()(),n.j41(9,"ion-buttons",10)(10,"ion-button",11),n.bIt("click",function(){return e.cerrar()}),n.nrm(11,"ion-icon",12),n.k0s()()()(),n.j41(12,"ion-content",13),n.DNE(13,J,45,27,"ng-container",14),n.k0s()),2&t&&(n.R7$(12),n.Y8G("fullscreen",!0),n.R7$(),n.Y8G("ngIf",e.booking))},dependencies:[k.Sq,k.bT,b.BC,b.vS,u.In,u.Jm,u.QW,u.b_,u.I9,u.ME,u.HW,u.ZB,u.W9,u.eU,u.iq,u.KW,u.uz,u.he,u.Ob,u.w2,u.nc,u.ai,u.su,u.Gw,k.vh],styles:['@charset "UTF-8";.perfil-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.perfil-header[_ngcontent-%COMP%]   .btn-regresar[_ngcontent-%COMP%]{background:transparent;border:0;color:var(--ion-color-light);font-size:18px}.perfil-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:28px;height:28px;object-fit:contain}.perfil-header[_ngcontent-%COMP%]   .titulo-perfil[_ngcontent-%COMP%]{color:var(--ion-color-light);font-weight:700}.ck-card[_ngcontent-%COMP%]{margin:12px;border-radius:14px;overflow:hidden;background:#fff;color:#111;box-shadow:0 10px 28px #0000001f;border:1px solid rgba(0,0,0,.06)}.ck-header[_ngcontent-%COMP%]   .ck-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:6px}.ck-header[_ngcontent-%COMP%]   .ck-title[_ngcontent-%COMP%]   .codigo[_ngcontent-%COMP%]{font-size:14px;opacity:.9}.ck-header[_ngcontent-%COMP%]   .fecha[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.ck-header[_ngcontent-%COMP%]   .auto[_ngcontent-%COMP%]{margin-top:8px;display:flex;flex-wrap:wrap;gap:8px}.ck-header[_ngcontent-%COMP%]   .auto[_ngcontent-%COMP%]   ion-chip[outline][_ngcontent-%COMP%]{--background: #fff;--color: #111;--border-color: #e5e7eb}.ck-header[_ngcontent-%COMP%]   .auto[_ngcontent-%COMP%]   ion-chip[outline][_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.ck-header[_ngcontent-%COMP%]   .solo-lectura[_ngcontent-%COMP%]{margin-top:8px;border-radius:10px;--background: #f8fafc;--color: #0f172a;border:1px solid #e5e7eb}.ck-body[_ngcontent-%COMP%]   .bloque[_ngcontent-%COMP%]{margin-bottom:16px}.ck-body[_ngcontent-%COMP%]   .bloque-head[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;margin-bottom:8px;gap:12px}.ck-body[_ngcontent-%COMP%]   .bloque-head[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{position:relative;font-weight:800;font-size:16px;padding-inline-start:8px}.ck-body[_ngcontent-%COMP%]   .bloque-head[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]:before{content:"";position:absolute;inset-inline-start:0;top:2px;bottom:2px;width:3px;border-radius:2px;background:var(--ion-color-danger);opacity:.9}.ck-body[_ngcontent-%COMP%]   .bloque-head[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]{font-weight:700;font-size:14px;color:#111;margin-inline-start:auto}.ck-body[_ngcontent-%COMP%]   .bloque-head[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;margin-inline-start:auto;white-space:nowrap}.ck-body[_ngcontent-%COMP%]   .ck-range[_ngcontent-%COMP%]{--bar-background: #e5e7eb;--bar-background-active: var(--ion-color-danger);--knob-background: var(--ion-color-danger);--pin-background: var(--ion-color-danger);--pin-color: #fff}.ck-body[_ngcontent-%COMP%]   .ck-textarea[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:10px;padding:6px;--padding-start: 8px;--padding-end: 8px;--background: #fff;--color: #111}.ck-body[_ngcontent-%COMP%]   .uploader[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:8px}.ck-body[_ngcontent-%COMP%]   .uploader[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 10px}.ck-body[_ngcontent-%COMP%]   .uploader[_ngcontent-%COMP%]   .uploader-info[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.ck-body[_ngcontent-%COMP%]   .uploader-err[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:var(--ion-color-danger);margin-top:6px;font-size:14px}.ck-body[_ngcontent-%COMP%]   .grid-preview[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:10px}.ck-body[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]{position:relative;border-radius:8px;overflow:hidden;background:#f3f4f6;aspect-ratio:1/1}.ck-body[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}@supports not (aspect-ratio: 1/1){.ck-body[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:100px}}.ck-body[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .btn-del[_ngcontent-%COMP%]{position:absolute;top:2px;right:2px;--padding-start: 4px;--padding-end: 4px;--padding-top: 2px;--padding-bottom: 2px;--border-radius: 999px;--background: rgba(255, 255, 255, .85);--ripple-color: transparent;min-width:28px;min-height:28px;display:inline-flex;align-items:center;justify-content:center}.ck-body[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .btn-del[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--ion-color-danger)}.ck-body[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .btn-del[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--ion-color-danger);outline-offset:2px;border-radius:999px}.ck-actions[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:5;display:grid;gap:8px;padding:12px;padding-bottom:calc(12px + env(safe-area-inset-bottom));background:#ffffffeb;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border-top:1px solid #e5e7eb;box-shadow:0 -6px 18px #00000014}.ck-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 10px}.ck-actions[_ngcontent-%COMP%]   ion-button[color=success][expand=block][_ngcontent-%COMP%]{--background: var(--ion-color-success);--color: #fff}.ck-actions[_ngcontent-%COMP%]   ion-button[fill=clear][expand=block][_ngcontent-%COMP%]{--background: var(--ion-color-danger);--color: #fff}.ck-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%] + ion-button[_ngcontent-%COMP%]{margin-top:0}@media (min-width: 640px){.ck-body[_ngcontent-%COMP%]   .grid-preview[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (min-width: 992px){.ck-body[_ngcontent-%COMP%]   .grid-preview[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr);gap:10px}}'],changeDetection:0}),a})()}];let K=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[P.iI.forChild(H),P.iI]}),a})(),Z=(()=>{var i;class a{}return(i=a).\u0275fac=function(t){return new(t||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[k.MD,b.YN,u.bv,K]}),a})()}}]);