"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9811],{4349:(B,H,l)=>{l.d(H,{W:()=>W});var f=l(2881),h=l(7343),g=l(9417),v=l(7643),e=l(1360);function U(M,I){if(1&M&&(e.j41(0,"div",3),e.nrm(1,"ion-icon",4),e.j41(2,"h3"),e.EFF(3),e.k0s()()),2&M){const k=I.$implicit;e.AVh("disabled",!k.estatus),e.BMQ("aria-disabled",!k.estatus),e.R7$(),e.Y8G("name",k.icon),e.R7$(2),e.JRh(k.nombre)}}let W=(()=>{var M;class I{constructor(_){this.cdr=_,this.refreshKey=0,this.cards=[{nombre:"Cotizaci\xf3n",estatus:!1,icon:"calculator-outline"},{nombre:"Mis Datos",estatus:!1,icon:"person-outline"},{nombre:"P\xf3liza",estatus:!1,icon:"document-text-outline"}]}ngOnInit(){this.updateFromStorage()}ngOnChanges(_){_.refreshKey&&this.updateFromStorage()}updateFromStorage(){var _,E;const y=localStorage.getItem("cotizacion"),n=localStorage.getItem("UsuarioRespuesta"),t=localStorage.getItem("datosPolizaVin_Respuesta"),b=null!==n&&""!==n&&"null"!==n&&"undefined"!==n,w=null!==t&&""!==t&&"null"!==t&&"undefined"!==t;this.setEstatus("Cotizaci\xf3n",null!==y&&""!==y&&"null"!==y&&"undefined"!==y),this.setEstatus("Mis Datos",b),this.setEstatus("P\xf3liza",w),null===(_=(E=this.cdr).markForCheck)||void 0===_||_.call(E)}setEstatus(_,E){const y=this.cards.findIndex(n=>n.nombre===_);-1!==y&&(this.cards[y].estatus=E)}}return(M=I).\u0275fac=function(_){return new(_||M)(e.rXU(e.gRc))},M.\u0275cmp=e.VBU({type:M,selectors:[["app-dynamic-island"]],inputs:{refreshKey:"refreshKey"},features:[e.OA$],decls:3,vars:1,consts:[[1,"poliza__card"],[1,"dock-pasos"],["class","card",3,"disabled",4,"ngFor","ngForOf"],[1,"card"],[3,"name"]],template:function(_,E){1&_&&(e.j41(0,"section",0)(1,"div",1),e.DNE(2,U,4,5,"div",2),e.k0s()()),2&_&&(e.R7$(2),e.Y8G("ngForOf",E.cards))},dependencies:[f.MD,f.Sq,h.bv,h.iq,g.X1,v.q1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;position:sticky;top:calc(var(--ion-safe-area-top, 0px) + var(--woaw-toolbar-h, 64px));z-index:40;isolation:isolate}.poliza__card[_ngcontent-%COMP%]{padding-inline:8px}.poliza__card[_ngcontent-%COMP%]   .dock-pasos[_ngcontent-%COMP%]{max-width:1150px;margin:4px auto 6px;padding:8px 10px 10px;border-radius:20px;display:flex;flex-direction:row;flex-wrap:nowrap;gap:8px;background:#f8fafcf5;backdrop-filter:saturate(180%) blur(18px);-webkit-backdrop-filter:saturate(180%) blur(18px);box-shadow:0 10px 26px #0f172a29,0 0 0 .5px #ffffffe6;overflow-x:auto;scrollbar-width:none}.poliza__card[_ngcontent-%COMP%]   .dock-pasos[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.poliza__card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;display:inline-flex;align-items:center;gap:6px;padding:7px 12px 7px 10px;border-radius:999px;background:#fff;color:#111827;border:1px solid rgba(15,23,42,.08);box-shadow:0 12px 24px #0f172a1f;white-space:nowrap;transition:transform .16s ease,box-shadow .18s ease,background .18s ease,border-color .18s ease,opacity .18s ease}.poliza__card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:12px;font-weight:600;letter-spacing:.01em}.poliza__card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#ff3b30}.poliza__card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-3px;right:-3px;width:12px;height:12px;border-radius:999px;border:1.5px solid #34c759;background:radial-gradient(circle at 30% 30%,#34c759 0,#22c55e 45%,transparent 46%);box-shadow:0 4px 8px #34c75973}.poliza__card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:active{transform:scale(.97);box-shadow:0 8px 18px #0f172a33;background:#f9fafb}.poliza__card[_ngcontent-%COMP%]   .card.disabled[_ngcontent-%COMP%]{opacity:.55;background:#f9fafb;border-color:#94a3b8b3;box-shadow:0 6px 14px #0f172a1f}.poliza__card[_ngcontent-%COMP%]   .card.disabled[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#9ca3af}.poliza__card[_ngcontent-%COMP%]   .card.disabled[_ngcontent-%COMP%]:after{border-color:#ff3b30;background:radial-gradient(circle at 30% 30%,#ff3b30 0,#ef4444 45%,transparent 46%);box-shadow:0 4px 8px #ef444473}@media (max-width: 600px){.poliza__card[_ngcontent-%COMP%]{padding-inline:4px}.poliza__card[_ngcontent-%COMP%]   .dock-pasos[_ngcontent-%COMP%]{padding:6px 8px 8px;gap:6px}.poliza__card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding:6px 10px}.poliza__card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:11px}.poliza__card[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}}']}),I})()},8201:(B,H,l)=>{l.d(H,{n:()=>k});var f=l(5312),h=l(6648),g=l(5558),v=l(9437),e=l(1360),U=l(7643),W=l(5806),M=l(2381),I=l(9564);let k=(()=>{var _;class E{constructor(n,t,a,b){this.http=n,this.generalService=t,this.router=a,this.headersService=b}getMarcas(){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(n=>{const t=this.headersService.getJsonHeaders(n);return this.http.get(`${f.c.api_key}/crabi/brands`,{headers:t})}),(0,v.W)(n=>this.headersService.handleError(n)))}getModelos(n){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(t=>{const a=this.headersService.getJsonHeaders(t);return this.http.get(`${f.c.api_key}/crabi/brands/${n}/types`,{headers:a})}),(0,v.W)(t=>this.headersService.handleError(t)))}getAnios(n,t){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(a=>{const b=this.headersService.getJsonHeaders(a);return this.http.get(`${f.c.api_key}/crabi/brands/${n}/types/${t}/models`,{headers:b})}),(0,v.W)(a=>this.headersService.handleError(a)))}getVersion(n,t,a){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(b=>{const w=this.headersService.getJsonHeaders(b);return this.http.get(`${f.c.api_key}/crabi/brands/${n}/types/${t}/models/${a}/versions`,{headers:w})}),(0,v.W)(b=>this.headersService.handleError(b)))}CotizacionEstimada(n){const t=`${f.c.api_key}/crabi/quotation`;return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(a=>{const b=this.headersService.getJsonHeaders(a);return this.http.post(t,n,{headers:b})}),(0,v.W)(a=>this.headersService.handleError(a)))}optenerPaises(){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(n=>{const t=this.headersService.getJsonHeaders(n);return this.http.get(`${f.c.api_key}/info/paises`,{headers:t})}),(0,v.W)(n=>this.headersService.handleError(n)))}optenerEstados(){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(n=>{const t=this.headersService.getJsonHeaders(n);return this.http.get(`${f.c.api_key}/info/mexico-states`,{headers:t})}),(0,v.W)(n=>this.headersService.handleError(n)))}optenerActEcon(){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(n=>{const t=this.headersService.getJsonHeaders(n);return this.http.get(`${f.c.api_key}/info/actividades-economicas`,{headers:t})}),(0,v.W)(n=>this.headersService.handleError(n)))}crearPersona(n){const t=`${f.c.api_key}/crabi/users/register`;return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(a=>{const b=this.headersService.getJsonHeaders(a);return this.http.post(t,n,{headers:b})}),(0,v.W)(a=>this.headersService.handleError(a)))}crearPoliza(n){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(t=>{const a=this.headersService.getJsonHeaders(t);return this.http.post(`${f.c.api_key}/crabi/policyY`,n,{headers:a})}),(0,v.W)(t=>this.headersService.handleError(t)))}getPolizas(){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(n=>{const t=this.headersService.getJsonHeaders(n);return this.http.get(`${f.c.api_key}/crabi/mypolicies`,{headers:t})}),(0,v.W)(n=>this.headersService.handleError(n)))}getPolizayRecibo(n){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(t=>{const a=this.headersService.getJsonHeaders(t);return this.http.get(`${f.c.api_key}/crabi/policy/${n}/documents`,{headers:a})}),(0,v.W)(t=>this.headersService.handleError(t)))}getPagoPoliza(n){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(t=>{const a=this.headersService.getJsonHeaders(t);return this.http.get(`${f.c.api_key}/crabi/checkout/${n} `,{headers:a})}),(0,v.W)(t=>this.headersService.handleError(t)))}descargarRecibo(){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(n=>{const t=this.headersService.getJsonHeaders(n);return this.http.get(`${f.c.api_key}/crabi/policy/:id`,{headers:t})}),(0,v.W)(n=>this.headersService.handleError(n)))}pagoPoliza(n){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(t=>{const a=this.headersService.getJsonHeaders(t);return this.http.get(`${f.c.api_key}/crabi/checkout/${n}`,{headers:a})}),(0,v.W)(t=>this.headersService.handleError(t)))}buscarPersona(n){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(t=>{const a=this.headersService.getJsonHeaders(t);return this.http.post(`${f.c.api_key}/crabi/person`,{value:n},{headers:a})}),(0,v.W)(t=>this.headersService.handleError(t)))}cotizaManual(n){return(0,h.H)(this.headersService.obtenerToken()).pipe((0,g.n)(t=>{const a=this.headersService.getJsonHeaders(t);return this.http.post(`${f.c.api_key}/crabi/seguros`,n,{headers:a,observe:"response"})}),(0,v.W)(t=>this.headersService.handleError(t)))}contador(n){var t;let a;const b=localStorage.getItem("user");if(b)try{a=JSON.parse(b)}catch{}this.contarSegurosEvento(n,null===(t=a)||void 0===t?void 0:t.rol).subscribe({next:w=>{},error:w=>console.error("Error contador - seguros:",w)})}contarSegurosEvento(n,t){return this.http.post(`${f.c.api_key}/seguros`,{evento:n,rol:t})}}return(_=E).\u0275fac=function(n){return new(n||_)(e.KVO(U.Qq),e.KVO(W.O),e.KVO(M.Ix),e.KVO(I.m))},_.\u0275prov=e.jDH({token:_,factory:_.\u0275fac,providedIn:"root"}),E})()},9711:(B,H,l)=>{l.d(H,{l:()=>Q});var f=l(467),h=l(2881),g=l(7343),v=l(9417),e=l(1360),U=l(2381),W=l(5806);function M(i,x){if(1&i){const c=e.RV6();e.j41(0,"div",13)(1,"div",14),e.nrm(2,"img",15),e.j41(3,"span",16),e.EFF(4,"Flujo de seguro"),e.k0s()(),e.j41(5,"button",17),e.bIt("click",function(){e.eBV(c);const s=e.XpG();return e.Njj(s.cerrarModal())}),e.EFF(6,"\xd7"),e.k0s()()}}function I(i,x){if(1&i&&(e.j41(0,"div",18)(1,"div",19)(2,"span",20),e.EFF(3,"Plan"),e.k0s(),e.j41(4,"span",21),e.EFF(5),e.k0s()(),e.j41(6,"div",19)(7,"span",20),e.EFF(8,"Total"),e.k0s(),e.j41(9,"span",22),e.EFF(10),e.k0s()(),e.j41(11,"div",19)(12,"span",20),e.EFF(13,"Pago"),e.k0s(),e.j41(14,"span",23),e.EFF(15),e.k0s()(),e.j41(16,"div",19)(17,"span",20),e.EFF(18,"Veh\xedculo"),e.k0s(),e.j41(19,"span",21),e.EFF(20),e.k0s()()()),2&i){const c=e.XpG();e.R7$(5),e.JRh(c.cotizacionVM.plan),e.R7$(5),e.JRh(c.formatMXN(c.cotizacionVM.total)),e.R7$(5),e.JRh(c.cotizacionVM.pagos),e.R7$(5),e.JRh(c.cotizacionVM.vehiculo)}}function k(i,x){1&i&&(e.j41(0,"div",24),e.EFF(1," Selecciona marca, modelo y versi\xf3n de tu veh\xedculo. "),e.k0s())}function _(i,x){if(1&i&&(e.j41(0,"div",19)(1,"span",20),e.EFF(2,"Correo"),e.k0s(),e.j41(3,"span",21),e.EFF(4),e.k0s()()),2&i){const c=e.XpG(2);e.R7$(4),e.JRh(c.usuarioVM.email)}}function E(i,x){if(1&i&&(e.j41(0,"div",19)(1,"span",20),e.EFF(2,"Tel\xe9fono"),e.k0s(),e.j41(3,"span",21),e.EFF(4),e.k0s()()),2&i){const c=e.XpG(2);e.R7$(4),e.JRh(c.usuarioVM.phone)}}function y(i,x){if(1&i&&(e.j41(0,"div",19)(1,"span",20),e.EFF(2,"Direcci\xf3n"),e.k0s(),e.j41(3,"span",21),e.EFF(4),e.k0s()()),2&i){const c=e.XpG(2);e.R7$(4),e.JRh(c.usuarioVM.direccion)}}function n(i,x){if(1&i&&(e.j41(0,"div",18)(1,"div",19)(2,"span",20),e.EFF(3,"Nombre"),e.k0s(),e.j41(4,"span",21),e.EFF(5),e.k0s()(),e.j41(6,"div",19)(7,"span",20),e.EFF(8,"RFC"),e.k0s(),e.j41(9,"span",22),e.EFF(10),e.k0s()(),e.DNE(11,_,5,1,"div",25)(12,E,5,1,"div",25)(13,y,5,1,"div",25),e.k0s()),2&i){const c=e.XpG();e.R7$(5),e.JRh(c.usuarioVM.nombre),e.R7$(5),e.JRh(c.usuarioVM.rfc),e.R7$(),e.Y8G("ngIf",c.usuarioVM.email),e.R7$(),e.Y8G("ngIf",c.usuarioVM.phone),e.R7$(),e.Y8G("ngIf",c.usuarioVM.direccion)}}function t(i,x){1&i&&(e.j41(0,"div",24),e.EFF(1," Ingresa tu informaci\xf3n b\xe1sica para personalizar tu cobertura. "),e.k0s())}function a(i,x){1&i&&(e.j41(0,"div",18)(1,"div",26),e.EFF(2," P\xf3liza creada correctamente. "),e.k0s()())}function b(i,x){1&i&&(e.j41(0,"div",24),e.EFF(1," Cotiza y descarga tu p\xf3liza al instante. "),e.k0s())}function w(i,x){1&i&&(e.j41(0,"div",24),e.EFF(1," Crea tu cuenta para guardar tu cotizaci\xf3n y descargar tu p\xf3liza al instante. "),e.k0s())}function L(i,x){if(1&i&&e.DNE(0,b,2,0,"div",27)(1,w,2,0,"div",27),2&i){const c=e.XpG();e.Y8G("ngIf",c.isLoggedIn),e.R7$(),e.Y8G("ngIf",!c.isLoggedIn)}}let G=(()=>{var i;class x{constructor(o,s,p,r){this.cdr=o,this.router=s,this.generalService=p,this.modalCtrl=r,this.refreshKey=0,this.cotizacionVM=null,this.tipoDispocitivo="computadora",this.cards=[{nombre:"Cotizaci\xf3n",estatus:!1,icon:"calculator-outline",key:"cotizacion"},{nombre:"Mis Datos",estatus:!1,icon:"person-outline",key:"datos"},{nombre:"P\xf3liza",estatus:!1,icon:"document-text-outline",key:"poliza"}],this.isLoggedIn=!1,this.usuarioVM=null,this.polizaVM=null}ngOnInit(){this.generalService.dispositivo$.subscribe(o=>{this.tipoDispocitivo=o}),this.generalService.tokenExistente$.subscribe(o=>{this.isLoggedIn=o}),this.updateFromStorage()}ngOnChanges(o){o.refreshKey&&this.updateFromStorage()}updateFromStorage(){var o,s;const p=localStorage.getItem("cotizacion"),r=localStorage.getItem("UsuarioRespuesta"),C=localStorage.getItem("datosPolizaVin_Respuesta"),P=this.hasValue(p),d=this.hasValue(r),S=this.hasValue(C);this.setEstatus("Cotizaci\xf3n",P),this.setEstatus("Mis Datos",d),this.setEstatus("P\xf3liza",S),this.cotizacionVM=P?this.buildCotizacionVM(p):null,this.usuarioVM=d?this.buildUsuarioVM(r):null,this.polizaVM=S?this.buildPolizaVM(C):null,null===(o=(s=this.cdr).markForCheck)||void 0===o||o.call(s)}setEstatus(o,s){const p=this.cards.findIndex(r=>r.nombre===o);-1!==p&&(this.cards[p].estatus=s)}hasValue(o){return null!==o&&""!==o&&"null"!==o&&"undefined"!==o}buildCotizacionVM(o){try{var s,p,r,C,P,d,S,m,z,V,j;const J=JSON.parse(o),O=null==J?void 0:J.response;if(null!=O&&null!==(s=O.policies)&&void 0!==s&&s.length){var D,T,K;const R=O.policies.find(F=>{var N;return"a64c55ab-03bb-4774-89e6-ad69d2362966"===(null==F||null===(N=F.policy_type)||void 0===N?void 0:N.id)})||O.policies[0],ae=(null==R?void 0:R.start_date)||(null==O||null===(D=O.policies)||void 0===D||null===(D=D[0])||void 0===D?void 0:D.start_date)||null,ce=(null==R?void 0:R.end_date)||(null==O||null===(T=O.policies)||void 0===T||null===(T=T[0])||void 0===T?void 0:T.end_date)||null,de=O.policies.map(F=>null==F?void 0:F.policy_number).filter(Boolean).join(" \u2022 ");return{plan:(F=null==R||null===(K=R.policy_type)||void 0===K?void 0:K.id,"a64c55ab-03bb-4774-89e6-ad69d2362966"===F?"Plan Comercial Anual":"b6bee0c5-15ae-4ad9-8f6e-c7a0ed021103"===F?"Responsabilidad Civil (RCO)":"P\xf3liza emitida"),total:void 0,pagos:"\u2014",vigencia:{start:ae,end:ce},vehiculo:void 0,policyNumbers:de}}const u=J,A=null==u||null===(p=u.plans)||void 0===p?void 0:p[0],q=(null==A?void 0:A.name)||"\u2014",ee=Number(null!==(r=null!==(C=null==A?void 0:A.total)&&void 0!==C?C:null==u?void 0:u.total)&&void 0!==r?r:0),oe=(null==u||null===(P=u.payment_plans)||void 0===P||null===(P=P[0])||void 0===P?void 0:P.name)||"ANNUAL",ne={start:(null==u||null===(d=u.validity)||void 0===d?void 0:d.start)||null,end:(null==u||null===(S=u.validity)||void 0===S?void 0:S.end)||null},te=null==u||null===(m=u.vehicle)||void 0===m||null===(m=m.brand)||void 0===m?void 0:m.name,se=null==u||null===(z=u.vehicle)||void 0===z||null===(z=z.model)||void 0===z?void 0:z.name,ie=null==u||null===(V=u.vehicle)||void 0===V||null===(V=V.year)||void 0===V?void 0:V.name,X=null==u||null===(j=u.vehicle)||void 0===j||null===(j=j.version)||void 0===j?void 0:j.name,re=[this.cap(te),this.cap(se),ie].filter(Boolean).join(" ")+(X?` \u2013 ${X}`:"");return{plan:q,total:ee,pagos:this.prettyPlan(oe),vigencia:ne,vehiculo:re||"\u2014"}}catch{return null}var F}buildUsuarioVM(o){try{var s;const p=JSON.parse(o),r=null!==(s=null==p?void 0:p.response)&&void 0!==s?s:{},C=[null==r?void 0:r.first_name,null==r?void 0:r.first_last_name,null==r?void 0:r.second_last_name].filter(Boolean).join(" "),m=null==r?void 0:r.address;return{nombre:C,rfc:(null==r?void 0:r.rfc)||"\u2014",email:null==r?void 0:r.email,phone:null==r?void 0:r.phone,direccion:m?[[null==m?void 0:m.street,null==m?void 0:m.external_number].filter(Boolean).join(" "),null==m?void 0:m.neighborhood,null==m?void 0:m.postal_code].filter(Boolean).join(", "):void 0}}catch{return null}}buildPolizaVM(o){try{var s,p,r,C,P;const d=JSON.parse(o);return{rfc:(null==d?void 0:d.rfc)||"\u2014",vin:null==d||null===(s=d.vehicle)||void 0===s?void 0:s.vin,placas:null==d||null===(p=d.vehicle)||void 0===p?void 0:p.plates,color:null==d||null===(r=d.vehicle)||void 0===r?void 0:r.color,quotationId:null==d||null===(C=d.quotation)||void 0===C?void 0:C.id,planId:null==d||null===(P=d.quotation)||void 0===P?void 0:P.plan_id,inicio:null==d?void 0:d.start_date}}catch{return null}}prettyPlan(o){if(!o)return"\u2014";const s=String(o).toUpperCase();return"ANNUAL"===s?"Pago anual":"SUBSCRIPTION"===s?"Suscripci\xf3n mensual (12 pagos)":this.cap(s.toLowerCase())}cap(o){return o?o.charAt(0).toUpperCase()+o.slice(1):""}formatMXN(o){return!o||isNaN(o)?"\u2014":o.toLocaleString("es-MX",{style:"currency",currency:"MXN",maximumFractionDigits:2})}redireccion(o){o&&(this.modalCtrl.dismiss(),this.router.navigate([`/${o}`]))}cerrarModal(){this.modalCtrl.dismiss()}}return(i=x).\u0275fac=function(o){return new(o||i)(e.rXU(e.gRc),e.rXU(U.Ix),e.rXU(W.O),e.rXU(g.W3))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-pasos"]],inputs:{refreshKey:"refreshKey"},features:[e.OA$],decls:36,vars:25,consts:[["cotizacionVacia",""],["usuarioVacio",""],["polizaVacia",""],[1,"seguros-steps-ios"],["class","header_ios",4,"ngIf"],[1,"opciones-grid"],[1,"step-card",3,"click"],[1,"step-card__header"],[1,"step-card__left"],[1,"step-pill"],[1,"step-label"],[3,"name"],["class","step-card__body",4,"ngIf","ngIfElse"],[1,"header_ios"],[1,"header_ios-left"],["src","/assets/icon/logo2.png","alt","Go Autos",1,"logo"],[1,"titulo"],["aria-label","Cerrar hoja",3,"click"],[1,"step-card__body"],[1,"kv"],[1,"k"],[1,"v"],[1,"v","mono"],[1,"v","pill"],[1,"step-card__empty"],["class","kv",4,"ngIf"],[1,"step-card__empty","step-card__empty--ok"],["class","step-card__empty",4,"ngIf"]],template:function(o,s){if(1&o){const p=e.RV6();e.j41(0,"section",3),e.DNE(1,M,7,0,"div",4),e.j41(2,"div",5)(3,"div",6),e.bIt("click",function(){return e.eBV(p),e.Njj(s.redireccion("seguros/autos"))}),e.j41(4,"div",7)(5,"div",8)(6,"span",9),e.EFF(7,"Paso 1"),e.k0s(),e.j41(8,"span",10),e.EFF(9),e.k0s()(),e.nrm(10,"ion-icon",11),e.k0s(),e.DNE(11,I,21,4,"div",12)(12,k,2,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(14,"div",6),e.bIt("click",function(){return e.eBV(p),e.Njj(s.redireccion("seguros/persona"))}),e.j41(15,"div",7)(16,"div",8)(17,"span",9),e.EFF(18,"Paso 2"),e.k0s(),e.j41(19,"span",10),e.EFF(20),e.k0s()(),e.nrm(21,"ion-icon",11),e.k0s(),e.DNE(22,n,14,5,"div",12)(23,t,2,0,"ng-template",null,1,e.C5r),e.k0s(),e.j41(25,"div",6),e.bIt("click",function(){return e.eBV(p),e.Njj(s.redireccion("seguros/poliza"))}),e.j41(26,"div",7)(27,"div",8)(28,"span",9),e.EFF(29,"Paso 3"),e.k0s(),e.j41(30,"span",10),e.EFF(31),e.k0s()(),e.nrm(32,"ion-icon",11),e.k0s(),e.DNE(33,a,3,0,"div",12)(34,L,2,2,"ng-template",null,2,e.C5r),e.k0s()()()}if(2&o){const p=e.sdS(13),r=e.sdS(24),C=e.sdS(35);e.R7$(),e.Y8G("ngIf","telefono"===s.tipoDispocitivo),e.R7$(2),e.AVh("step-card--ok",s.cards[0].estatus)("step-card--off",!s.cards[0].estatus),e.R7$(6),e.JRh(s.cards[0].nombre),e.R7$(),e.Y8G("name",s.cards[0].icon),e.R7$(),e.Y8G("ngIf",s.cotizacionVM)("ngIfElse",p),e.R7$(3),e.AVh("step-card--ok",s.cards[1].estatus)("step-card--off",!s.cards[1].estatus),e.R7$(6),e.JRh(s.cards[1].nombre),e.R7$(),e.Y8G("name",s.cards[1].icon),e.R7$(),e.Y8G("ngIf",s.usuarioVM)("ngIfElse",r),e.R7$(3),e.AVh("step-card--ok",s.cards[2].estatus)("step-card--off",!s.cards[2].estatus),e.R7$(6),e.JRh(s.cards[2].nombre),e.R7$(),e.Y8G("name",s.cards[2].icon),e.R7$(),e.Y8G("ngIf",s.polizaVM)("ngIfElse",C)}},dependencies:[g.bv,g.iq,h.MD,h.bT,v.X1],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.seguros-steps-ios[_ngcontent-%COMP%]{padding:10px 12px;border-radius:22px;background:#fff;box-shadow:0 18px 40px #0f172a1f,0 0 0 .5px #ffffffe6}@media (max-width: 768px){.seguros-steps-ios[_ngcontent-%COMP%]{padding:8px 10px 10px;border-radius:20px}}.header_ios[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:4px 2px 8px;margin-bottom:4px;background:transparent}.header_ios[_ngcontent-%COMP%]   .header_ios-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.header_ios[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:20px;width:auto;object-fit:contain}.header_ios[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#000}.header_ios[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#e5e7eb;border:none;font-size:18px;line-height:1;font-weight:500;color:#4b5563;padding:4px 8px;border-radius:999px;cursor:pointer;transition:background .15s ease,color .15s ease,transform .15s ease}.header_ios[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background:#d1d5db;color:#111827;transform:scale(.95)}.opciones-grid[_ngcontent-%COMP%]{display:grid;grid-auto-flow:row;grid-template-columns:repeat(auto-fit,minmax(min(280px,100%),1fr));gap:10px}@media (max-width: 520px){.opciones-grid[_ngcontent-%COMP%]{gap:8px}}.step-card[_ngcontent-%COMP%]{position:relative;padding:10px 12px;border-radius:16px;background:#fff;border:.5px solid rgba(15,23,42,.08);box-shadow:0 10px 24px #0f172a1a,0 0 0 .5px #ffffffe6;display:grid;grid-template-rows:auto 1fr;gap:6px;cursor:pointer;transition:transform .16s ease,box-shadow .16s ease,border-color .16s ease,background .16s ease}.step-card[_ngcontent-%COMP%]:active{transform:scale(.985);box-shadow:0 8px 20px #0f172a24;background:#f9fafb}.step-card__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px}.step-card__left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;min-width:0}.step-card[_ngcontent-%COMP%]   .step-pill[_ngcontent-%COMP%]{padding:2px 9px;border-radius:999px;font-size:11px;font-weight:600;color:#111827;background:#e5e7eb;white-space:nowrap}.step-card[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#111827;min-width:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.step-card[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#ef4444}.step-card__body[_ngcontent-%COMP%]{margin-top:4px;padding:9px 10px 8px;border-radius:12px;background:#f9fafb;display:grid;gap:6px;text-align:left}.step-card[_ngcontent-%COMP%]   .kv[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:baseline;gap:4px 8px;min-width:0}.step-card[_ngcontent-%COMP%]   .kv[_ngcontent-%COMP%]   .k[_ngcontent-%COMP%]{flex:0 0 88px;max-width:40%;font-size:11px;color:#9ca3af;white-space:nowrap}.step-card[_ngcontent-%COMP%]   .kv[_ngcontent-%COMP%]   .v[_ngcontent-%COMP%]{flex:1 1 auto;min-width:0;font-size:12px;font-weight:600;color:#111827;line-height:1.4;word-break:break-word}.step-card[_ngcontent-%COMP%]   .kv[_ngcontent-%COMP%]   .v.mono[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace}.step-card[_ngcontent-%COMP%]   .kv[_ngcontent-%COMP%]   .v.pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:2px 9px;border-radius:999px;background:#fee2e2;color:#b91c1c;font-size:11px}.step-card__empty[_ngcontent-%COMP%]{margin-top:4px;font-size:12px;color:#4b5563;padding:9px 10px;border-radius:12px;background:#f9fafb;text-align:left;line-height:1.35}.step-card__empty--ok[_ngcontent-%COMP%]{background:#ecfdf5;color:#166534}.step-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:8px;right:10px;width:20px;height:20px;border-radius:999px;display:grid;place-items:center;font:800 12px/1 -apple-system,BlinkMacSystemFont,SF Pro Text,Segoe UI,sans-serif;color:#fff;box-shadow:0 6px 14px #0f172a33;pointer-events:none}.step-card.step-card--ok[_ngcontent-%COMP%]{border-color:#22c55e99}.step-card.step-card--ok[_ngcontent-%COMP%]:after{content:"\\2713";background:#22c55e}.step-card.step-card--off[_ngcontent-%COMP%]{border-color:#f87171b3}.step-card.step-card--off[_ngcontent-%COMP%]:after{content:"!";background:#ef4444}@media (max-width: 520px){.step-card[_ngcontent-%COMP%]{padding:9px 10px 8px;border-radius:14px}.step-card__body[_ngcontent-%COMP%]{padding:8px 9px 7px}.step-card[_ngcontent-%COMP%]   .kv[_ngcontent-%COMP%]   .k[_ngcontent-%COMP%]{flex:0 0 80px;font-size:10px}.step-card[_ngcontent-%COMP%]   .kv[_ngcontent-%COMP%]   .v[_ngcontent-%COMP%]{font-size:11px}.step-card[_ngcontent-%COMP%]:after{top:8px;right:8px;width:18px;height:18px;font-size:11px}}']}),x})();var Y=l(6048);function $(i,x){if(1&i){const c=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(c);const s=e.XpG();return e.Njj(s.abrirModalPasos())}),e.EFF(1," Pasos "),e.nrm(2,"ion-icon",11),e.k0s()}}function Z(i,x){if(1&i&&e.nrm(0,"app-pasos",12),2&i){const c=e.XpG();e.Y8G("refreshKey",c.refreshKey)}}let Q=(()=>{var i;class x{constructor(o,s,p,r,C,P){this.cdr=o,this.router=s,this.generalService=p,this.modalCtrl=r,this.location=C,this.ngZone=P,this.refreshKey=0,this.cotizacionVM=null,this.tipoDispocitivo="computadora",this.cards=[{nombre:"Cotizaci\xf3n",estatus:!1,icon:"calculator-outline",key:"cotizacion"},{nombre:"Mis Datos",estatus:!1,icon:"person-outline",key:"datos"},{nombre:"P\xf3liza",estatus:!1,icon:"document-text-outline",key:"poliza"}],this.usuarioVM=null,this.polizaVM=null}ngOnInit(){this.generalService.dispositivo$.subscribe(o=>{this.tipoDispocitivo=o})}ngOnChanges(){}redireccion(o){o&&this.router.navigate([`/${o}`])}abrirModalPasos(){var o=this;return(0,f.A)(function*(){o.ngZone.runOutsideAngular((0,f.A)(function*(){try{yield(yield o.modalCtrl.create({component:G,componentProps:{cards:o.cards,cotizacionVM:o.cotizacionVM,usuarioVM:o.usuarioVM,polizaVM:o.polizaVM},breakpoints:[0,.4],initialBreakpoint:.4,cssClass:"modal-pasos-seguros",handle:!0,showBackdrop:!0})).present()}catch(s){console.error("\u274c Error en abrirModalPasos:",s)}}))})()}atras(){this.location.back()}}return(i=x).\u0275fac=function(o){return new(o||i)(e.rXU(e.gRc),e.rXU(U.Ix),e.rXU(W.O),e.rXU(g.W3),e.rXU(Y.aZ),e.rXU(e.SKi))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-otros-seguros"]],inputs:{refreshKey:"refreshKey"},features:[e.OA$],decls:11,vars:2,consts:[[1,"otros-ios"],[1,"otros-ios__header"],[1,"ios-back-btn",3,"click"],["name","chevron-back-outline"],[1,"ios-logos"],["src","/assets/icon/crabi1.png","alt","Crabi",1,"logo"],[1,"divider"],["src","/assets/icon/logo2.png","alt","Woaw",1,"logo"],["class","ios-action",3,"click",4,"ngIf"],[3,"refreshKey",4,"ngIf"],[1,"ios-action",3,"click"],["name","chevron-down-outline"],[3,"refreshKey"]],template:function(o,s){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"button",2),e.bIt("click",function(){return s.atras()}),e.nrm(3,"ion-icon",3),e.EFF(4," Regresar "),e.k0s(),e.j41(5,"div",4),e.nrm(6,"img",5)(7,"span",6)(8,"img",7),e.k0s(),e.DNE(9,$,3,0,"button",8),e.k0s(),e.DNE(10,Z,1,1,"app-pasos",9),e.k0s()),2&o&&(e.R7$(9),e.Y8G("ngIf","telefono"===s.tipoDispocitivo),e.R7$(),e.Y8G("ngIf","computadora"===s.tipoDispocitivo||"tablet"===s.tipoDispocitivo))},dependencies:[g.bv,g.iq,h.MD,h.bT,v.X1,G],styles:['@charset "UTF-8";.otros-ios[_ngcontent-%COMP%]{width:100%;background:#fff;padding:10px 14px 12px;border-bottom:1px solid rgba(0,0,0,.08);box-shadow:0 4px 18px #0000000f;border-radius:0 0 18px 18px}@media (max-width: 820px){.otros-ios[_ngcontent-%COMP%]{padding:8px 10px;border-radius:0 0 14px 14px}}.otros-ios[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.otros-ios[_ngcontent-%COMP%]   .otros-ios__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:6px}.otros-ios[_ngcontent-%COMP%]   .ios-back-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;background:#f2f2f7;border:none;padding:6px 12px;border-radius:999px;font-size:13px;font-weight:500;color:#1c1c1e;box-shadow:0 1px 3px #0000001f;transition:background .15s ease,transform .15s ease;cursor:pointer}.otros-ios[_ngcontent-%COMP%]   .ios-back-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#1c1c1e}.otros-ios[_ngcontent-%COMP%]   .ios-back-btn[_ngcontent-%COMP%]:active{background:#e5e5ea;transform:scale(.96)}@media (max-width: 820px){.otros-ios[_ngcontent-%COMP%]   .ios-back-btn[_ngcontent-%COMP%]{font-size:12px;padding:5px 10px}}.otros-ios[_ngcontent-%COMP%]   .ios-logos[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.otros-ios[_ngcontent-%COMP%]   .ios-logos[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:34px;height:auto;object-fit:contain}@media (max-width: 820px){.otros-ios[_ngcontent-%COMP%]   .ios-logos[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:26px}}.otros-ios[_ngcontent-%COMP%]   .ios-logos[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:1.5px;height:26px;background:#00000026;border-radius:20px}@media (max-width: 820px){.otros-ios[_ngcontent-%COMP%]   .ios-logos[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:18px}}.otros-ios[_ngcontent-%COMP%]   .ios-action[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;background:#f2f2f7;border:none;padding:6px 12px;border-radius:999px;font-size:13px;font-weight:600;color:#1c1c1e;box-shadow:0 1px 3px #00000014;transition:background .15s ease,transform .15s ease;cursor:pointer}.otros-ios[_ngcontent-%COMP%]   .ios-action[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px;color:#1c1c1e}.otros-ios[_ngcontent-%COMP%]   .ios-action[_ngcontent-%COMP%]:active{background:#e5e5ea;transform:scale(.96)}@media (max-width: 820px){.otros-ios[_ngcontent-%COMP%]   .ios-action[_ngcontent-%COMP%]{font-size:12px;padding:5px 10px}}']}),x})()}}]);