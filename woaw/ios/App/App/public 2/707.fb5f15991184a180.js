"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[707],{707:(on,C,u)=>{u.r(C),u.d(C,{CheckInPageModule:()=>Z});var k=u(2881),m=u(9417),d=u(7343),P=u(9870),f=u(467),b=u(980),M=u(5083),v=u(7691),n=u(1360),x=u(2381),y=u(1125);function O(r,l){if(1&r&&(n.j41(0,"ion-chip",35),n.nrm(1,"ion-icon",36),n.j41(2,"ion-label"),n.EFF(3),n.k0s()()),2&r){const o=n.XpG().ngIf;n.R7$(3),n.Lme("",null==o?null:o.marca," ",null==o?null:o.modelo,"")}}function F(r,l){if(1&r&&(n.j41(0,"ion-chip",35),n.nrm(1,"ion-icon",37),n.j41(2,"ion-label"),n.EFF(3),n.k0s()()),2&r){const o=n.XpG().ngIf;n.R7$(3),n.JRh(null==o?null:o.transmision)}}function j(r,l){if(1&r&&(n.j41(0,"ion-chip",35),n.nrm(1,"ion-icon",38),n.j41(2,"ion-label"),n.EFF(3),n.k0s()()),2&r){const o=n.XpG().ngIf;n.R7$(3),n.JRh(null==o?null:o.combustible)}}function E(r,l){if(1&r&&(n.j41(0,"div",33),n.DNE(1,O,4,2,"ion-chip",34)(2,F,4,1,"ion-chip",34)(3,j,4,1,"ion-chip",34),n.k0s()),2&r){const o=l.ngIf;n.R7$(),n.Y8G("ngIf",(null==o?null:o.marca)||(null==o?null:o.modelo)),n.R7$(),n.Y8G("ngIf",null==o?null:o.transmision),n.R7$(),n.Y8G("ngIf",null==o?null:o.combustible)}}function w(r,l){1&r&&(n.qex(0),n.EFF(1," (eres el solicitante de esta renta) "),n.bVm())}function R(r,l){1&r&&n.EFF(0," (la renta est\xe1 en curso) ")}function $(r,l){if(1&r&&(n.j41(0,"ion-item",39),n.nrm(1,"ion-icon",40),n.j41(2,"ion-label"),n.EFF(3," Vista de s\xf3lo lectura "),n.DNE(4,w,2,0,"ng-container",41)(5,R,1,0,"ng-template",null,1,n.C5r),n.k0s()()),2&r){const o=n.sdS(6),e=n.XpG(2);n.R7$(4),n.Y8G("ngIf",e.viewerOnly)("ngIfElse",o)}}function G(r,l){if(1&r&&(n.j41(0,"div",26),n.EFF(1),n.k0s()),2&r){const o=n.XpG(2);n.R7$(),n.SpI(" ",o.existingUrls.length," en la reserva ")}}function T(r,l){1&r&&(n.j41(0,"div",26),n.EFF(1,"No hay fotos guardadas"),n.k0s())}function U(r,l){if(1&r){const o=n.RV6();n.j41(0,"ion-button",47),n.bIt("click",function(){n.eBV(o);const t=n.XpG().index,i=n.XpG(3);return n.Njj(i.quitarFotoExistente(t))}),n.nrm(1,"ion-icon",48),n.k0s()}}function A(r,l){if(1&r&&(n.j41(0,"div",44),n.nrm(1,"ion-img",45),n.DNE(2,U,2,0,"ion-button",46),n.k0s()),2&r){const o=l.$implicit,e=n.XpG(3);n.R7$(),n.Y8G("src",o),n.R7$(),n.Y8G("ngIf",!e.soloLectura)}}function S(r,l){if(1&r&&(n.j41(0,"div",42),n.DNE(1,A,3,2,"div",43),n.k0s()),2&r){const o=n.XpG(2);n.R7$(),n.Y8G("ngForOf",o.existingUrls)("ngForTrackBy",o.trackByUrl)}}function L(r,l){if(1&r&&(n.j41(0,"span",56),n.EFF(1),n.k0s()),2&r){const o=n.XpG(3);n.R7$(),n.SpI("",o.files.length," seleccionadas")}}function X(r,l){1&r&&(n.j41(0,"span",56),n.EFF(1,"Sin archivos seleccionados"),n.k0s())}function N(r,l){if(1&r&&(n.j41(0,"div",57),n.nrm(1,"ion-icon",58),n.j41(2,"span"),n.EFF(3),n.k0s()()),2&r){const o=n.XpG(3);n.R7$(3),n.JRh(o.fileError)}}function Y(r,l){if(1&r){const o=n.RV6();n.j41(0,"div",44),n.nrm(1,"ion-img",59),n.j41(2,"ion-button",60),n.bIt("click",function(){const t=n.eBV(o).index,i=n.XpG(4);return n.Njj(i.quitarFoto(t))}),n.nrm(3,"ion-icon",61),n.k0s()()}if(2&r){const o=l.$implicit;n.R7$(),n.Y8G("src",o)}}function D(r,l){if(1&r&&(n.j41(0,"div",42),n.DNE(1,Y,4,1,"div",43),n.k0s()),2&r){const o=n.XpG(3);n.R7$(),n.Y8G("ngForOf",o.previewUrls)("ngForTrackBy",o.trackByUrl)}}function B(r,l){if(1&r){const o=n.RV6();n.j41(0,"div",19)(1,"div",20)(2,"div",21),n.EFF(3,"Agregar fotos"),n.k0s(),n.j41(4,"div",26),n.EFF(5,"Hasta 12 im\xe1genes"),n.k0s()(),n.j41(6,"div",49)(7,"input",50,2),n.bIt("change",function(t){n.eBV(o);const i=n.XpG(2);return n.Njj(i.onFiles(t))}),n.k0s(),n.j41(9,"ion-button",51),n.bIt("click",function(){n.eBV(o);const t=n.sdS(8),i=n.XpG(2);return n.Njj(i.abrirSelectorFotos(t))}),n.nrm(10,"ion-icon",52),n.EFF(11," Elegir archivos "),n.k0s(),n.j41(12,"ion-button",51),n.bIt("click",function(){n.eBV(o);const t=n.XpG(2);return n.Njj(t.tomarFotoCapacitor())}),n.nrm(13,"ion-icon",53),n.EFF(14," Tomar foto "),n.k0s(),n.DNE(15,L,2,1,"span",54)(16,X,2,0,"span",54),n.k0s(),n.DNE(17,N,4,1,"div",55)(18,D,2,2,"div",29),n.k0s()}if(2&r){const o=n.XpG(2);n.R7$(15),n.Y8G("ngIf",null==o.files?null:o.files.length),n.R7$(),n.Y8G("ngIf",!(null!=o.files&&o.files.length)),n.R7$(),n.Y8G("ngIf",o.fileError),n.R7$(),n.Y8G("ngIf",null==o.previewUrls?null:o.previewUrls.length)}}function V(r,l){if(1&r){const o=n.RV6();n.j41(0,"ion-button",62),n.bIt("click",function(){n.eBV(o);const t=n.XpG(2);return n.Njj(t.continuar())}),n.EFF(1," VOLVER "),n.k0s()}}function z(r,l){1&r&&n.nrm(0,"ion-spinner",67)}function W(r,l){1&r&&(n.j41(0,"span"),n.EFF(1,"GUARDAR Y SALIR"),n.k0s())}function q(r,l){1&r&&n.nrm(0,"ion-spinner",67)}function J(r,l){1&r&&(n.j41(0,"span"),n.EFF(1,"SUBIR SOLO FOTOS NUEVAS"),n.k0s())}function H(r,l){if(1&r){const o=n.RV6();n.qex(0),n.j41(1,"ion-button",63),n.bIt("click",function(){n.eBV(o);const t=n.XpG(2);return n.Njj(t.guardarYSalir())}),n.DNE(2,z,1,0,"ion-spinner",64)(3,W,2,0,"span",9),n.k0s(),n.j41(4,"ion-button",65),n.bIt("click",function(){n.eBV(o);const t=n.XpG(2);return n.Njj(t.subirFotos())}),n.DNE(5,q,1,0,"ion-spinner",64)(6,J,2,0,"span",9),n.k0s(),n.j41(7,"ion-button",66),n.bIt("click",function(){n.eBV(o);const t=n.XpG(2);return n.Njj(t.continuar())}),n.EFF(8,"VOLVER SIN GUARDAR"),n.k0s(),n.bVm()}if(2&r){const o=n.XpG(2);n.R7$(),n.Y8G("disabled",o.loading.booking||o.loading.guardar||o.loading.fotos||!!o.fileError||!o.hayCambios),n.R7$(),n.Y8G("ngIf",o.loading.guardar||o.loading.fotos),n.R7$(),n.Y8G("ngIf",!(o.loading.guardar||o.loading.fotos)),n.R7$(),n.Y8G("disabled",o.loading.fotos||!!o.fileError||0===o.files.length),n.R7$(),n.Y8G("ngIf",o.loading.fotos),n.R7$(),n.Y8G("ngIf",!o.loading.fotos)}}function K(r,l){if(1&r){const o=n.RV6();n.qex(0),n.j41(1,"ion-card",10)(2,"ion-card-header",11)(3,"div",12)(4,"span",13),n.EFF(5,"Reserva "),n.j41(6,"b"),n.EFF(7),n.k0s()(),n.j41(8,"ion-badge",14),n.EFF(9),n.k0s()(),n.j41(10,"ion-card-subtitle",15),n.EFF(11),n.nI1(12,"date"),n.nI1(13,"date"),n.k0s(),n.DNE(14,E,4,3,"div",16)(15,$,7,2,"ion-item",17),n.k0s(),n.j41(16,"ion-card-content",18)(17,"div",19)(18,"div",20)(19,"div",21),n.EFF(20,"Combustible"),n.k0s(),n.j41(21,"div",22),n.EFF(22),n.k0s()(),n.j41(23,"ion-range",23),n.mxI("ngModelChange",function(t){n.eBV(o);const i=n.XpG();return n.DH7(i.combustible,t)||(i.combustible=t),n.Njj(t)}),n.nrm(24,"ion-icon",24)(25,"ion-icon",25),n.k0s()(),n.j41(26,"div",19)(27,"div",20)(28,"div",21),n.EFF(29,"Notas"),n.k0s(),n.j41(30,"div",26),n.EFF(31,"Rayones, accesorios, kilometraje, etc."),n.k0s()(),n.j41(32,"ion-textarea",27),n.mxI("ngModelChange",function(t){n.eBV(o);const i=n.XpG();return n.DH7(i.notas,t)||(i.notas=t),n.Njj(t)}),n.k0s()(),n.j41(33,"div",19)(34,"div",20)(35,"div",21),n.EFF(36,"Fotos guardadas"),n.k0s(),n.DNE(37,G,2,1,"div",28)(38,T,2,0,"ng-template",null,0,n.C5r),n.k0s(),n.DNE(40,S,2,2,"div",29),n.k0s(),n.DNE(41,B,19,4,"div",30),n.k0s(),n.j41(42,"div",31),n.DNE(43,V,2,0,"ion-button",32)(44,H,9,6,"ng-container",9),n.k0s()(),n.bVm()}if(2&r){const o=l.ngIf,e=n.sdS(39),t=n.XpG();n.R7$(7),n.SpI("#",o.codigo||o._id,""),n.R7$(),n.Y8G("color",o.estatus||"primary"),n.R7$(),n.JRh(o.estatus),n.R7$(2),n.Lme(" ",n.i5U(12,21,o.fechaInicio,"medium")," \u2192 ",n.i5U(13,24,o.fechaFin,"medium")," "),n.R7$(3),n.Y8G("ngIf",t.getRentalCar(o)),n.R7$(),n.Y8G("ngIf",t.soloLectura),n.R7$(7),n.SpI("",t.combustible,"%"),n.R7$(),n.R50("ngModel",t.combustible),n.Y8G("pin",!0)("snaps",!0)("ticks",!1)("disabled",t.soloLectura),n.R7$(9),n.R50("ngModel",t.notas),n.Y8G("readonly",t.soloLectura),n.R7$(5),n.Y8G("ngIf",null==t.existingUrls?null:t.existingUrls.length)("ngIfElse",e),n.R7$(3),n.Y8G("ngIf",null==t.existingUrls?null:t.existingUrls.length),n.R7$(),n.Y8G("ngIf",!t.soloLectura),n.R7$(2),n.Y8G("ngIf",t.soloLectura),n.R7$(),n.Y8G("ngIf",!t.soloLectura)}}let Q=(()=>{var r;class l{constructor(e,t,i,s,c){this.route=e,this.router=t,this.reservas=i,this.cdr=s,this.toast=c,this.combustible=100,this.notas="",this.files=[],this.previewUrls=[],this.existingUrls=[],this.fileError="",this.errors=[],this.loading={booking:!1,guardar:!1,fotos:!1},this.viewerOnly=!1,this.RUTA_LISTADO="/mis-reservas",this.MAX_FILES=12,this.MAX_MB_PER_FILE=8}ngOnInit(){this.route.paramMap.subscribe(e=>{const t=e.get("id");(!this.id||this.id!==t)&&(this.id=t,this.cargar())})}ionViewWillEnter(){this.id&&this.cargar()}ngOnDestroy(){this.revokePreviews()}get soloLectura(){var e;return this.viewerOnly||"en_curso"===(null===(e=this.booking)||void 0===e?void 0:e.estatus)}leerUsuario(){try{const e=localStorage.getItem("user");if(!e)return{id:null};const t=JSON.parse(e);return{id:(null==t?void 0:t._id)||(null==t?void 0:t.id)||(null==t?void 0:t.uid)||(null==t?void 0:t.userId)||(null==t?void 0:t.usuarioId)||null}}catch{return{id:null}}}soySolicitante(e){const t=this.leerUsuario().id;if(!t||!e)return!1;const i=e.usuario;return!!i&&("string"==typeof i?i===t:((null==i?void 0:i._id)||(null==i?void 0:i.id)||(null==i?void 0:i.uid)||(null==i?void 0:i.userId)||null)===t)}cargar(){this.loading.booking=!0,this.cdr.markForCheck(),this.reservas.getBookingById(this.id).pipe((0,b.j)(()=>{this.loading.booking=!1,this.cdr.markForCheck()})).subscribe({next:e=>{var t,i,s,c;this.booking=e,this.viewerOnly=this.soySolicitante(e),null!=(null==e||null===(t=e.checkIn)||void 0===t?void 0:t.combustible)&&(this.combustible=e.checkIn.combustible),null!=e&&null!==(i=e.checkIn)&&void 0!==i&&i.notas&&(this.notas=e.checkIn.notas);const a=null!==(s=null==e||null===(c=e.checkIn)||void 0===c?void 0:c.fotos)&&void 0!==s?s:[];let g=Array.isArray(a)?a:"string"==typeof a?a.split(","):[];this.existingUrls=g.map(h=>(h||"").trim()).filter(Boolean),this.cdr.markForCheck()},error:()=>this.cdr.markForCheck()})}abrirSelectorFotos(e){this.soloLectura||e.click()}onFiles(e){var t=this;return(0,f.A)(function*(){var i;if(t.soloLectura)return;const s=e.target,c=null!==(i=null==s?void 0:s.files)&&void 0!==i?i:null,a=c?Array.from(c):[];t.fileError="",t.errors=[],a.length>t.MAX_FILES&&t.errors.push(`M\xe1ximo ${t.MAX_FILES} fotos.`);const g=[];for(const _ of a.slice(0,t.MAX_FILES))_.type.startsWith("image/")?_.size/1048576>t.MAX_MB_PER_FILE?t.errors.push(`"${_.name}" supera ${t.MAX_MB_PER_FILE} MB.`):g.push(_):t.errors.push(`"${_.name}" no es imagen.`);if(t.errors.length)return t.fileError=t.errors.join(" "),t.files=[],t.refreshPreviews(),t.cdr.markForCheck(),void(s&&(s.value=""));const h=[];for(const _ of g)h.push(yield t.compressImageSafe(_));t.files=h,t.refreshPreviews(),t.cdr.markForCheck(),s&&(s.value="")})()}refreshPreviews(){this.revokePreviews(),this.previewUrls=(this.files||[]).map(e=>URL.createObjectURL(e))}revokePreviews(){this.previewUrls.forEach(e=>URL.revokeObjectURL(e)),this.previewUrls=[]}quitarFoto(e){if(this.soloLectura)return;const t=[...this.files];t.splice(e,1),this.files=t,this.refreshPreviews(),this.cdr.markForCheck()}quitarFotoExistente(e){if(this.soloLectura)return;const t=[...this.existingUrls];t.splice(e,1),this.existingUrls=t,this.cdr.markForCheck()}trackByUrl(e,t){return t||e}guardarDatos(){var e,t,i=this;if(this.soloLectura||null===(e=this.booking)||void 0===e||!e._id||this.fileError)return;this.loading.guardar=!0,this.cdr.markForCheck();const s={fecha:(new Date).toISOString(),combustible:this.combustible,notas:(null!==(t=this.notas)&&void 0!==t?t:"").trim(),existentes:this.existingUrls};var c;this.reservas.setCheckIn(this.booking._id,this.files,s).pipe((0,b.j)(()=>{this.loading.guardar=!1,this.cdr.markForCheck()})).subscribe({next:(c=(0,f.A)(function*(a){var g;i.booking=a.booking,i.existingUrls=Array.isArray(null==a||null===(g=a.booking)||void 0===g||null===(g=g.checkIn)||void 0===g?void 0:g.fotos)?[...a.booking.checkIn.fotos]:[],i.files=[],i.refreshPreviews(),yield i.showToast("Check-in guardado"),i.cdr.markForCheck()}),function(g){return c.apply(this,arguments)}),error:function(){var c=(0,f.A)(function*(){yield i.showToast("No se pudo guardar","danger"),i.cdr.markForCheck()});return function(){return c.apply(this,arguments)}}()})}subirFotos(){var e,t,i=this;if(this.soloLectura||null===(e=this.booking)||void 0===e||!e._id||0===this.files.length||this.fileError)return;this.loading.fotos=!0,this.cdr.markForCheck();const s={fecha:(new Date).toISOString(),combustible:this.combustible,notas:(null!==(t=this.notas)&&void 0!==t?t:"").trim(),existentes:this.existingUrls};var c;this.reservas.setCheckIn(this.booking._id,this.files,s).pipe((0,b.j)(()=>{this.loading.fotos=!1,this.cdr.markForCheck()})).subscribe({next:(c=(0,f.A)(function*(a){var g;i.booking=a.booking,i.existingUrls=Array.isArray(null==a||null===(g=a.booking)||void 0===g||null===(g=g.checkIn)||void 0===g?void 0:g.fotos)?[...a.booking.checkIn.fotos]:[],i.files=[],i.refreshPreviews(),yield i.showToast("Fotos subidas"),i.cdr.markForCheck()}),function(g){return c.apply(this,arguments)}),error:function(){var c=(0,f.A)(function*(){yield i.showToast("No se pudieron subir las fotos","danger"),i.cdr.markForCheck()});return function(){return c.apply(this,arguments)}}()})}getRentalCar(e){const t=null==e?void 0:e.rentalCar;return t&&"object"==typeof t?t:null}guardarYSalir(){var e,t,i=this;if(this.soloLectura)return void this.continuar();if(null===(e=this.booking)||void 0===e||!e._id||this.fileError)return;this.loading.guardar=!0,this.cdr.markForCheck();const s={fecha:(new Date).toISOString(),combustible:this.combustible,notas:(null!==(t=this.notas)&&void 0!==t?t:"").trim(),existentes:this.existingUrls};var c;this.reservas.setCheckIn(this.booking._id,this.files,s).pipe((0,b.j)(()=>{this.loading.guardar=!1,this.loading.fotos=!1,this.cdr.markForCheck()})).subscribe({next:(c=(0,f.A)(function*(a){i.booking=a.booking,yield i.showToast("Check-in guardado"),i.router.navigate([i.RUTA_LISTADO],{queryParams:{refresh:"1"},replaceUrl:!0})}),function(g){return c.apply(this,arguments)}),error:function(){var c=(0,f.A)(function*(){yield i.showToast("No se pudo guardar","danger"),i.cdr.markForCheck()});return function(){return c.apply(this,arguments)}}()})}continuar(){this.router.navigate([this.RUTA_LISTADO])}get hayCambios(){var e,t,i,s,c,a;if(this.soloLectura)return!1;const g=null!==(e=null===(t=this.booking)||void 0===t||null===(t=t.checkIn)||void 0===t?void 0:t.combustible)&&void 0!==e?e:100,h=(null!==(i=null===(s=this.booking)||void 0===s||null===(s=s.checkIn)||void 0===s?void 0:s.notas)&&void 0!==i?i:"").trim(),_=Array.isArray(null===(c=this.booking)||void 0===c||null===(c=c.checkIn)||void 0===c?void 0:c.fotos)?this.booking.checkIn.fotos:[],p=!this.arraysIguales(this.existingUrls,_);return this.combustible!==g||(null!==(a=this.notas)&&void 0!==a?a:"").trim()!==h||this.files.length>0||p}arraysIguales(e,t){if(e.length!==t.length)return!1;const i=[...e].sort(),s=[...t].sort();return i.every((c,a)=>c===s[a])}tomarFotoCapacitor(){var e=this;return(0,f.A)(function*(){if(e.soloLectura||!M.Ii.isNativePlatform())return;const t=yield v.i7.getPhoto({quality:70,allowEditing:!1,resultType:v.LK.Uri,source:v.ru.Camera}),s=yield(yield fetch(t.webPath)).blob(),c=new File([s],`foto_${Date.now()}.jpg`,{type:s.type||"image/jpeg"}),a=[...e.files,c].slice(0,e.MAX_FILES),g=[];for(const h of a)g.push(yield e.compressImageSafe(h));e.files=g,e.refreshPreviews(),e.cdr.markForCheck()})()}compressImageSafe(e){var t=this;return(0,f.A)(function*(i,s=1600,c=1600,a=.7){try{return yield t.compressImage(i,s,c,a)}catch{return i}}).apply(this,arguments)}compressImage(e){return(0,f.A)(function*(t,i=1600,s=1600,c=.7){const a=yield createImageBitmap(t),g=Math.min(i/a.width,s/a.height,1),h=Math.round(a.width*g),_=Math.round(a.height*g),p=document.createElement("canvas");p.width=h,p.height=_,p.getContext("2d").drawImage(a,0,0,h,_);const nn=yield new Promise(tn=>p.toBlob(en=>tn(en),"image/jpeg",c));return new File([nn],t.name.replace(/\.\w+$/,".jpg"),{type:"image/jpeg"})}).apply(this,arguments)}showToast(e){var t=this;return(0,f.A)(function*(i,s="success"){yield(yield t.toast.create({message:i,duration:1800,color:s})).present()}).apply(this,arguments)}}return(r=l).\u0275fac=function(e){return new(e||r)(n.rXU(x.nX),n.rXU(x.Ix),n.rXU(y.o),n.rXU(n.gRc),n.rXU(d.K_))},r.\u0275cmp=n.VBU({type:r,selectors:[["app-checkin"]],standalone:!1,decls:10,vars:2,consts:[["sinGuardadas",""],["porEnCurso",""],["fileInput",""],["color","dark"],["slot","start"],[1,"perfil-header"],["defaultHref","/"],["src","/assets/icon/logo4.png","alt","WOAW",1,"logo"],[3,"fullscreen"],[4,"ngIf"],[1,"ck-card"],[1,"ck-header"],[1,"ck-title"],[1,"codigo"],[3,"color"],[1,"fecha"],["class","auto",4,"ngIf"],["color","light","lines","none","class","solo-lectura",4,"ngIf"],[1,"ck-body"],[1,"bloque"],[1,"bloque-head"],[1,"titulo"],[1,"valor"],["min","0","max","100","step","1","aria-label","Nivel de combustible",1,"ck-range",3,"ngModelChange","ngModel","pin","snaps","ticks","disabled"],["size","small","slot","start","name","ellipse-outline"],["size","small","slot","end","name","ellipse"],[1,"hint"],["autoGrow","","rows","4","placeholder","Escribe aqu\xed\u2026",1,"ck-textarea",3,"ngModelChange","ngModel","readonly"],["class","hint",4,"ngIf","ngIfElse"],["class","grid-preview",4,"ngIf"],["class","bloque",4,"ngIf"],[1,"ck-actions"],["expand","block","fill","solid",3,"click",4,"ngIf"],[1,"auto"],["outline","",4,"ngIf"],["outline",""],["name","car-outline"],["name","settings-outline"],["name","flame-outline"],["color","light","lines","none",1,"solo-lectura"],["name","eye-outline","slot","start"],[4,"ngIf","ngIfElse"],[1,"grid-preview"],["class","preview-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"preview-item"],["alt","foto guardada",3,"src"],["fill","clear","size","small","class","btn-del","aria-label","Eliminar foto guardada",3,"click",4,"ngIf"],["fill","clear","size","small","aria-label","Eliminar foto guardada",1,"btn-del",3,"click"],["name","trash-outline"],[1,"uploader"],["type","file","accept","image/*","capture","environment","multiple","","hidden","",3,"change"],["size","small",3,"click"],["slot","start","name","image-outline"],["slot","start","name","camera-outline"],["class","uploader-info",4,"ngIf"],["class","uploader-err",4,"ngIf"],[1,"uploader-info"],[1,"uploader-err"],["name","alert-circle-outline"],["alt","foto nueva",3,"src"],["fill","clear","size","small","aria-label","Eliminar foto nueva",1,"btn-del",3,"click"],["name","close-circle-outline"],["expand","block","fill","solid",3,"click"],["expand","block","fill","solid","size","default",3,"click","disabled"],["name","dots",4,"ngIf"],["expand","block","fill","outline","size","default",3,"click","disabled"],["expand","block","fill","clear",3,"click"],["name","dots"]],template:function(e,t){1&e&&(n.j41(0,"ion-header")(1,"ion-toolbar",3)(2,"ion-buttons",4)(3,"div",5),n.nrm(4,"ion-back-button",6)(5,"img",7),n.k0s()(),n.j41(6,"ion-title"),n.EFF(7,"Check-In"),n.k0s()()(),n.j41(8,"ion-content",8),n.DNE(9,K,45,27,"ng-container",9),n.k0s()),2&e&&(n.R7$(8),n.Y8G("fullscreen",!0),n.R7$(),n.Y8G("ngIf",t.booking))},dependencies:[k.Sq,k.bT,m.BC,m.vS,d.In,d.Jm,d.QW,d.b_,d.I9,d.ME,d.HW,d.ZB,d.W9,d.eU,d.iq,d.KW,d.uz,d.he,d.Ob,d.w2,d.nc,d.BC,d.ai,d.su,d.Gw,d.el,k.vh],styles:['@charset "UTF-8";.perfil-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.perfil-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:32px;height:32px;object-fit:contain}ion-toolbar[color=dark][_ngcontent-%COMP%]{--color: var(--ion-color-light)}.ck-card[_ngcontent-%COMP%]{margin:12px;border-radius:14px;overflow:hidden;background:#fff;color:#111;box-shadow:0 10px 28px #0000001f;border:1px solid rgba(0,0,0,.06)}.ck-header[_ngcontent-%COMP%]   .ck-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:8px;margin-bottom:6px}.ck-header[_ngcontent-%COMP%]   .ck-title[_ngcontent-%COMP%]   .codigo[_ngcontent-%COMP%]{font-size:14px;opacity:.9}.ck-header[_ngcontent-%COMP%]   .fecha[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.ck-header[_ngcontent-%COMP%]   .auto[_ngcontent-%COMP%]{margin-top:8px;display:flex;flex-wrap:wrap;gap:8px}.ck-header[_ngcontent-%COMP%]   .auto[_ngcontent-%COMP%]   ion-chip[outline][_ngcontent-%COMP%]{--background: #fff;--color: #111;--border-color: #e5e7eb}.ck-header[_ngcontent-%COMP%]   .auto[_ngcontent-%COMP%]   ion-chip[outline][_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.ck-header[_ngcontent-%COMP%]   .solo-lectura[_ngcontent-%COMP%]{margin-top:8px;border-radius:10px;--background: #f8fafc;--color: #0f172a;border:1px solid #e5e7eb}.ck-body[_ngcontent-%COMP%]   .bloque[_ngcontent-%COMP%]{margin-bottom:16px}.ck-body[_ngcontent-%COMP%]   .bloque-head[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:space-between;margin-bottom:8px;gap:12px}.ck-body[_ngcontent-%COMP%]   .bloque-head[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{position:relative;font-weight:800;font-size:16px;padding-inline-start:8px}.ck-body[_ngcontent-%COMP%]   .bloque-head[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]:before{content:"";position:absolute;inset-inline-start:0;top:2px;bottom:2px;width:3px;border-radius:2px;background:var(--ion-color-danger);opacity:.9}.ck-body[_ngcontent-%COMP%]   .bloque-head[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]{font-weight:700;font-size:14px;color:#111;margin-inline-start:auto}.ck-body[_ngcontent-%COMP%]   .bloque-head[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;margin-inline-start:auto;white-space:nowrap}.ck-body[_ngcontent-%COMP%]   .ck-range[_ngcontent-%COMP%]{--bar-background: #e5e7eb;--bar-background-active: var(--ion-color-danger);--knob-background: var(--ion-color-danger);--pin-background: var(--ion-color-danger);--pin-color: #fff}.ck-body[_ngcontent-%COMP%]   .ck-textarea[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:10px;padding:6px;--padding-start: 8px;--padding-end: 8px;--background: #fff;--color: #111}.ck-body[_ngcontent-%COMP%]   .uploader[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:8px}.ck-body[_ngcontent-%COMP%]   .uploader[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 10px}.ck-body[_ngcontent-%COMP%]   .uploader[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:first-of-type{--background: var(--ion-color-danger);--color: #fff;--ripple-color: rgba(239, 68, 68, .18)}.ck-body[_ngcontent-%COMP%]   .uploader[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:nth-of-type(2){--background: #111;--color: #fff;--ripple-color: rgba(0, 0, 0, .15)}.ck-body[_ngcontent-%COMP%]   .uploader[_ngcontent-%COMP%]   .uploader-info[_ngcontent-%COMP%]{font-size:12px;color:#6b7280}.ck-body[_ngcontent-%COMP%]   .uploader-err[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:var(--ion-color-danger);margin-top:6px;font-size:14px}.ck-body[_ngcontent-%COMP%]   .grid-preview[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:10px}.ck-body[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]{position:relative;border-radius:8px;overflow:hidden;background:#f3f4f6;aspect-ratio:1/1}.ck-body[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}@supports not (aspect-ratio: 1/1){.ck-body[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:100px}}.ck-body[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .btn-del[_ngcontent-%COMP%]{position:absolute;top:2px;right:2px;--padding-start: 4px;--padding-end: 4px;--padding-top: 2px;--padding-bottom: 2px;--border-radius: 999px;--background: rgba(255, 255, 255, .85);--ripple-color: transparent;min-width:28px;min-height:28px;display:inline-flex;align-items:center;justify-content:center}.ck-body[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .btn-del[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--ion-color-danger)}.ck-body[_ngcontent-%COMP%]   .preview-item[_ngcontent-%COMP%]   .btn-del[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--ion-color-danger);outline-offset:2px;border-radius:999px}.ck-actions[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:5;display:grid;gap:8px;padding:12px;padding-bottom:calc(12px + env(safe-area-inset-bottom));background:#ffffffeb;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);border-top:1px solid #e5e7eb;box-shadow:0 -6px 18px #00000014}.ck-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 10px}.ck-actions[_ngcontent-%COMP%]   ion-button[fill=solid][_ngcontent-%COMP%]{--background: #111;--color: #fff;--ripple-color: rgba(0, 0, 0, .15)}.ck-actions[_ngcontent-%COMP%]   ion-button[fill=solid][disabled][_ngcontent-%COMP%]{--background: #111;opacity:.55}.ck-actions[_ngcontent-%COMP%]   ion-button[fill=outline][_ngcontent-%COMP%]{--border-color: var(--ion-color-danger);--color: var(--ion-color-danger);--background: #fff}.ck-actions[_ngcontent-%COMP%]   ion-button[fill=clear][_ngcontent-%COMP%]{--color: var(--ion-color-danger)}.ck-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%] + ion-button[_ngcontent-%COMP%]{margin-top:0}@media (min-width: 640px){.ck-body[_ngcontent-%COMP%]   .grid-preview[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}@media (min-width: 992px){.ck-body[_ngcontent-%COMP%]   .grid-preview[_ngcontent-%COMP%]{grid-template-columns:repeat(6,1fr);gap:10px}}'],changeDetection:0}),l})(),Z=(()=>{var r;class l{}return(r=l).\u0275fac=function(e){return new(e||r)},r.\u0275mod=n.$C({type:r}),r.\u0275inj=n.G2t({imports:[k.MD,m.YN,d.bv,P.iI.forChild([{path:"",component:Q}])]}),l})()}}]);