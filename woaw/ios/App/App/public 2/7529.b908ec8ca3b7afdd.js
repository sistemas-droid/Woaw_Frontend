"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7529],{1125:(X,j,_)=>{_.d(j,{o:()=>G});var w=_(7643),I=_(5312),x=_(6648),F=_(8810),D=_(6354),y=_(9437),e=_(5558),R=_(1360),r=_(9564),W=_(5806);let G=(()=>{var $;class U{get baseUrl(){return this._baseUrl}constructor(a,s,o){this.http=a,this.headersService=s,this.general=o,this._baseUrl=this.normalizeBaseUrl(I.c.api_key),this.BOOKING_BASE="/booking/bookings"}normalizeBaseUrl(a){return(a||"").replace(/\/+$/,"")}toParams(a){let s=new w.Nl;return Object.entries(a||{}).forEach(([o,l])=>{null==l||""===l||(Array.isArray(l)?l.forEach(i=>{s=s.append(o,String(i))}):s=s.set(o,String(l)))}),s}authJsonHeaders$(){return(0,x.H)(this.headersService.obtenerToken()).pipe((0,D.T)(a=>this.headersService.getJsonHeaders(a)))}authMultipartHeaders$(){return(0,x.H)(this.headersService.obtenerToken()).pipe((0,D.T)(a=>this.headersService.getJsonHeaders(a).delete("Content-Type")))}buildApiCandidates(a){const s=this.baseUrl.replace(/\/+$/,""),o=a.startsWith("/")?a:`/${a}`,l=`${s}${o}`,u=`${/\/api$/.test(s)?s.replace(/\/api$/,""):`${s}/api`}${o}`,h=new Set([l.replace(/\/+$/,""),u.replace(/\/+$/,"")]);return Array.from(h)}withNoCache(a){return a.set("Cache-Control","no-cache").set("Pragma","no-cache").set("If-Modified-Since","0")}withNoCacheHeaders(a){return a instanceof w.Lr?this.withNoCache(a):{...a,"Cache-Control":"no-cache",Pragma:"no-cache","If-Modified-Since":"0"}}addCacheBuster(a){const s=Date.now().toString();return(null!=a?a:new w.Nl).set("_ts",s)}formatHttpErrorMessage(a){const s="Ocurri\xf3 un error al procesar la solicitud.";if(!a)return s;const o=[],l=a.error;if(l)if("string"==typeof l)o.push(l);else{var i;"string"==typeof l.message&&o.push(l.message),"string"==typeof l.error?o.push(l.error):null!==(i=l.error)&&void 0!==i&&i.message&&o.push(String(l.error.message)),Array.isArray(l.errors)&&l.errors.length>0&&o.push(...l.errors.map(u=>(null==u?void 0:u.msg)||(null==u?void 0:u.message)||u).filter(Boolean).map(String))}0===o.length&&a.message&&o.push(String(a.message));const c=Array.from(new Set(o.map(u=>u.trim()).filter(Boolean)));return c.length?c.join("\n"):s}handleHttpErrorWithContext(a,s){return o=>{var l;const i=null==o?void 0:o.error,c="string"==typeof(null==i?void 0:i.message)&&i.message.trim()||"string"==typeof(null==o?void 0:o.message)&&o.message.trim()||"No se pudo completar la acci\xf3n";let u="";return"string"==typeof(null==i?void 0:i.error)&&i.error.trim()?u=i.error.trim():null!=i&&null!==(l=i.error)&&void 0!==l&&l.message?u=String(i.error.message):Array.isArray(null==i?void 0:i.errors)&&i.errors.length&&(u=i.errors.map(h=>(null==h?void 0:h.msg)||(null==h?void 0:h.message)||String(h)).filter(Boolean).join("\n")),u||(u=this.formatHttpErrorMessage(o)),this.general.alert(c,u,"danger"),(0,F.$)(()=>o)}}getWithApiFallback(a,s,o){const[l,i]=this.buildApiCandidates(a),c=this.withNoCacheHeaders(s),u=this.handleHttpErrorWithContext("GET",a);return this.http.get(l,{headers:c,params:o}).pipe((0,y.W)(h=>404===(null==h?void 0:h.status)&&i?this.http.get(i,{headers:c,params:o}).pipe((0,y.W)(this.handleHttpErrorWithContext("GET",a))):u(h)))}postWithApiFallback(a,s,o,l){const[i,c]=this.buildApiCandidates(a),u=this.handleHttpErrorWithContext("POST",a);return this.http.post(i,s,{headers:o,params:l}).pipe((0,y.W)(h=>404===(null==h?void 0:h.status)&&c?this.http.post(c,s,{headers:o,params:l}).pipe((0,y.W)(this.handleHttpErrorWithContext("POST",a))):u(h)))}putWithApiFallback(a,s,o,l){const[i,c]=this.buildApiCandidates(a),u=this.handleHttpErrorWithContext("PUT",a);return this.http.put(i,s,{headers:o,params:l}).pipe((0,y.W)(h=>404===(null==h?void 0:h.status)&&c?this.http.put(c,s,{headers:o,params:l}).pipe((0,y.W)(this.handleHttpErrorWithContext("PUT",a))):u(h)))}deleteWithApiFallback(a,s,o,l){const[i,c]=this.buildApiCandidates(a),u=this.handleHttpErrorWithContext("DELETE",a);return this.http.request("DELETE",i,{headers:s,params:o,body:l}).pipe((0,y.W)(h=>404===(null==h?void 0:h.status)&&c?this.http.request("DELETE",c,{headers:s,params:o,body:l}).pipe((0,y.W)(this.handleHttpErrorWithContext("DELETE",a))):u(h)))}listarBookings(a={}){const s=this.addCacheBuster(this.toParams(a));return this.authJsonHeaders$().pipe((0,e.n)(o=>this.getWithApiFallback(`${this.BOOKING_BASE}`,o,s)))}getBookingById(a){return this.authJsonHeaders$().pipe((0,e.n)(s=>this.getWithApiFallback(`${this.BOOKING_BASE}/${a}`,s,this.addCacheBuster())))}getMyBookings(){return this.authJsonHeaders$().pipe((0,e.n)(a=>this.getWithApiFallback(`${this.BOOKING_BASE}/mine`,a,this.addCacheBuster())))}getBookingsByCar(a,s={}){const o=this.addCacheBuster(this.toParams(s));return this.authJsonHeaders$().pipe((0,e.n)(l=>this.getWithApiFallback(`${this.BOOKING_BASE}/car/${a}`,l,o)))}createBookingV2(a){const s={...a};if(s.fechaInicio=new Date(a.fechaInicio).toISOString(),s.fechaFin=new Date(a.fechaFin).toISOString(),"string"==typeof s.items)try{s.items=JSON.parse(s.items)}catch{return this.general.alert("Datos inv\xe1lidos","Formato inv\xe1lido de items (JSON).","danger"),(0,F.$)(()=>new Error("Formato inv\xe1lido de items (JSON)"))}return s.rentalCar&&s.fechaInicio&&s.fechaFin?new Date(s.fechaFin)<=new Date(s.fechaInicio)?(this.general.alert("Rango inv\xe1lido","fechaFin debe ser mayor a fechaInicio.","danger"),(0,F.$)(()=>new Error("Rango de fechas inv\xe1lido: fechaFin debe ser > fechaInicio."))):!0!==s.aceptoTerminos?(this.general.alert("T\xe9rminos","Debes aceptar los t\xe9rminos para continuar.","danger"),(0,F.$)(()=>new Error("Debes aceptar los t\xe9rminos para continuar."))):this.authJsonHeaders$().pipe((0,e.n)(o=>this.postWithApiFallback(`${this.BOOKING_BASE}`,s,o))):(this.general.alert("Campos faltantes","Faltan campos: rentalCar, fechaInicio, fechaFin","danger"),(0,F.$)(()=>new Error("Faltan campos: rentalCar, fechaInicio, fechaFin")))}acceptBooking(a,s={}){const o={};return!0===s.force&&(o.force=!0),!0===s.ignoreTraslape&&(o.ignoreTraslape=!0),!0===s.ignoreOverlap&&(o.ignoreOverlap=!0),this.authJsonHeaders$().pipe((0,e.n)(l=>this.postWithApiFallback(`${this.BOOKING_BASE}/${a}/accept`,o,l)))}startBooking(a){return this.authJsonHeaders$().pipe((0,e.n)(s=>this.postWithApiFallback(`${this.BOOKING_BASE}/${a}/start`,{},s)))}finishBooking(a){return this.authJsonHeaders$().pipe((0,e.n)(s=>this.postWithApiFallback(`${this.BOOKING_BASE}/${a}/finish`,{},s)))}cancelBooking(a,s){const o=s?{motivo:s}:{};return this.authJsonHeaders$().pipe((0,e.n)(l=>this.postWithApiFallback(`${this.BOOKING_BASE}/${a}/cancel`,o,l)))}setCheckIn(a,s=[],o){const l=new FormData;return(s||[]).forEach(i=>l.append("checkInFotos",i)),null!=o&&o.fecha&&l.append("fecha",o.fecha),null!=(null==o?void 0:o.combustible)&&l.append("combustible",String(o.combustible)),null!=(null==o?void 0:o.notas)&&l.append("notas",o.notas),null!=o&&o.existentes&&l.append("checkInFotosExistentes",JSON.stringify(o.existentes)),this.authMultipartHeaders$().pipe((0,e.n)(i=>this.putWithApiFallback(`${this.BOOKING_BASE}/${a}/checkin`,l,i)))}setCheckOut(a,s=[],o){const l=new FormData;return(s||[]).forEach(i=>l.append("checkOutFotos",i)),null!=o&&o.fecha&&l.append("fecha",o.fecha),null!=(null==o?void 0:o.combustible)&&l.append("combustible",String(o.combustible)),null!=(null==o?void 0:o.notas)&&l.append("notas",o.notas),this.authMultipartHeaders$().pipe((0,e.n)(i=>this.putWithApiFallback(`${this.BOOKING_BASE}/${a}/checkout`,l,i)))}updatePayment(a,s){return this.authJsonHeaders$().pipe((0,e.n)(o=>this.putWithApiFallback(`${this.BOOKING_BASE}/${a}/payment`,s,o)))}updateDeposit(a,s){return this.authJsonHeaders$().pipe((0,e.n)(o=>this.putWithApiFallback(`${this.BOOKING_BASE}/${a}/deposit`,s,o)))}setContractUrl(a,s){return this.authJsonHeaders$().pipe((0,e.n)(o=>this.putWithApiFallback(`${this.BOOKING_BASE}/${a}/contract`,{url:s},o)))}replaceItems(a,s){return this.authJsonHeaders$().pipe((0,e.n)(o=>this.putWithApiFallback(`${this.BOOKING_BASE}/${a}/items`,{items:s},o)))}addLineItem(a,s){return this.authJsonHeaders$().pipe((0,e.n)(o=>this.postWithApiFallback(`${this.BOOKING_BASE}/${a}/items`,s,o)))}updateBookingPartial(a,s){return this.authJsonHeaders$().pipe((0,e.n)(o=>this.putWithApiFallback(`${this.BOOKING_BASE}/${a}`,s,o)))}removeLineItem(a,s){return this.authJsonHeaders$().pipe((0,e.n)(o=>this.deleteWithApiFallback(`${this.BOOKING_BASE}/${a}/items`,o,void 0,{index:s})))}deleteBooking(a){return this.authJsonHeaders$().pipe((0,e.n)(s=>this.deleteWithApiFallback(`${this.BOOKING_BASE}/${a}`,s)))}saveCheckInData(a,s){return this.authJsonHeaders$().pipe((0,e.n)(o=>this.putWithApiFallback(`${this.BOOKING_BASE}/${a}/checkin`,s,o)))}}return($=U).\u0275fac=function(a){return new(a||$)(R.KVO(w.Qq),R.KVO(r.m),R.KVO(W.O))},$.\u0275prov=R.jDH({token:$,factory:$.\u0275fac,providedIn:"root"}),U})()},5473:(X,j,_)=>{_.d(j,{n:()=>a});var w=_(467),I=_(2881),x=_(7343),F=_(9467),D=_(6557),y=_(4771),e=_(7392),R=_(5083),r=_(1360),W=_(5806),G=_(9417),$=_(2381),U=_(9557);const N=["footerRoot"];let a=(()=>{var s;class o{constructor(i,c,u,h,E,M,B,L,K){this.menu=i,this.generalService=c,this.popoverCtrl=u,this.fb=h,this.alertCtrl=E,this.router=M,this.modalCtrl=B,this.activatedRoute=L,this.carsService=K,this.blog=[],this.mostrarMapa=!1,this.mostrarVerMas=!1,this.aceptoPopup=!1,this.YaseptePopup=!1,this.esDispositivoMovil=!1,this.dispositivo="",this.currentYear=(new Date).getFullYear(),this.destinoLat=20.6079,this.destinoLng=-100.3793,this.destinoLabel="WOAW Automotive - Oficinas Operativas",this.destinoDir="Blvd. Bernardo Quintana Arrioja 14, Alamos 2da Secc, 76160 Santiago de Quer\xe9taro, Qro."}ngOnInit(){var i=this;return(0,w.A)(function*(){localStorage.setItem("popUp","true"),"true"===localStorage.getItem("popUp")&&(i.YaseptePopup=!0),i.generalService.dispositivo$.subscribe(h=>{i.esDispositivoMovil="telefono"===h||"tablet"===h,i.dispositivo=h});const u=window.location.pathname;i.mostrarMapa=u.includes("/home")})()}ngAfterViewInit(){const i=this.footerRoot.nativeElement.querySelectorAll(".is-reveal"),c=new IntersectionObserver(u=>{u.forEach(h=>{h.isIntersecting&&(h.target.classList.add("visible"),c.unobserve(h.target))})},{threshold:.15});i.forEach(u=>c.observe(u))}abrirUbicacion(){return(0,w.A)(function*(){let c=20.607572064205126,u=-100.37906506352265;const h=encodeURIComponent("Blvd. Bernardo Quintana Arrioja 17, \xc1lamos 2da Secc, Santiago de Quer\xe9taro"),E=`https://www.google.com/maps/search/?api=1&query=${c},${u}`,M=R.Ii.getPlatform();if("android"!==M)if("ios"!==M)window.open(E,"_blank");else{const B=`http://maps.apple.com/?ll=${c},${u}&q=${h}`;try{yield e.P.open({url:B})}catch{window.open(E,"_blank")}}else{const B=`geo:${c},${u}?q=${c},${u}(${h})`;try{yield e.P.open({url:B})}catch{window.open(E,"_blank")}}})()}mostrarTerminos(){var i=this;return(0,w.A)(function*(){let c;c="telefono"===i.dispositivo?yield i.modalCtrl.create({component:F.W,componentProps:{onAceptar:()=>i.setAceptado("terminos",!0),onCancelar:()=>i.setAceptado("terminos",!1)},breakpoints:[0,.7,1],cssClass:"modal-perfil",initialBreakpoint:1,handle:!0,backdropDismiss:!0,showBackdrop:!0}):yield i.modalCtrl.create({component:F.W,componentProps:{onAceptar:()=>i.setAceptado("terminos",!0),onCancelar:()=>i.setAceptado("terminos",!1)},backdropDismiss:!0,showBackdrop:!0,cssClass:"modal-consentimiento"}),yield c.present()})()}setAceptado(i,c){!0===c?localStorage.setItem(i,"true"):(localStorage.setItem(i,"false"),this.generalService.alert({aviso:"Aviso de Privacidad",terminos:"T\xe9rminos y Condiciones"}[i],{aviso:"Por tu seguridad y protecci\xf3n de datos, es necesario aceptar el Aviso de Privacidad.",terminos:"Debes aceptar los T\xe9rminos y Condiciones para usar este servicio de forma segura y responsable."}[i],"info"),localStorage.removeItem(i))}abrirCorreo(){window.location.href="mailto:comercial@wo-aw.com"}mostrarAviso(){var i=this;return(0,w.A)(function*(){let c;c="telefono"===i.dispositivo?yield i.modalCtrl.create({component:D.X,componentProps:{onAceptar:()=>i.setAceptado("aviso",!0),onCancelar:()=>i.setAceptado("aviso",!1)},breakpoints:[0,.7,1],cssClass:"modal-perfil",initialBreakpoint:1,handle:!0,backdropDismiss:!0,showBackdrop:!0}):yield i.modalCtrl.create({component:D.X,componentProps:{onAceptar:()=>i.setAceptado("aviso",!0),onCancelar:()=>i.setAceptado("aviso",!1)},backdropDismiss:!0,showBackdrop:!0,cssClass:"modal-consentimiento"}),yield c.present()})()}handleContactoClick(i){i.preventDefault();const c="true"===localStorage.getItem("popUp");console.log(c),c?window.open("mailto:contacto@goautos.mx","_blank"):this.mostrarPopUp("email")}mostrarPopUp(i){var c=this;return(0,w.A)(function*(){if("true"===localStorage.getItem("popUp"))return"telefono"===i?window.open("tel:+524425516440"):"email"===i&&window.open("mailto:contacto@goautos.mx","_blank"),void c.generalService.alert("PopUp Aceptado","\xa1Gracias por aceptar el PopUp! Ahora puedes continuar con tu registro.","success");let h;h="telefono"===c.dispositivo?yield c.modalCtrl.create({component:y.I,breakpoints:[0,.7,1],cssClass:"modal-perfil",initialBreakpoint:1,handle:!0,backdropDismiss:!1,showBackdrop:!0}):yield c.modalCtrl.create({component:y.I,backdropDismiss:!1,showBackdrop:!0,cssClass:"modal-consentimiento"}),yield h.present();const{data:E}=yield h.onDidDismiss();c.popUpAceptado(E,i)})()}handleTelefonoClick(i){i.preventDefault(),i.stopPropagation(),"true"===localStorage.getItem("popUp")?window.open("tel:+524425516440"):this.mostrarPopUp("telefono")}popUpAceptado(i,c){var u=this;return(0,w.A)(function*(){i?(localStorage.setItem("popUp","true"),"telefono"===c?window.open("tel:+524425516440"):"email"===c&&window.open("mailto:contacto@goautos.mx","_blank"),u.generalService.alert("PopUp Aceptado","\xa1Gracias por aceptar el PopUp! Ahora puedes continuar con tu registro.","success")):console.error("El usuario no acept\xf3 el PopUp")})()}redirecion(i){this.router.navigate([i])}onCambioConsentimiento(i){this.aceptoPopup=!!i.detail.checked}aceptarConsentimiento(){this.aceptoPopup?(localStorage.setItem("popUp","true"),this.YaseptePopup=!0):this.generalService.alert("Consentimiento requerido","Debes aceptar el aviso de privacidad para continuar.","warning")}}return(s=o).\u0275fac=function(i){return new(i||s)(r.rXU(x._t),r.rXU(W.O),r.rXU(x.IE),r.rXU(G.ok),r.rXU(x.hG),r.rXU($.Ix),r.rXU(x.W3),r.rXU($.nX),r.rXU(U.R))},s.\u0275cmp=r.VBU({type:s,selectors:[["app-footer"]],viewQuery:function(i,c){if(1&i&&r.GBs(N,7),2&i){let u;r.mGM(u=r.lsd())&&(c.footerRoot=u.first)}},decls:47,vars:0,consts:[["footerRoot",""],[1,"woaw-footer"],[1,"wf-wrap"],[1,"wf-col","brand","is-reveal"],[1,"marca_title"],[1,"tagline"],[1,"legal-mini"],["type","button",1,"link",3,"click"],[1,"wf-col","contact","is-reveal"],[1,"contacto_title"],[1,"empresa"],[1,"ubicacion"],[1,"consent"],["href","","role","link",1,"dato",3,"click","keydown.enter","keydown.space"],[1,"horario"],["type","button",1,"btn-primary",3,"click"],["name","navigate-outline"],[1,"wf-col","explore","is-reveal"],[1,"explora_title"],[1,"social-row"],["href","https://www.instagram.com/woaw.mx/","target","_blank","aria-label","Instagram",1,"chip"],["name","logo-instagram"],["href","https://www.tiktok.com/@woaw.mx","target","_blank","aria-label","TikTok",1,"chip"],["name","logo-tiktok"],["href","https://www.facebook.com/share/16wiS1yd9L/?mibextid=wwXIfr","target","_blank","aria-label","Facebook",1,"chip"],["name","logo-facebook"],["href","https://wa.me/524427706776","target","_blank","aria-label","WhatsApp",1,"chip"],["name","logo-whatsapp"],["href","https://www.linkedin.com/company/woaw-automotive","target","_blank","aria-label","LinkedIn",1,"chip"],["name","logo-linkedin"],["href","https://mail.google.com/mail/?view=cm&fs=1&to=comercial@wo-aw.com\n          &su=Contacto%20desde%20la%20web%20Woaw\n          &body=Hola%20equipo%20Woaw,","target","_blank","aria-label","Correo Gmail",1,"chip"],["name","mail-outline"],[1,"copy"]],template:function(i,c){if(1&i){const u=r.RV6();r.j41(0,"footer",1,0)(2,"div",2)(3,"section",3)(4,"h2",4),r.EFF(5,"Woaw Automotive"),r.k0s(),r.j41(6,"p",5),r.EFF(7," Veh\xedculos, personas y rutas claras. Sin ruido, sin adornos innecesarios. "),r.k0s(),r.j41(8,"div",6)(9,"button",7),r.bIt("click",function(){return r.eBV(u),r.Njj(c.mostrarAviso())}),r.EFF(10," Aviso de Privacidad "),r.k0s(),r.j41(11,"button",7),r.bIt("click",function(){return r.eBV(u),r.Njj(c.mostrarTerminos())}),r.EFF(12," T\xe9rminos "),r.k0s()()(),r.j41(13,"section",8)(14,"h2",9),r.EFF(15,"Contacto"),r.k0s(),r.j41(16,"h3",10),r.EFF(17,"Woaw Automotive S.A. de C.V."),r.k0s(),r.j41(18,"p",11),r.EFF(19,"Santiago de Quer\xe9taro, M\xe9xico"),r.k0s(),r.j41(20,"p",12),r.EFF(21," Consentimiento registrado. Puedes escribirnos o llamarnos cuando quieras. "),r.k0s(),r.j41(22,"a",13),r.bIt("click",function(E){return r.eBV(u),r.Njj(c.handleTelefonoClick(E))})("keydown.enter",function(E){return r.eBV(u),r.Njj(c.handleTelefonoClick(E))})("keydown.space",function(E){return r.eBV(u),c.handleTelefonoClick(E),r.Njj(E.preventDefault())}),r.EFF(23," +52 442 770 6776 "),r.k0s(),r.j41(24,"p",14),r.EFF(25,"Lunes a Viernes: 9:00\u201318:00"),r.k0s(),r.j41(26,"button",15),r.bIt("click",function(){return r.eBV(u),r.Njj(c.abrirUbicacion())}),r.nrm(27,"ion-icon",16),r.EFF(28," C\xd3MO LLEGAR "),r.k0s()(),r.j41(29,"section",17)(30,"h2",18),r.EFF(31,"Redes"),r.k0s(),r.j41(32,"div",19)(33,"a",20),r.nrm(34,"ion-icon",21),r.k0s(),r.j41(35,"a",22),r.nrm(36,"ion-icon",23),r.k0s(),r.j41(37,"a",24),r.nrm(38,"ion-icon",25),r.k0s(),r.j41(39,"a",26),r.nrm(40,"ion-icon",27),r.k0s(),r.j41(41,"a",28),r.nrm(42,"ion-icon",29),r.k0s(),r.j41(43,"a",30),r.nrm(44,"ion-icon",31),r.k0s()()()(),r.j41(45,"div",32),r.EFF(46,"\xa9 2025 Woaw Automotive. Todos los derechos reservados."),r.k0s()()}},dependencies:[x.bv,x.iq,I.MD],styles:['@charset "UTF-8";.woaw-footer[_ngcontent-%COMP%]{background:#f2f2f7;padding:28px 20px 110px;color:#1c1c1e;border-top:1px solid rgba(0,0,0,.08)}.wf-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.wf-col[_ngcontent-%COMP%]{background:#fff;padding:18px 20px;border-radius:16px;box-shadow:0 3px 12px #0000000a;border:1px solid rgba(0,0,0,.06)}h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:800;color:#111}p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:14px;line-height:1.45}.legal-mini[_ngcontent-%COMP%]{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}.legal-mini[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#007aff;font-weight:600;border-radius:12px;padding:6px 12px;background:#f3f3f7;border:1px solid rgba(0,0,0,.06)}.empresa[_ngcontent-%COMP%]{font-weight:700;margin-bottom:4px;font-size:15px;color:#111}.dato[_ngcontent-%COMP%]{display:inline-block;margin-top:8px;color:#007aff;font-weight:600;font-size:15px;border-bottom:1px dotted rgba(0,0,0,.2)}.btn-primary[_ngcontent-%COMP%]{margin-top:14px;display:inline-flex;align-items:center;gap:8px;padding:12px 18px;background:#ff3b30;color:#fff;border-radius:14px;font-weight:700;border:none;font-size:15px;box-shadow:0 6px 20px #ff3b3040}.social-row[_ngcontent-%COMP%]{margin-top:14px;display:flex;gap:14px;flex-wrap:wrap}.social-row[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{width:42px;height:42px;background:#fff;border-radius:50%;border:1px solid rgba(0,0,0,.08);display:grid;place-items:center;color:#111;font-size:22px;box-shadow:0 2px 6px #00000014}.copy[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;text-align:center;color:#8e8e93}']}),o})()},7529:(X,j,_)=>{_.r(j),_.d(j,{ReservasPageModule:()=>z});var w=_(2881),I=_(9417),x=_(7343),F=_(9870),D=_(467),y=_(6697),e=_(1360),R=_(2381),r=_(3104),W=_(1125),G=_(5806),$=_(5473);function U(d,P){if(1&d&&(e.j41(0,"ion-title",11),e.EFF(1),e.k0s()),2&d){const m=e.XpG();e.R7$(),e.Lme(" Reservar \u2014 ",m.coche.marca," ",m.coche.modelo," ")}}function N(d,P){if(1&d&&(e.j41(0,"ion-badge",41),e.EFF(1),e.k0s()),2&d){const m=e.XpG(2);e.R7$(),e.SpI(" m\xedn. ",null==m.coche?null:m.coche.minDias," d\xeda(s) ")}}function a(d,P){if(1&d){const m=e.RV6();e.j41(0,"ion-datetime",42),e.bIt("ionChange",function(n){e.eBV(m);const p=e.XpG(2);return e.Njj(p.onRangeChange(n))}),e.k0s()}if(2&d){const m=e.XpG(2);e.Y8G("multiple",!0)("min",m.minStart)("isDateEnabled",m.isDateEnabled)("value",m.rangeValue)("highlightedDates",m.mergedHighlights)}}function s(d,P){1&d&&(e.j41(0,"ion-note",41),e.EFF(1," La fecha de inicio no puede ser anterior a hoy. "),e.k0s())}function o(d,P){1&d&&(e.j41(0,"ion-note",41),e.EFF(1," La fecha de fin debe ser posterior a la de inicio. "),e.k0s())}function l(d,P){if(1&d&&(e.j41(0,"ion-note",41),e.EFF(1),e.k0s()),2&d){const m=e.XpG(2);e.R7$(),e.SpI(" Debes reservar al menos ",null==m.coche?null:m.coche.minDias," d\xeda(s). ")}}function i(d,P){1&d&&(e.j41(0,"ion-note",41),e.EFF(1," Tu rango incluye d\xedas no disponibles. Elige otras fechas. "),e.k0s())}function c(d,P){1&d&&e.nrm(0,"ion-spinner",2)}function u(d,P){1&d&&e.nrm(0,"ion-icon",43)}function h(d,P){if(1&d){const m=e.RV6();e.j41(0,"section",12)(1,"div",13)(2,"div",14)(3,"h1",15),e.EFF(4),e.j41(5,"span",16),e.EFF(6),e.k0s()(),e.j41(7,"div",17)(8,"span",18),e.EFF(9),e.nI1(10,"currency"),e.j41(11,"span",19),e.EFF(12,"/d\xeda"),e.k0s()(),e.j41(13,"ion-badge",20),e.EFF(14),e.k0s(),e.DNE(15,N,2,1,"ion-badge",21),e.k0s()(),e.j41(16,"ion-card",22),e.nrm(17,"img",23),e.k0s()(),e.j41(18,"ion-card",24)(19,"ion-card-header")(20,"ion-card-title"),e.EFF(21,"Datos de la reserva"),e.k0s(),e.j41(22,"ion-card-subtitle"),e.EFF(23,"Selecciona fechas"),e.k0s()(),e.j41(24,"ion-card-content")(25,"form",25)(26,"div",26)(27,"ion-item",27),e.DNE(28,a,1,5,"ion-datetime",28),e.k0s(),e.DNE(29,s,2,0,"ion-note",21)(30,o,2,0,"ion-note",21)(31,l,2,1,"ion-note",21)(32,i,2,0,"ion-note",21),e.k0s()()()(),e.j41(33,"ion-card",29)(34,"ion-card-content")(35,"div",30)(36,"div",31)(37,"span",32),e.EFF(38,"D\xedas"),e.k0s(),e.j41(39,"span",33),e.EFF(40),e.k0s()(),e.j41(41,"div",31)(42,"span",32),e.EFF(43,"Total"),e.k0s(),e.j41(44,"span",34),e.EFF(45),e.nI1(46,"currency"),e.k0s()()(),e.j41(47,"ion-button",35),e.bIt("click",function(){e.eBV(m);const n=e.XpG();return e.Njj(n.reservar())}),e.DNE(48,c,1,0,"ion-spinner",36)(49,u,1,0,"ion-icon",37),e.EFF(50," Reservar ahora "),e.k0s()()(),e.j41(51,"ion-card",38)(52,"ion-card-header")(53,"ion-card-title"),e.EFF(54,"Notas para el propietario"),e.k0s()(),e.j41(55,"ion-card-content")(56,"ion-item",39),e.nrm(57,"ion-textarea",40),e.k0s()()()()}if(2&d){let m,t;const n=e.XpG();e.R7$(4),e.SpI(" ",null==n.coche?null:n.coche.marca," "),e.R7$(2),e.JRh(null==n.coche?null:n.coche.modelo),e.R7$(3),e.SpI(" ",e.brH(10,17,null!==(m=null!==(m=null==n.coche||null==n.coche.precio?null:n.coche.precio.porDia)&&void 0!==m?m:null==n.coche?null:n.coche.precioPorDia)&&void 0!==m?m:null==n.coche?null:n.coche.precio,(null==n.coche||null==n.coche.precio?null:n.coche.precio.moneda)||"MXN","symbol")," "),e.R7$(5),e.SpI(" ",(null==n.coche||null==n.coche.ubicacion?null:n.coche.ubicacion.ciudad)||"\u2014"," "),e.R7$(),e.Y8G("ngIf",null==n.coche?null:n.coche.minDias),e.R7$(2),e.Y8G("src",(null==n.coche?null:n.coche.imagenPrincipalUrl)||(null==n.coche?null:n.coche.imagenPrincipal)||"/assets/placeholder-car.jpg",e.B4B),e.R7$(8),e.Y8G("formGroup",n.form),e.R7$(3),e.Y8G("ngIf",n.showCalendar),e.R7$(),e.Y8G("ngIf",(null==(t=n.form.get("fechaInicio"))?null:t.hasError("minHoy"))&&(null==(t=n.form.get("fechaInicio"))?null:t.touched)),e.R7$(),e.Y8G("ngIf",n.form.hasError("rangoInvalido")&&n.form.touched),e.R7$(),e.Y8G("ngIf",n.form.hasError("minDias")&&n.form.touched),e.R7$(),e.Y8G("ngIf",n.form.hasError("rangoOcupado")&&n.form.touched),e.R7$(8),e.JRh(n.dias),e.R7$(5),e.SpI(" ",e.brH(46,21,n.total,(null==n.coche||null==n.coche.precio?null:n.coche.precio.moneda)||"MXN","symbol")," "),e.R7$(2),e.Y8G("disabled",!n.canSubmit||n.enviando),e.R7$(),e.Y8G("ngIf",n.enviando),e.R7$(),e.Y8G("ngIf",!n.enviando)}}function E(d=new Date){return`${d.getFullYear()}-${String(d.getMonth()+1).padStart(2,"0")}-${String(d.getDate()).padStart(2,"0")}`}function M(d){const[P,m,t]=(d||"").slice(0,10).split("-").map(Number);return new Date(P,m-1,t)}function B(d){return new Date(d.getFullYear(),d.getMonth(),d.getDate())}function L(d){const[P,m,t]=d.slice(0,10).split("-").map(Number);return new Date(Date.UTC(P,m-1,t,12,0,0)).toISOString()}function K(d){const P=d.value;if(!P)return null;const m=M(E(new Date));return M(P)<m?{minHoy:!0}:null}function J(d){var P,m;const t=null===(P=d.get("fechaInicio"))||void 0===P?void 0:P.value,n=null===(m=d.get("fechaFin"))||void 0===m?void 0:m.value;if(!t||!n)return null;const p=M(t);return M(n)<p?{rangoInvalido:!0}:null}const V=[{path:"",component:(()=>{var d;class P{constructor(t,n,p,g,f,v,C,b,O){this.route=t,this.router=n,this.fb=p,this.rentaService=g,this.reservaService=f,this.loadingCtrl=v,this.toastCtrl=C,this.alertCtrl=b,this.general=O,this.coche=null,this.total=0,this.dias=1,this.enviando=!1,this.ocupadasISO=new Set,this.rangeValue=[],this.highlightedRange=[],this.highlightedDisabled=[],this.showCalendar=!0,this.userInteracted=!1,this.prevRendered=new Set,this.suppressDupUntil=0,this.isDateEnabled=k=>{try{const S=(k||"").slice(0,10);return!this.ocupadasISO.has(S)}catch{return!0}}}ngOnInit(){this.carId=this.route.snapshot.paramMap.get("id")||"",this.initForm(),this.form.valueChanges.subscribe(()=>{this.userInteracted&&(this.recalc(),this.syncRangeFromForm(),this.validarMinDiasYDisponibilidad(),this.buildHighlightedRange())}),this.form.reset({fechaInicio:null,fechaFin:null,notasCliente:""},{emitEvent:!1}),this.rangeValue=[],this.highlightedRange=[],this.prevRendered=new Set(this.rangeValue),this.buildDisabledHighlights(),this.loadCar()}initForm(){this.form=this.fb.group({fechaInicio:[null,[I.k0.required,K]],fechaFin:[null],notasCliente:[""]},{validators:[J]})}loadCar(){var t=this;return(0,D.A)(function*(){const n=yield t.loadingCtrl.create({message:"Cargando coche..."});var p;yield n.present(),t.rentaService.cochePorId(t.carId).subscribe({next:(p=(0,D.A)(function*(g){t.coche=g,t.rentaService.diasNoDisponibles(t.carId).pipe((0,y.s)(1)).subscribe(C=>{const b=new Set(t.ocupadasISO);for(const O of C)b.add(O);t.ocupadasISO=b,t.buildDisabledHighlights(),t.forceCalendarRerender()});try{var f,v;const C=null===(f=t.rentaService)||void 0===f||null===(v=f.fechasOcupadas)||void 0===v?void 0:v.call(f,t.carId);null!=C&&C.subscribe&&C.pipe((0,y.s)(1)).subscribe(b=>{if(Array.isArray(b)){const O=new Set(t.ocupadasISO);for(const k of b)O.add(String(k).slice(0,10));t.ocupadasISO=O,t.buildDisabledHighlights(),t.forceCalendarRerender()}})}catch{}yield n.dismiss()}),function(f){return p.apply(this,arguments)}),error:function(){var p=(0,D.A)(function*(){yield n.dismiss(),t.toast("No se pudo cargar el coche"),t.router.navigateByUrl("/")});return function(){return p.apply(this,arguments)}}()})})()}get minStart(){return E(new Date)}buildDisabledHighlights(){this.highlightedDisabled=Array.from(this.ocupadasISO).map(p=>({date:p,backgroundColor:"#e5e7eb",textColor:"#6b7280"}))}get mergedHighlights(){return[...this.highlightedDisabled,...this.highlightedRange]}forceCalendarRerender(){this.showCalendar=!1,setTimeout(()=>this.showCalendar=!0,0)}diffDaysInclusiveLocal(t,n){const p=B(t).getTime(),g=B(n).getTime(),f=Math.ceil((g-p)/864e5);return Math.max(1,f+1)}recalc(){var t,n,p,g,f,v,C,b;if(!this.coche)return;const O=null===(t=this.form.get("fechaInicio"))||void 0===t?void 0:t.value,S=(null===(n=this.form.get("fechaFin"))||void 0===n?void 0:n.value)||O;if(O){const T=M(O),H=M(S||O);this.dias=this.diffDaysInclusiveLocal(T,H)}else this.dias=1;const A=Number(null!==(p=null!==(g=null!==(f=null===(v=this.coche)||void 0===v||null===(v=v.precio)||void 0===v?void 0:v.porDia)&&void 0!==f?f:null===(C=this.coche)||void 0===C?void 0:C.precioPorDia)&&void 0!==g?g:null===(b=this.coche)||void 0===b?void 0:b.precio)&&void 0!==p?p:0);this.total=A*(this.dias||1)}rangoTieneOcupadas(t,n){if(!t)return!1;let p=M(t),g=M(n||t);g<p&&([p,g]=[g,p]);for(let f=new Date(p);f<=g;f.setDate(f.getDate()+1))if(this.ocupadasISO.has(E(f)))return!0;return!1}validarMinDiasYDisponibilidad(){var t,n,p,g;const f=null===(t=this.form.get("fechaInicio"))||void 0===t?void 0:t.value,v=null!==(n=null===(p=this.form.get("fechaFin"))||void 0===p?void 0:p.value)&&void 0!==n?n:f,C=Number((null===(g=this.coche)||void 0===g?void 0:g.minDias)||1),b={...this.form.errors||{}};delete b.minDias,delete b.rangoOcupado,f&&this.dias<C&&(b.minDias=!0),f&&this.rangoTieneOcupadas(f,v)&&(b.rangoOcupado=!0),this.form.setErrors(Object.keys(b).length?b:null)}syncRangeFromForm(){var t,n;const p=null===(t=this.form.get("fechaInicio"))||void 0===t?void 0:t.value,g=null===(n=this.form.get("fechaFin"))||void 0===n?void 0:n.value;this.rangeValue=[p,g].filter(Boolean)}onRangeChange(t){var n;this.userInteracted=!0,this.handlePick(null==t||null===(n=t.detail)||void 0===n?void 0:n.value)}onRangeValueChange(t){var n,p;this.userInteracted=!0,this.handlePick(Array.isArray(t)?t:null!==(n=null==t||null===(p=t.detail)||void 0===p?void 0:p.value)&&void 0!==n?n:t)}normalizeMulti(t){const n=Array.isArray(t)?t:t?[t]:[],p=[];for(const g of n){const f=String(g).slice(0,10);p.includes(f)||p.push(f)}return p}sameSet(t,n){if(t.length!==n.length)return!1;const p=new Set(t),g=new Set(n);for(const f of p)if(!g.has(f))return!1;return!0}handlePick(t){if(Date.now()<this.suppressDupUntil)return;const p=this.normalizeMulti(t);if(this.sameSet(p,this.rangeValue))return;const g=new Set(p);let f=null,v=!1;for(const C of g)if(!this.prevRendered.has(C)){f=C,v=!1;break}if(!f)for(const C of this.prevRendered)if(!g.has(C)){f=C,v=!0;break}!f&&p.length&&(f=p[p.length-1]),this.applyTouchedInteractive(f,v,p),this.prevRendered=new Set(this.rangeValue),this.suppressDupUntil=Date.now()+60}applyTouchedInteractive(t,n,p){var g,f;if(!t)return;const v=null===(g=this.form.get("fechaInicio"))||void 0===g?void 0:g.value,C=null===(f=this.form.get("fechaFin"))||void 0===f?void 0:f.value;let b=null!=v?v:null,O=null!=C?C:null;if(n){const k=[...p].sort();0===k.length?(b=null,O=null):1===k.length?(b=k[0],O=null):(b=k[0],O=k[k.length-1])}else if(v)if(v&&!C){const k=M(v);+M(t)<+k?(b=t,O=v):(b=v,O=t)}else{const k=M(v),S=M(C),A=M(t);+A<+k?b=t:+A>+S?O=t:Math.abs(+A-+k)<=Math.abs(+S-+A)?b=t:O=t}else b=t,O=null;if(b&&O){const k=M(b);if(+M(O)<+k){const A=b;b=O,O=A}}this.form.patchValue({fechaInicio:b,fechaFin:null!=O?O:null},{emitEvent:!0})}buildHighlightedRange(){var t,n,p;this.highlightedRange=[];const g=null===(t=this.form.get("fechaInicio"))||void 0===t?void 0:t.value,f=null!==(n=null===(p=this.form.get("fechaFin"))||void 0===p?void 0:p.value)&&void 0!==n?n:g;if(!g)return;let v=M(g),C=M(f);C<v&&([v,C]=[C,v]);const k=new Date(v);for(;k<=C;)this.highlightedRange.push({date:E(k),backgroundColor:"#e11d2f",textColor:"#ffffff"}),k.setDate(k.getDate()+1)}reservar(){var t=this;return(0,D.A)(function*(){var n,p,g;if(!t.userInteracted)return void t.toast("Selecciona las fechas de tu reserva.");if(!t.canSubmit||!t.coche||t.enviando)return void(t.enviando||(t.form.markAllAsTouched(),t.toast("Completa el formulario.")));t.enviando=!0;let{fechaInicio:f,fechaFin:v,notasCliente:C}=t.form.value;f&&!v&&(v=f);const b=Number((null===(n=t.coche)||void 0===n?void 0:n.minDias)||1);if(t.dias<b)return t.enviando=!1,void t.toast(`Debes reservar al menos ${b} d\xeda(s).`);if(t.rangoTieneOcupadas(f,v))return t.enviando=!1,void t.toast("Tu rango incluye d\xedas no disponibles.");const O=yield t.loadingCtrl.create({message:"Creando reserva..."});yield O.present();const k=L(f),S=L(v);var A;t.reservaService.createBookingV2({rentalCar:t.coche._id,fechaInicio:k,fechaFin:S,items:[],moneda:null!==(p=null===(g=t.coche)||void 0===g||null===(g=g.precio)||void 0===g?void 0:g.moneda)&&void 0!==p?p:"MXN",notasCliente:C,politicaCancelacion:"flex",aceptoTerminos:!0}).subscribe({next:(A=(0,D.A)(function*(T){yield O.dismiss(),t.enviando=!1,t.general.alert("\xa1Renta creada!","Tu reserva fue creada correctamente. Espera a que el due\xf1o acepte la solicitud para continuar.","success"),t.router.navigate(["/"])}),function(H){return A.apply(this,arguments)}),error:function(){var A=(0,D.A)(function*(T){yield O.dismiss(),t.enviando=!1});return function(H){return A.apply(this,arguments)}}()})})()}toast(t){var n=this;return(0,D.A)(function*(){yield(yield n.toastCtrl.create({message:t,duration:2200,position:"bottom"})).present()})()}get canSubmit(){var t;if(!this.userInteracted)return!1;const n=this.form.value.fechaInicio,p=null!==(t=this.form.value.fechaFin)&&void 0!==t?t:n;if(!n)return!1;const g=M(n),f=M(p),v=M(E(new Date)),C=g.getTime()>=v.getTime(),b=f.getTime()>=g.getTime(),O=!this.form.hasError("minDias")&&!this.form.hasError("rangoOcupado");return C&&b&&O}volver(){history.back()}cerrar(){this.router.navigateByUrl("/")}}return(d=P).\u0275fac=function(t){return new(t||d)(e.rXU(R.nX),e.rXU(R.Ix),e.rXU(I.ok),e.rXU(r.w),e.rXU(W.o),e.rXU(x.Xi),e.rXU(x.K_),e.rXU(x.hG),e.rXU(G.O))},d.\u0275cmp=e.VBU({type:d,selectors:[["app-reservas"]],standalone:!1,decls:14,vars:4,consts:[[1,"ios-header",3,"translucent"],["mode","ios"],["slot","start"],["fill","clear","aria-label","Regresar",1,"btn-back",3,"click"],["name","chevron-back-outline","slot","start"],["class","titulo-perfil",4,"ngIf"],["slot","end"],["aria-label","Cerrar","fill","clear",1,"btn-close",3,"click"],["name","close-outline"],[1,"ios-content",3,"fullscreen"],["class","grid-cal-img",4,"ngIf"],[1,"titulo-perfil"],[1,"grid-cal-img"],[1,"col-media"],[1,"media-head"],[1,"titulo","truncate"],[1,"car-name"],[1,"chips"],[1,"precio-dia"],[1,"por-dia"],["color","dark"],["color","danger",4,"ngIf"],[1,"card-media","ios-card"],["alt","Auto",3,"src"],[1,"card-fechas","ios-card"],[3,"formGroup"],[1,"fechas-grid"],["lines","none",1,"danger-datetime","ios-item"],["presentation","date","locale","es-ES",3,"multiple","min","isDateEnabled","value","highlightedDates","ionChange",4,"ngIf"],[1,"card-resumen","ios-card"],[1,"resumen-grid"],[1,"col"],[1,"label"],[1,"value"],[1,"value","total"],["expand","block","color","danger","fill","solid",1,"btn-reservar",3,"click","disabled"],["slot","start",4,"ngIf"],["name","checkmark-circle-outline","slot","start",4,"ngIf"],[1,"card-notas","ios-card"],["lines","none",1,"ios-item"],["label","Notas para el propietario","labelPlacement","floating","formControlName","notasCliente","placeholder","Indica preferencias de entrega, horarios, etc."],["color","danger"],["presentation","date","locale","es-ES",3,"ionChange","multiple","min","isDateEnabled","value","highlightedDates"],["name","checkmark-circle-outline","slot","start"]],template:function(t,n){1&t&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),e.bIt("click",function(){return n.volver()}),e.nrm(4,"ion-icon",4),e.j41(5,"span"),e.EFF(6,"Regresar"),e.k0s()()(),e.DNE(7,U,2,2,"ion-title",5),e.j41(8,"ion-buttons",6)(9,"ion-button",7),e.bIt("click",function(){return n.cerrar()}),e.nrm(10,"ion-icon",8),e.k0s()()()(),e.j41(11,"ion-content",9),e.DNE(12,h,58,25,"section",10),e.nrm(13,"app-footer"),e.k0s()),2&t&&(e.Y8G("translucent",!0),e.R7$(7),e.Y8G("ngIf",n.coche),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(),e.Y8G("ngIf",n.coche))},dependencies:[w.bT,I.qT,I.BC,I.cb,I.j4,I.JD,x.In,x.Jm,x.QW,x.b_,x.I9,x.ME,x.HW,x.tN,x.W9,x.A9,x.eU,x.iq,x.uz,x.JI,x.w2,x.nc,x.BC,x.ai,x.Je,x.Gw,$.n,w.oe],styles:['@charset "UTF-8";[_nghost-%COMP%]{--borde: #e5e7eb;--bg: #ffffff;--bg-app: #f2f2f7;--ok: #10b981;--borde-suave: #e5e7eb;--bg-claro: #ffffff;--negro: #111827;--negro-2: #161718;--rojo: #e11d2f;--rojo-600: #c81628;--rojo-700: #a31221;--ion-color-primary: var(--rojo);--ion-color-primary-contrast: #ffffff;--ion-color-danger: var(--rojo);--ion-color-dark: var(--negro);--ion-background-color: var(--bg-app)}ion-header.ios-header[_ngcontent-%COMP%]{backdrop-filter:saturate(180%) blur(20px);-webkit-backdrop-filter:saturate(180%) blur(20px);--background: rgba(248, 248, 250, .9);--color: #111827;border-bottom:.55px solid rgba(60,60,67,.18)}ion-header.ios-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--min-height: 48px;padding-inline:8px}.btn-back[_ngcontent-%COMP%]{--padding-start: 4px;--padding-end: 8px;--background: transparent;text-transform:none;font-weight:500;font-size:15px;color:var(--ion-color-primary);border-radius:999px}.btn-back[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.btn-back[_ngcontent-%COMP%]:hover{--background: rgba(0, 0, 0, .04)}.btn-close[_ngcontent-%COMP%]{--padding-start: 4px;--padding-end: 4px;color:#6b7280}.titulo-perfil[_ngcontent-%COMP%]{font-size:15px;font-weight:600;text-align:center;max-width:60vw;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ios-content[_ngcontent-%COMP%]{--background: var(--bg-app)}.grid-cal-img[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:16px;width:100%;max-width:1200px;padding:12px 12px 20px;margin:0 auto;box-sizing:border-box}@media (min-width: 768px){.grid-cal-img[_ngcontent-%COMP%]{grid-template-columns:1.1fr .9fr;align-items:flex-start}.grid-cal-img[_ngcontent-%COMP%]   .card-resumen[_ngcontent-%COMP%], .card-notas[_ngcontent-%COMP%]{grid-column:1/-1}}.col-media[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.media-head[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{margin:0 0 6px;font-weight:800;font-size:clamp(20px,2.4vw,24px);color:var(--negro)}.car-name[_ngcontent-%COMP%]{color:var(--ion-color-danger);font-weight:900}.media-head[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:8px;width:100%}.chips[_ngcontent-%COMP%]   .precio-dia[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 12px;border-radius:999px;font-weight:800;font-size:clamp(16px,2.2vw,18px);line-height:1;background:#e11d2f1a;border:1px solid rgba(225,29,47,.22);color:var(--rojo);white-space:nowrap;margin-left:auto;order:2}.chips[_ngcontent-%COMP%]   .precio-dia[_ngcontent-%COMP%]   .por-dia[_ngcontent-%COMP%]{font-weight:600;opacity:.9;margin-left:2px}.media-head[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{order:1}.media-head[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   ion-badge[color=dark][_ngcontent-%COMP%]{--background: #111827;--color: #ffffff;--border-radius: 999px;--padding-start: 10px;--padding-end: 10px}.media-head[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   ion-badge[color=danger][_ngcontent-%COMP%]{--background: rgba(225, 29, 47, .12);--color: var(--rojo);border-radius:999px;border:1px solid rgba(225,29,47,.22);--padding-start: 10px;--padding-end: 10px}@media (max-width: 420px){.media-head[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]{row-gap:6px}.media-head[_ngcontent-%COMP%]   .chips[_ngcontent-%COMP%]   .precio-dia[_ngcontent-%COMP%]{margin-left:auto}}ion-card[_ngcontent-%COMP%], .ios-card[_ngcontent-%COMP%]{margin:0;border-radius:18px;border:1px solid rgba(0,0,0,.03);background:#fff;box-shadow:0 10px 30px #0f172a14;overflow:hidden}.card-media[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:4px 4px 10px}.card-media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-height:clamp(260px,60vh,520px);object-fit:contain;display:block}@media (min-width: 992px){.grid-cal-img[_ngcontent-%COMP%]   .card-media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:clamp(270px,47vh,470px)!important}.grid-cal-img[_ngcontent-%COMP%]   .card-media[_ngcontent-%COMP%]{padding:8px!important}}ion-card-header[_ngcontent-%COMP%]{padding:12px 16px 10px}ion-card-title[_ngcontent-%COMP%]{font-weight:800;color:var(--negro);font-size:16px}ion-card-subtitle[_ngcontent-%COMP%]{opacity:.7;font-size:13px}ion-card-content[_ngcontent-%COMP%]{padding:14px 16px 16px}.ios-item[_ngcontent-%COMP%]{--background: transparent;--padding-start: 0;--inner-padding-end: 0;--min-height: 48px;margin-bottom:6px}.fechas-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin:12px 0 6px}ion-item.danger-datetime[_ngcontent-%COMP%]{width:100%;--padding-start: 0;--padding-end: 0;--inner-padding-start: 0;--inner-padding-end: 0;display:block}ion-item.danger-datetime[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}ion-item.danger-datetime[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{width:100%;max-width:none;margin:0 auto;border-radius:18px;border:1px solid var(--borde-suave);--background: #ffffff;--ion-text-color: var(--negro);box-shadow:0 10px 28px #0f172a14;padding-bottom:6px}ion-item.danger-datetime[_ngcontent-%COMP%]   ion-datetime.ion-invalid[_ngcontent-%COMP%], ion-item.danger-datetime[_ngcontent-%COMP%]   ion-datetime.datetime-error[_ngcontent-%COMP%]{box-shadow:0 0 0 2px #ef44441f,0 10px 28px #0f172a14}ion-item.danger-datetime[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]::part(calendar-month-year){padding:8px 10px}ion-item.danger-datetime[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]::part(calendar-day){border-radius:999px;padding:0;transition:background .15s ease,box-shadow .15s ease}ion-item.danger-datetime[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]::part(calendar-day):hover{box-shadow:inset 0 0 0 1px #0000000f}ion-item.danger-datetime[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]::part(calendar-day-active){border-radius:999px;background:var(--rojo)!important;color:#fff!important;box-shadow:0 0 0 2px #e11d2f38}ion-item.danger-datetime[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]::part(calendar-day-in-range){background:#e11d2f14}ion-item.danger-datetime[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]::part(calendar-day-start), ion-item.danger-datetime[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]::part(calendar-day-end){background:var(--rojo);color:#fff;box-shadow:0 0 0 2px #e11d2f42}ion-item.danger-datetime[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]::part(calendar-day-today){outline:2px solid rgba(225,29,47,.3);outline-offset:1px;border-radius:999px}ion-item.danger-datetime[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]::part(calendar-day-disabled){opacity:.4;filter:grayscale(.3)}ion-note[color=danger][_ngcontent-%COMP%]{display:block;margin:2px 0 4px 4px;font-size:12.5px}.card-resumen[_ngcontent-%COMP%]{border-radius:20px;border:1px solid rgba(0,0,0,.03);background:#fff;box-shadow:0 12px 32px #0f172a1a}.card-resumen[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.resumen-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;align-items:center}@media (max-width: 480px){.resumen-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.resumen-grid[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{display:flex;flex-direction:column;background:#f9fafb;border:1px solid var(--borde-suave);border-radius:14px;padding:12px 14px;text-align:center}.resumen-grid[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#6b7280;font-size:13px;margin-bottom:4px}.resumen-grid[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:800;color:var(--negro);font-size:1.1rem}.resumen-grid[_ngcontent-%COMP%]   .value.total[_ngcontent-%COMP%]{color:var(--rojo);font-size:1.25rem}.card-resumen[_ngcontent-%COMP%]   .btn-reservar[_ngcontent-%COMP%]{--border-radius: 999px;--box-shadow: 0 10px 24px rgba(225, 29, 47, .35);letter-spacing:.4px;font-weight:700;text-transform:none;margin-top:4px;width:clamp(240px,60%,420px);align-self:center}.card-resumen[_ngcontent-%COMP%]   .btn-reservar[disabled][_ngcontent-%COMP%]{opacity:1;cursor:not-allowed;--background: #f3b6bd;--color: #ffffff;--box-shadow: none}.card-notas[_ngcontent-%COMP%]{margin-top:4px}.card-notas[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:15px}.card-notas[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{--background: #f9fafb;--border-radius: 12px;--padding-start: 10px;--padding-end: 10px;--padding-top: 10px;--padding-bottom: 10px;--min-height: 90px;--highlight-color-focused: var(--rojo)}@media (min-width: 992px){.grid-cal-img[_ngcontent-%COMP%] > .card-fechas[_ngcontent-%COMP%]{max-height:clamp(440px,64vh,640px)!important;display:flex;flex-direction:column}.grid-cal-img[_ngcontent-%COMP%] > .card-fechas[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:6px}.grid-cal-img[_ngcontent-%COMP%] > .card-fechas[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding-top:8px;overflow:auto}.grid-cal-img[_ngcontent-%COMP%] > .card-fechas[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]{max-height:360px;margin:0 auto;transform-origin:top center;transform:scale(.95)}.grid-cal-img[_ngcontent-%COMP%] > .card-fechas[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]::part(calendar-day){padding:.12rem .25rem}.grid-cal-img[_ngcontent-%COMP%] > .card-fechas[_ngcontent-%COMP%]   ion-datetime[_ngcontent-%COMP%]::part(calendar-month-year){padding:6px 8px}}']}),P})()}];let Y=(()=>{var d;class P{}return(d=P).\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.$C({type:d}),d.\u0275inj=e.G2t({imports:[F.iI.forChild(V),F.iI]}),P})(),z=(()=>{var d;class P{}return(d=P).\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.$C({type:d}),d.\u0275inj=e.G2t({imports:[w.MD,I.YN,I.X1,x.bv,Y,$.n]}),P})()}}]);