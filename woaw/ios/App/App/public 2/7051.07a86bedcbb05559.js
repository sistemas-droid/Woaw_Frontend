"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7051],{7051:(x,_,s)=>{s.d(_,{s:()=>v});var p=s(2881),l=s(7343),e=s(1360),C=s(5806),d=s(9557),b=s(7636);const m=r=>({"background-color":r});function A(r,a){if(1&r&&e.nrm(0,"div",14),2&r){const t=e.XpG(2).$implicit,o=e.XpG();e.Y8G("ngStyle",e.eq3(1,m,o.obtenerColorHex(t.label)))}}function h(r,a){if(1&r){const t=e.RV6();e.j41(0,"img",15),e.bIt("error",function(i){e.eBV(t);const n=e.XpG(3);return e.Njj(n.ocultarImagen(i))}),e.k0s()}if(2&r){const t=e.XpG(2).$implicit;e.FS9("alt",t.label),e.Y8G("src",t.imageUrl,e.B4B)}}function B(r,a){if(1&r&&(e.qex(0),e.DNE(1,A,1,3,"div",12)(2,h,1,2,"img",13),e.j41(3,"ion-label"),e.EFF(4),e.k0s(),e.bVm()),2&r){const t=e.XpG().$implicit,o=e.XpG();e.R7$(),e.Y8G("ngIf","color"===o.tipo),e.R7$(),e.Y8G("ngIf","marca"===o.tipo&&t.imageUrl),e.R7$(2),e.JRh(t.label)}}function E(r,a){if(1&r&&(e.j41(0,"ion-label",16)(1,"strong"),e.EFF(2),e.k0s()()),2&r){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.label)}}function D(r,a){if(1&r){const t=e.RV6();e.j41(0,"ion-item",10),e.bIt("click",function(){const i=e.eBV(t).$implicit,n=e.XpG();return e.Njj(n.seleccionar(i))}),e.DNE(1,B,5,3,"ng-container",11)(2,E,3,1,"ng-template",null,0,e.C5r),e.k0s()}if(2&r){const t=a.$implicit,o=e.sdS(3);e.R7$(),e.Y8G("ngIf",!t.quitar)("ngIfElse",o)}}function f(r,a){1&r&&(e.j41(0,"ion-item")(1,"ion-label"),e.EFF(2,"Sin resultados"),e.k0s()())}let v=(()=>{var r;class a{constructor(o,i,n,u){this.popoverCtrl=o,this.generalService=i,this.carsService=n,this.motosService=u,this.tipo="",this.query="",this.opcionesBase=[],this.opcionesFiltradas=[],this.trackByKey=($,c)=>{var F,g;return null!==(F=null!==(g=null==c?void 0:c.key)&&void 0!==g?g:null==c?void 0:c.label)&&void 0!==F?F:c}}ngOnInit(){if("precio"===this.tipo)this.opcionesBase="renta"===this.extra?[{label:"$500 - $699",rango:[500,699]},{label:"$700 - $899",rango:[700,899]},{label:"$900 - $1,099",rango:[900,1099]},{label:"$1,100 - $1,299",rango:[1100,1299]},{label:"$1,300 - $1,499",rango:[1300,1499]},{label:"$1,500 - $1,999",rango:[1500,1999]},{label:"$2,000 - $2,499",rango:[2e3,2499]},{label:"$2,500 - $2,999",rango:[2500,2999]},{label:"$3,000 - $3,999",rango:[3e3,3999]},{label:"$4,000 o m\xe1s",rango:[4e3,1/0]}]:[{label:"Menos de $100,000",rango:[0,99999]},{label:"$100,000 - $149,999",rango:[1e5,149999]},{label:"$150,000 - $199,999",rango:[15e4,199999]},{label:"$200,000 - $249,999",rango:[2e5,249999]},{label:"$250,000 - $299,999",rango:[25e4,299999]},{label:"$300,000 - $399,999",rango:[3e5,399999]},{label:"$400,000 - $499,999",rango:[4e5,499999]},{label:"$500,000 - $699,999",rango:[5e5,699999]},{label:"$700,000 - $999,999",rango:[7e5,999999]},{label:"M\xe1s de $1,000,000",rango:[1e6,1/0]}],this.applyFilter();else if("anio"===this.tipo){const o=(new Date).getFullYear(),i=window.location.pathname;this.opcionesBase=i.includes("/seminuevos")?this.generarRangoAnios(o-1,o-5):i.includes("/usados")?this.generarRangoAnios(o-6,2008):this.generarRangoAnios(o,1950),this.applyFilter()}else"color"===this.tipo?(this.opcionesBase=[{label:"Blanco"},{label:"Negro"},{label:"Gris"},{label:"Plateado"},{label:"Rojo"},{label:"Azul"},{label:"Azul marino"},{label:"Verde"},{label:"Verde oscuro"},{label:"Beige"},{label:"Caf\xe9"},{label:"Amarillo"},{label:"Naranja"},{label:"Morado"},{label:"Vino"},{label:"Oro"},{label:"Bronce"},{label:"Turquesa"},{label:"Gris Oxford"},{label:"Arena"},{label:"Azul cielo"},{label:"Grafito"},{label:"Champagne"},{label:"Titanio"},{label:"Cobre"},{label:"Camale\xf3n"},{label:"Otro"}],this.applyFilter()):"marca"===this.tipo?"motos"===this.extra?this.getMarcas_motos():"camiones"===this.extra?(this.opcionesBase=[],this.applyFilter()):this.getMarcas_cohes():"tipo"===this.tipo?"motos"===this.extra||"camiones"===this.extra?(this.opcionesBase=[],this.applyFilter()):this.getTipos_coches():(this.opcionesBase=[],this.applyFilter())}onSearchChange(o){var i,n;this.query=(null!==(i=null==o||null===(n=o.target)||void 0===n?void 0:n.value)&&void 0!==i?i:"").toString(),this.applyFilter()}onClear(){this.query="",this.applyFilter()}applyFilter(){const o=this.normalize(this.query);this.opcionesFiltradas=o?this.opcionesBase.filter(i=>{const n=this.normalize(null==i?void 0:i.label),u=this.normalize(null==i?void 0:i.key);return n.includes(o)||u.includes(o)}):[...this.opcionesBase]}seleccionar(o){this.popoverCtrl.dismiss(null!=o&&o.quitar?null:o)}generarRangoAnios(o,i){const n=[];for(let u=o;u>=i;u--)n.push({label:u.toString(),anio:u,key:u.toString()});return n}ocultarImagen(o){o.target.style.display="none"}obtenerColorHex(o){return{Blanco:"#FFFFFF",Negro:"#000000",Gris:"#808080","Gris Oxford":"#4B4B4B",Plateado:"#C0C0C0",Rojo:"#FF0000",Azul:"#0000FF","Azul marino":"#000080","Azul cielo":"#87CEEB",Verde:"#008000","Verde oscuro":"#006400",Beige:"#F5F5DC",Caf\u00e9:"#8B4513",Amarillo:"#FFFF00",Naranja:"#FFA500",Morado:"#800080",Vino:"#800000",Oro:"#FFD700",Bronce:"#CD7F32",Turquesa:"#40E0D0",Arena:"#D6A77A",Grafito:"#3B3B3B",Champagne:"#F7E7CE",Titanio:"#8C8C8C",Cobre:"#B87333",Camale\u00f3n:"#7FFF00",Otro:"#999999"}[o]||"#cccccc"}getMarcas_cohes(){this.carsService.getMarcas_all().subscribe({next:o=>{this.generalService.loadingDismiss(),this.opcionesBase=(o||[]).map(i=>{var n,u;return{label:i.nombre,key:(null!==(n=null!==(u=i.key)&&void 0!==u?u:i.nombre)&&void 0!==n?n:"").toString().toLowerCase(),imageUrl:i.imageUrl}}).sort((i,n)=>i.label.localeCompare(n.label)),this.applyFilter()},error:o=>{var i;console.warn((null==o||null===(i=o.error)||void 0===i?void 0:i.message)||"Error al cargar marcas"),this.opcionesBase=[],this.applyFilter()}})}getMarcas_motos(){this.motosService.getMarcas_all().subscribe({next:o=>{this.generalService.loadingDismiss(),this.opcionesBase=(o||[]).map(i=>{var n,u;return{label:i.nombre,key:(null!==(n=null!==(u=i.key)&&void 0!==u?u:i.nombre)&&void 0!==n?n:"").toString().toLowerCase(),imageUrl:i.imageUrl}}).sort((i,n)=>i.label.localeCompare(n.label)),this.applyFilter()},error:o=>{var i;console.warn((null==o||null===(i=o.error)||void 0===i?void 0:i.message)||"Error al cargar marcas"),this.opcionesBase=[],this.applyFilter()}})}getTipos_coches(){this.carsService.gatTiposVeiculos().subscribe({next:o=>{this.generalService.loadingDismiss(),this.opcionesBase=(o||[]).map(i=>({label:i,key:i.toLowerCase().replace(/\s+/g,"-")})).sort((i,n)=>i.label.localeCompare(n.label)),this.applyFilter()},error:o=>{var i;console.warn((null==o||null===(i=o.error)||void 0===i?void 0:i.message)||"Error al cargar tipos"),this.opcionesBase=[],this.applyFilter()}})}normalize(o){return(null!=o?o:"").toString().toLowerCase().normalize("NFD").replace(/[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u0898-\u089F\u08C9-\u08D2\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0B55\u0BCD\u0C3C\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E3A\u0E47-\u0E4C\u0E4E\u0EBA\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1063\u1064\u1069-\u106D\u1087-\u108D\u108F\u109A\u109B\u135D-\u135F\u1714\u1715\u1734\u17C9-\u17D3\u17DD\u1939-\u193B\u1A60\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABE\u1AC1-\u1ACB\u1ACF-\u1ADD\u1AE0-\u1AEB\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1BE6\u1BF2\u1BF3\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1D9B-\u1DBE\u1DC4-\u1DCF\u1DF5-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA700-\uA721\uA788-\uA78A\uA7F1\uA7F8\uA7F9\uA806\uA82C\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uAB69-\uAB6B\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3\u{102E0}\u{10780}-\u{10785}\u{10787}-\u{107B0}\u{107B2}-\u{107BA}\u{10A38}-\u{10A3A}\u{10A3F}\u{10AE5}\u{10AE6}\u{10D22}-\u{10D27}\u{10D4E}\u{10D69}-\u{10D6D}\u{10EFA}\u{10EFD}-\u{10EFF}\u{10F46}-\u{10F50}\u{10F82}-\u{10F85}\u{11046}\u{11070}\u{110B9}\u{110BA}\u{11133}\u{11134}\u{11173}\u{111C0}\u{111CA}-\u{111CC}\u{11235}\u{11236}\u{112E9}\u{112EA}\u{1133B}\u{1133C}\u{1134D}\u{11366}-\u{1136C}\u{11370}-\u{11374}\u{113CE}-\u{113D0}\u{113D2}\u{113D3}\u{113E1}\u{113E2}\u{11442}\u{11446}\u{114C2}\u{114C3}\u{115BF}\u{115C0}\u{1163F}\u{116B6}\u{116B7}\u{1172B}\u{11839}\u{1183A}\u{1193D}\u{1193E}\u{11943}\u{119E0}\u{11A34}\u{11A47}\u{11A99}\u{11C3F}\u{11D42}\u{11D44}\u{11D45}\u{11D97}\u{11DD9}\u{11F41}\u{11F42}\u{11F5A}\u{13447}-\u{13455}\u{1612F}\u{16AF0}-\u{16AF4}\u{16B30}-\u{16B36}\u{16D6B}\u{16D6C}\u{16F8F}-\u{16F9F}\u{16FF0}\u{16FF1}\u{1AFF0}-\u{1AFF3}\u{1AFF5}-\u{1AFFB}\u{1AFFD}\u{1AFFE}\u{1CF00}-\u{1CF2D}\u{1CF30}-\u{1CF46}\u{1D167}-\u{1D169}\u{1D16D}-\u{1D172}\u{1D17B}-\u{1D182}\u{1D185}-\u{1D18B}\u{1D1AA}-\u{1D1AD}\u{1E030}-\u{1E06D}\u{1E130}-\u{1E136}\u{1E2AE}\u{1E2EC}-\u{1E2EF}\u{1E5EE}\u{1E5EF}\u{1E8D0}-\u{1E8D6}\u{1E944}-\u{1E946}\u{1E948}-\u{1E94A}]/gu,"")}}return(r=a).\u0275fac=function(o){return new(o||r)(e.rXU(l.IE),e.rXU(C.O),e.rXU(d.R),e.rXU(b.A))},r.\u0275cmp=e.VBU({type:r,selectors:[["app-list"]],inputs:{tipo:"tipo",extra:"extra"},decls:10,vars:5,consts:[["quitar",""],[1,"popover-wrap"],[1,"top-row"],["placeholder","Buscar...",1,"searchbar-soft",3,"ionInput","ionClear","debounce","value"],["title","Quitar filtro","aria-label","Quitar filtro",1,"icon-clear",3,"click"],["name","close-outline"],[1,"divider"],[1,"contenedor-scroll-marcas"],[3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[3,"click"],[4,"ngIf","ngIfElse"],["class","color-dot",3,"ngStyle",4,"ngIf"],["class","logo-marca",3,"src","alt","error",4,"ngIf"],[1,"color-dot",3,"ngStyle"],[1,"logo-marca",3,"error","src","alt"],["color","danger"]],template:function(o,i){1&o&&(e.j41(0,"div",1)(1,"div",2)(2,"ion-searchbar",3),e.bIt("ionInput",function(u){return i.onSearchChange(u)})("ionClear",function(){return i.onClear()}),e.k0s(),e.j41(3,"button",4),e.bIt("click",function(){return i.seleccionar({quitar:!0,label:"Quitar filtro X"})}),e.nrm(4,"ion-icon",5),e.k0s()(),e.nrm(5,"div",6),e.j41(6,"div",7)(7,"ion-list"),e.DNE(8,D,4,2,"ion-item",8)(9,f,3,0,"ion-item",9),e.k0s()()()),2&o&&(e.R7$(2),e.Y8G("debounce",150)("value",i.query),e.R7$(6),e.Y8G("ngForOf",i.opcionesFiltradas)("ngForTrackBy",i.trackByKey),e.R7$(),e.Y8G("ngIf",0===i.opcionesFiltradas.length))},dependencies:[l.bv,l.iq,l.uz,l.he,l.nf,l.S1,l.Gw,p.MD,p.Sq,p.bT,p.B3],styles:['@charset "UTF-8";.popover-wrap[_ngcontent-%COMP%]{padding:10px 12px;min-width:260px;background:#ffffffeb;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-radius:18px;box-shadow:0 8px 20px #00000014,0 0 0 1px #0000000f}.top-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.searchbar-soft[_ngcontent-%COMP%]{flex:1;--background: #f2f2f7;--border-radius: 12px;--icon-color: #8e8e93;--placeholder-color: #8e8e93;--clear-button-color: #8e8e93;--color: #1c1c1e;--box-shadow: inset 0 0 0 1px rgba(0,0,0,.08), 0 2px 4px rgba(0,0,0,.04);margin:0}.icon-clear[_ngcontent-%COMP%]{width:34px;height:34px;border-radius:10px;background:#fff;border:1px solid rgba(0,0,0,.1);display:grid;place-items:center;cursor:pointer;transition:.16s ease}.icon-clear[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:17px;color:#ff3b30}.icon-clear[_ngcontent-%COMP%]:hover{background:#ffecec;border-color:#ffb3b3}.icon-clear[_ngcontent-%COMP%]:active{transform:scale(.96)}.divider[_ngcontent-%COMP%]{height:1px;background:#00000014;margin:8px 0}ion-list[_ngcontent-%COMP%]{padding:0;background:transparent!important}ion-item[_ngcontent-%COMP%]{--min-height: 46px;--padding-start: 10px;--padding-end: 10px;--inner-border-width: 0px;--background: transparent;display:flex;align-items:center;gap:10px;border-radius:12px;margin:2px 0;font-size:15px;color:#1c1c1e;transition:.16s ease}ion-item[_ngcontent-%COMP%]:hover{background:#f2f2f7;transform:translateY(-1px)}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:0;font-weight:500;color:#1c1c1e}.logo-marca[_ngcontent-%COMP%]{width:22px;height:22px;object-fit:contain;border-radius:6px;background:#fff;transition:transform .15s ease}ion-item[_ngcontent-%COMP%]:hover   .logo-marca[_ngcontent-%COMP%]{transform:scale(1.05)}.color-dot[_ngcontent-%COMP%]{width:18px;height:18px;border-radius:50%;border:1px solid rgba(0,0,0,.15)}.contenedor-scroll-marcas[_ngcontent-%COMP%]{max-height:50vh;overflow-y:auto;padding-right:4px}.contenedor-scroll-marcas[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.contenedor-scroll-marcas[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0000002e;border-radius:10px}']}),a})()}}]);