"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8356],{7677:(N,j,h)=>{h.d(j,{E:()=>S});var g=h(1360),_=h(2881),l=h(7343),k=h(9417),e=h(5806);function v(x,P){if(1&x&&(g.j41(0,"div",10),g.EFF(1),g.k0s()),2&x){const M=g.XpG();g.R7$(),g.SpI(" ",M.titulo," ")}}let S=(()=>{var x;class P{constructor(b){this.generalService=b,this.totalAutos=null,this.titulo=null,this.ordenSeleccionado="nuevo",this.ordenCambio=new g.bkB,this.esDispositivoMovil=!1}ngOnInit(){this.generalService.dispositivo$.subscribe(b=>{this.esDispositivoMovil="telefono"===b||"tablet"===b})}onOrdenChange(b){const u=b.target.value;this.ordenSeleccionado=u,this.ordenCambio.emit(u)}}return(x=P).\u0275fac=function(b){return new(b||x)(g.rXU(e.O))},x.\u0275cmp=g.VBU({type:x,selectors:[["app-acomodo"]],inputs:{totalAutos:"totalAutos",titulo:"titulo"},outputs:{ordenCambio:"ordenCambio"},decls:17,vars:2,consts:[[1,"barra-superior"],[1,"resultado-cantidad"],["class","acomodo_titulo",4,"ngIf"],[1,"controles-derecha"],[1,"botones-vista"],["name","apps",1,"icono-vista","activo"],[1,"ordenador"],["placeholder","Seleccionar","interface","popover",3,"ionChange"],["value","precioAsc"],["value","precioDesc"],[1,"acomodo_titulo"]],template:function(b,u){1&b&&(g.j41(0,"div",0)(1,"div",1),g.EFF(2),g.j41(3,"span"),g.EFF(4,"Resultados"),g.k0s()(),g.DNE(5,v,2,1,"div",2),g.j41(6,"div",3)(7,"div",4),g.nrm(8,"ion-icon",5),g.k0s(),g.j41(9,"div",6)(10,"ion-label"),g.EFF(11,"Ordenar por:"),g.k0s(),g.j41(12,"ion-select",7),g.bIt("ionChange",function(F){return u.onOrdenChange(F)}),g.j41(13,"ion-select-option",8),g.EFF(14,"Precio menor"),g.k0s(),g.j41(15,"ion-select-option",9),g.EFF(16,"Precio mayor"),g.k0s()()()()()),2&b&&(g.R7$(2),g.SpI(" ",u.totalAutos," "),g.R7$(3),g.Y8G("ngIf",!u.esDispositivoMovil))},dependencies:[l.bv,l.iq,l.he,l.Nm,l.Ip,l.Je,_.MD,_.bT,k.X1],styles:['@charset "UTF-8";.barra-superior[_ngcontent-%COMP%]{position:sticky;top:0;z-index:20;display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap;padding:6px 12px;margin:0 -4px 6px;font-family:-apple-system,system-ui,BlinkMacSystemFont,SF Pro Text,Helvetica Neue,Arial,sans-serif;background:#f8f8fae6;backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border-bottom:.5px solid rgba(60,60,67,.18);box-shadow:0 8px 18px #0f172a1f}@media (max-width: 768px){.barra-superior[_ngcontent-%COMP%]{padding:6px 10px;gap:8px}}.resultado-cantidad[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:4px;font-weight:700;font-size:16px;color:#111827}.resultado-cantidad[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;letter-spacing:.06em;color:#6e6e73}@media (max-width: 768px){.resultado-cantidad[_ngcontent-%COMP%]{font-size:14px}.resultado-cantidad[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;letter-spacing:.04em}}.acomodo_titulo[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center;font-family:Poppins,-apple-system,BlinkMacSystemFont,system-ui,sans-serif;font-size:18px;font-weight:800;color:#a1a1aa;letter-spacing:.06em;text-transform:uppercase;white-space:nowrap}@media (max-width: 1024px){.acomodo_titulo[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 820px){.acomodo_titulo[_ngcontent-%COMP%]{font-size:12px}}.controles-derecha[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:10px;flex-wrap:nowrap}@media (max-width: 768px){.controles-derecha[_ngcontent-%COMP%]{margin-left:auto}}.botones-vista[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:2px;border-radius:999px;background:#f2f2f7;border:1px solid rgba(60,60,67,.18);box-shadow:0 1px #fffc,0 2px 6px #0f172a1f}.icono-vista[_ngcontent-%COMP%]{width:26px;height:26px;border-radius:999px;display:flex;align-items:center;justify-content:center;font-size:15px;color:#6e6e73;cursor:pointer;transition:background .16s ease,color .16s ease,box-shadow .16s ease,transform .1s ease}@media (max-width: 768px){.icono-vista[_ngcontent-%COMP%]{width:24px;height:24px;font-size:13px}}.icono-vista.activo[_ngcontent-%COMP%]{background:#fff;color:#ff3b30;box-shadow:0 3px 8px #ff453a59;transform:translateY(-.5px)}.icono-vista[_ngcontent-%COMP%]:active{transform:translateY(.5px);box-shadow:0 1px 3px #0003}.ordenador[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;background:#fff;border:1px solid rgba(60,60,67,.16);box-shadow:0 8px 18px #0f172a29,0 0 0 .5px #ffffffe6;font-size:13px;white-space:nowrap}@media (max-width: 768px){.ordenador[_ngcontent-%COMP%]{padding:3px 8px;font-size:11px}}.ordenador[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:12px;color:#4b5563}@media (max-width: 768px){.ordenador[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:11px}}.ordenador[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{min-width:130px;font-size:13px;--padding-start: 8px;--padding-end: 4px;--min-height: 28px;--background: transparent;--color: #111827;--placeholder-color: #9ca3af;--placeholder-opacity: 1;--placeholder-font-weight: 400;--highlight-color-focused: transparent;--highlight-color: transparent;--icon-color: #9ca3af;--indicator-color: transparent;--border-color: transparent}@media (max-width: 768px){.ordenador[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{min-width:110px;font-size:11px}}']}),P})()},8356:(N,j,h)=>{h.r(j),h.d(j,{NewCarPageModule:()=>jo});var g=h(2881),_=h(9417),l=h(7343),k=h(9870),e=h(1360),v=h(5806),S=h(9557),x=h(2381),P=h(7636),M=h(9847),b=h(2764),u=h(467),O=h(3943),F=h(9235),T=h(8857),E=h(6171),R=h(9896);const D=()=>({cssClass:"select-popover pop-tipo",side:"bottom",alignment:"start"});function A(a,r){1&a&&e.nrm(0,"app-spinner")}function X(a,r){if(1&a&&(e.j41(0,"p",13),e.EFF(1),e.k0s()),2&a){const i=e.XpG(2);e.R7$(),e.SpI(" ",i.estadoVehiculo," ")}}function $(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",14)(1,"div",15)(2,"ion-select",16,0),e.bIt("ionChange",function(o){e.eBV(i);const t=e.XpG(2);return e.Njj(t.onTipoChange(o))}),e.j41(4,"ion-select-option",17),e.EFF(5,"Nuevo"),e.k0s(),e.j41(6,"ion-select-option",18),e.EFF(7,"Seminuevo"),e.k0s(),e.j41(8,"ion-select-option",19),e.EFF(9,"Usado"),e.k0s()()()()}if(2&a){const i=e.XpG(2);e.R7$(2),e.Y8G("interfaceOptions",e.lJ4(2,D))("value",i.estadoVehiculo)}}function Y(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",7)(1,"div",8)(2,"p"),e.EFF(3,"A\xf1o: "),e.j41(4,"strong"),e.EFF(5),e.k0s()(),e.j41(6,"p"),e.EFF(7,"Marca: "),e.j41(8,"strong"),e.EFF(9),e.k0s()(),e.j41(10,"p"),e.EFF(11,"Modelo: "),e.j41(12,"strong"),e.EFF(13),e.k0s()(),e.DNE(14,X,2,1,"p",9)(15,$,10,3,"div",10),e.k0s(),e.j41(16,"button",11),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.EnviarVeiculo())}),e.nrm(17,"ion-icon",12),e.EFF(18," Publicar "),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(5),e.JRh(i.anio),e.R7$(4),e.JRh(i.marca),e.R7$(4),e.JRh(i.modelo),e.R7$(),e.Y8G("ngIf","admin"!==i.MyRole),e.R7$(),e.Y8G("ngIf","admin"===i.MyRole)}}function L(a,r){1&a&&e.nrm(0,"ion-icon",30)}function B(a,r){1&a&&e.nrm(0,"ion-icon",30)}function z(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",20)(1,"h2",21),e.EFF(2,"\xbfQu\xe9 tipo de veh\xedculo quieres subir?"),e.k0s(),e.j41(3,"div",22)(4,"div",23),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.seleccionarTipo("particular"))}),e.nrm(5,"img",24),e.j41(6,"p"),e.EFF(7,"Particular"),e.k0s(),e.DNE(8,L,1,0,"ion-icon",25),e.k0s(),e.j41(9,"div",23),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.seleccionarTipo("lote"))}),e.nrm(10,"img",26),e.j41(11,"p"),e.EFF(12,"Agencia seminuevos / Lote"),e.k0s(),e.DNE(13,B,1,0,"ion-icon",25),e.k0s()(),e.j41(14,"div",27)(15,"button",28),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.continuar())}),e.EFF(16," Continuar "),e.nrm(17,"ion-icon",29),e.k0s()()()}if(2&a){const i=e.XpG();e.R7$(4),e.AVh("activa","particular"===i.tipoSeleccionado),e.R7$(4),e.Y8G("ngIf","particular"===i.tipoSeleccionado),e.R7$(),e.AVh("activa","lote"===i.tipoSeleccionado),e.R7$(4),e.Y8G("ngIf","lote"===i.tipoSeleccionado),e.R7$(2),e.Y8G("disabled",!i.tipoSeleccionado)}}function U(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",31)(1,"p",32),e.EFF(2,"\xbfC\xf3mo quieres vender tu auto?"),e.k0s(),e.j41(3,"div",33)(4,"button",34),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.quienLovende(0))}),e.EFF(5,"Lo vendo yo"),e.k0s(),e.j41(6,"button",35),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.quienLovende(1))}),e.EFF(7," Que lo venda "),e.nrm(8,"img",36),e.k0s()()()}}function H(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",37)(1,"p",38)(2,"strong"),e.EFF(3,"\xa1Nosotros nos encargamos!"),e.k0s(),e.EFF(4," Publicamos tu auto y agendamos citas con interesados. "),e.nrm(5,"br"),e.j41(6,"strong"),e.EFF(7,"Cont\xe1ctanos por WhatsApp y te ayudamos."),e.k0s()(),e.j41(8,"div",39)(9,"p"),e.EFF(10,"A\xf1o: "),e.j41(11,"strong"),e.EFF(12),e.k0s()(),e.j41(13,"p"),e.EFF(14,"Marca: "),e.j41(15,"strong"),e.EFF(16),e.k0s()(),e.j41(17,"p"),e.EFF(18,"Modelo: "),e.j41(19,"strong"),e.EFF(20),e.k0s()(),e.j41(21,"p",13),e.EFF(22),e.k0s()(),e.j41(23,"ion-item")(24,"ion-label",40),e.EFF(25,"Precio estimado (opcional)"),e.k0s(),e.j41(26,"ion-input",41),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.precioEstimado,o)||(t.precioEstimado=o),e.Njj(o)}),e.k0s()(),e.j41(27,"ion-item")(28,"ion-label",40),e.EFF(29,"Tipo de factura (opcional)"),e.k0s(),e.j41(30,"ion-select",42),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.tipoFactura,o)||(t.tipoFactura=o),e.Njj(o)}),e.j41(31,"ion-select-option",43),e.EFF(32,"Original"),e.k0s(),e.j41(33,"ion-select-option",44),e.EFF(34,"Refacturada"),e.k0s(),e.j41(35,"ion-select-option",45),e.EFF(36,"Sin factura"),e.k0s()()(),e.j41(37,"div",46)(38,"button",47),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.contactosService.contactarPorPublicacionParticular(o.anio,o.marca,o.modelo,o.precioEstimado,o.tipoFactura))}),e.nrm(39,"ion-icon",48),e.EFF(40," Cont\xe1ctanos por WhatsApp "),e.k0s()()()}if(2&a){const i=e.XpG();e.R7$(12),e.JRh(i.anio),e.R7$(4),e.JRh(i.marca),e.R7$(4),e.JRh(i.modelo),e.R7$(2),e.JRh(i.estadoVehiculo),e.R7$(4),e.R50("ngModel",i.precioEstimado),e.R7$(4),e.R50("ngModel",i.tipoFactura)}}function q(a,r){if(1&a&&(e.j41(0,"div",65),e.nrm(1,"ion-icon",66),e.EFF(2),e.k0s()),2&a){const i=e.XpG(3);e.R7$(2),e.SpI(" ",i.direccionCompleta," ")}}function J(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",52)(1,"button",62),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.seleccionarUbicacion())}),e.nrm(2,"ion-icon",63),e.EFF(3," Seleccionar ubicaci\xf3n "),e.k0s(),e.DNE(4,q,3,1,"div",64),e.k0s()}if(2&a){const i=e.XpG(2);e.R7$(4),e.Y8G("ngIf",i.ubicacionSeleccionada)}}function K(a,r){if(1&a&&(e.j41(0,"ion-select-option",71),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i._id),e.R7$(),e.SpI(" ",i.nombre," ")}}function W(a,r){if(1&a&&(e.j41(0,"ion-select-option",71),e.EFF(1),e.k0s()),2&a){const i=r.$implicit,n=r.index,o=e.XpG(4);e.Y8G("value",i),e.R7$(),e.SpI(" ",o.ubicacionesLoteLegibles[n]||"Obteniendo direcci\xf3n..."," ")}}function Q(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",72)(1,"label",73),e.EFF(2,"Selecciona una ubicaci\xf3n:"),e.k0s(),e.j41(3,"ion-select",74),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.DH7(t.direccionSeleccionada,o)||(t.direccionSeleccionada=o),e.Njj(o)}),e.DNE(4,W,2,2,"ion-select-option",69),e.k0s()()}if(2&a){const i=e.XpG(3);e.R7$(3),e.R50("ngModel",i.direccionSeleccionada),e.R7$(),e.Y8G("ngForOf",i.ubicacionesLoteSeleccionado)}}function Z(a,r){if(1&a&&(e.j41(0,"div",65),e.nrm(1,"ion-icon",66),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&a){const i=e.XpG(3);e.R7$(3),e.JRh(i.direccionCompleta)}}function ee(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",52)(1,"label",67),e.EFF(2,"Selecciona tu lote:"),e.k0s(),e.j41(3,"ion-select",68),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.loteSeleccionado,o)||(t.loteSeleccionado=o),e.Njj(o)}),e.bIt("ionChange",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.onLoteSeleccionado())}),e.DNE(4,K,2,2,"ion-select-option",69),e.k0s(),e.DNE(5,Q,5,2,"div",70)(6,Z,4,1,"div",64),e.k0s()}if(2&a){const i=e.XpG(2);e.R7$(3),e.R50("ngModel",i.loteSeleccionado),e.R7$(),e.Y8G("ngForOf",i.lotes),e.R7$(),e.Y8G("ngIf",i.ubicacionesLoteSeleccionado.length>1),e.R7$(),e.Y8G("ngIf",i.direccionSeleccionada&&1===i.ubicacionesLoteSeleccionado.length)}}function ne(a,r){if(1&a){const i=e.RV6();e.j41(0,"button",75),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.limpiarImagenes())}),e.nrm(1,"ion-icon",76),e.EFF(2," Im\xe1genes "),e.k0s()}}function oe(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-input",83),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG().$implicit,c=e.XpG(3);return e.DH7(c.preciosVersiones[t],o)||(c.preciosVersiones[t]=o),e.Njj(o)}),e.k0s()}if(2&a){const i=e.XpG(),n=i.$implicit,o=i.index,t=e.XpG(3);e.Mz_("name","precio_",o,""),e.R50("ngModel",t.preciosVersiones[n])}}function ie(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",80)(1,"ion-checkbox",81),e.bIt("ionChange",function(){const o=e.eBV(i),t=o.$implicit,c=o.index,s=e.XpG(3);return e.Njj(s.toggleVersion(c,t))}),e.k0s(),e.j41(2,"span"),e.EFF(3),e.k0s(),e.DNE(4,oe,1,3,"ion-input",82),e.k0s()}if(2&a){const i=r.$implicit,n=r.index,o=e.XpG(3);e.R7$(),e.Y8G("checked",o.versionSeleccionada[n]),e.R7$(2),e.JRh(i),e.R7$(),e.Y8G("ngIf",o.versionSeleccionada[n])}}function te(a,r){if(1&a&&(e.j41(0,"div")(1,"label",77),e.EFF(2," Selecciona las versiones disponibles y asigna un precio: "),e.k0s(),e.DNE(3,ie,5,3,"div",78),e.nrm(4,"div",79),e.k0s()),2&a){const i=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",i.versiones)}}function ae(a,r){if(1&a&&(e.j41(0,"ion-select-option",71),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i),e.R7$(),e.SpI(" ",i," ")}}function ce(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-select",98),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.DH7(t.versionSeleccionadaTexto,o)||(t.versionSeleccionadaTexto=o),e.Njj(o)}),e.bIt("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.Njj(t.onSeleccionVersion(o))}),e.DNE(1,ae,2,2,"ion-select-option",69),e.k0s()}if(2&a){const i=e.XpG(3);e.R50("ngModel",i.versionSeleccionadaTexto),e.R7$(),e.Y8G("ngForOf",i.versiones)}}function re(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-input",99),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.DH7(t.versionSeleccionadaTexto,o)||(t.versionSeleccionadaTexto=o),e.Njj(o)}),e.k0s()}if(2&a){const i=e.XpG(3);e.R50("ngModel",i.versionSeleccionadaTexto)}}function se(a,r){if(1&a&&(e.j41(0,"ion-select-option",71),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i.label),e.R7$(),e.SpI(" ",i.label," ")}}function le(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",79)(1,"div",84)(2,"label"),e.EFF(3,"Versi\xf3n: "),e.j41(4,"span",85),e.EFF(5,"*"),e.k0s()(),e.DNE(6,ce,2,2,"ion-select",86)(7,re,1,1,"ion-input",87),e.k0s(),e.j41(8,"div",84)(9,"label"),e.EFF(10,"Precio: "),e.j41(11,"span",85),e.EFF(12,"*"),e.k0s()(),e.j41(13,"ion-input",88),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.precio,o)||(t.precio=o),e.Njj(o)}),e.k0s()(),e.j41(14,"div",84)(15,"label"),e.EFF(16,"Placas: "),e.j41(17,"span",89),e.EFF(18,"(opcional)"),e.k0s()(),e.j41(19,"ion-input",90),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.placas,o)||(t.placas=o),e.Njj(o)}),e.k0s()(),e.j41(20,"div",84)(21,"label"),e.EFF(22,"Kilometraje: "),e.j41(23,"span",85),e.EFF(24,"*"),e.k0s()(),e.j41(25,"ion-input",91),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.kilometraje,o)||(t.kilometraje=o),e.Njj(o)}),e.k0s()(),e.j41(26,"div",84)(27,"label"),e.EFF(28,"Color: "),e.j41(29,"span",85),e.EFF(30,"*"),e.k0s()(),e.j41(31,"ion-select",92),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.colorSeleccionado,o)||(t.colorSeleccionado=o),e.Njj(o)}),e.DNE(32,se,2,2,"ion-select-option",69),e.k0s()(),e.j41(33,"div",84)(34,"label"),e.EFF(35,"Moneda:"),e.k0s(),e.j41(36,"ion-select",93),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.moneda,o)||(t.moneda=o),e.Njj(o)}),e.j41(37,"ion-select-option",94),e.EFF(38,"MXN - Pesos mexicanos"),e.k0s(),e.j41(39,"ion-select-option",95),e.EFF(40,"USD - D\xf3lares estadounidenses"),e.k0s()()(),e.j41(41,"div",96)(42,"label"),e.EFF(43," Descripci\xf3n del veh\xedculo: "),e.j41(44,"span",85),e.EFF(45,"*"),e.k0s()(),e.j41(46,"textarea",97),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.descripcion,o)||(t.descripcion=o),e.Njj(o)}),e.k0s()()()}if(2&a){const i=e.XpG(2);e.R7$(6),e.Y8G("ngIf",!i.esUsadoAntiguo&&i.versionesDisponibles),e.R7$(),e.Y8G("ngIf",i.esUsadoAntiguo||!i.versionesDisponibles),e.R7$(6),e.R50("ngModel",i.precio),e.R7$(6),e.R50("ngModel",i.placas),e.R7$(6),e.R50("ngModel",i.kilometraje),e.R7$(6),e.R50("ngModel",i.colorSeleccionado),e.R7$(),e.Y8G("ngForOf",i.opciones),e.R7$(4),e.R50("ngModel",i.moneda),e.R7$(10),e.R50("ngModel",i.descripcion)}}function de(a,r){if(1&a&&(e.j41(0,"li")(1,"strong"),e.EFF(2,"Motor:"),e.k0s(),e.EFF(3),e.k0s()),2&a){const i=e.XpG(4);e.R7$(3),e.SpI(" ",i.especificacionesVersion.motor," ")}}function pe(a,r){if(1&a&&(e.j41(0,"li")(1,"strong"),e.EFF(2,"Potencia:"),e.k0s(),e.EFF(3),e.k0s()),2&a){const i=e.XpG(4);e.R7$(3),e.SpI(" ",i.especificacionesVersion.potencia," ")}}function ge(a,r){if(1&a&&(e.j41(0,"li")(1,"strong"),e.EFF(2,"Cilindros:"),e.k0s(),e.EFF(3),e.k0s()),2&a){const i=e.XpG(4);e.R7$(3),e.SpI(" ",i.especificacionesVersion.cilindros," ")}}function ue(a,r){if(1&a&&(e.j41(0,"li")(1,"strong"),e.EFF(2,"Transmisi\xf3n:"),e.k0s(),e.EFF(3),e.k0s()),2&a){const i=e.XpG(4);e.R7$(3),e.SpI(" ",i.especificacionesVersion.transmision," ")}}function _e(a,r){if(1&a&&(e.j41(0,"li")(1,"strong"),e.EFF(2,"Tracci\xf3n:"),e.k0s(),e.EFF(3),e.k0s()),2&a){const i=e.XpG(4);e.R7$(3),e.SpI(" ",i.especificacionesVersion.traccion," ")}}function me(a,r){if(1&a&&(e.j41(0,"li")(1,"strong"),e.EFF(2,"Combustible:"),e.k0s(),e.EFF(3),e.k0s()),2&a){const i=e.XpG(4);e.R7$(3),e.SpI(" ",i.especificacionesVersion.combustible," ")}}function fe(a,r){if(1&a&&(e.j41(0,"li")(1,"strong"),e.EFF(2,"Pasajeros:"),e.k0s(),e.EFF(3),e.k0s()),2&a){const i=e.XpG(4);e.R7$(3),e.SpI(" ",i.especificacionesVersion.pasajeros," ")}}function he(a,r){if(1&a&&(e.j41(0,"li")(1,"strong"),e.EFF(2,"Puertas:"),e.k0s(),e.EFF(3),e.k0s()),2&a){const i=e.XpG(4);e.R7$(3),e.SpI(" ",i.especificacionesVersion.puertas," ")}}function be(a,r){if(1&a&&(e.j41(0,"li")(1,"strong"),e.EFF(2,"Rines:"),e.k0s(),e.EFF(3),e.k0s()),2&a){const i=e.XpG(4);e.R7$(3),e.SpI(" ",i.especificacionesVersion.rines," ")}}function xe(a,r){if(1&a&&(e.j41(0,"li")(1,"strong"),e.EFF(2,"Tipo de veh\xedculo:"),e.k0s(),e.EFF(3),e.k0s()),2&a){const i=e.XpG(4);e.R7$(3),e.SpI(" ",i.especificacionesVersion.tipoVehiculo," ")}}function Ce(a,r){if(1&a&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.R7$(),e.SpI(" ",i," ")}}function ve(a,r){if(1&a&&(e.j41(0,"li")(1,"strong"),e.EFF(2,"Extras:"),e.k0s(),e.j41(3,"ul",103),e.DNE(4,Ce,2,1,"li",104),e.k0s()()),2&a){const i=e.XpG(4);e.R7$(4),e.Y8G("ngForOf",i.especificacionesVersion.extra)}}function Me(a,r){if(1&a&&(e.j41(0,"div",102)(1,"h4"),e.EFF(2,"Ficha t\xe9cnica"),e.k0s(),e.j41(3,"ul"),e.DNE(4,de,4,1,"li",1)(5,pe,4,1,"li",1)(6,ge,4,1,"li",1)(7,ue,4,1,"li",1)(8,_e,4,1,"li",1)(9,me,4,1,"li",1)(10,fe,4,1,"li",1)(11,he,4,1,"li",1)(12,be,4,1,"li",1)(13,xe,4,1,"li",1)(14,ve,5,1,"li",1),e.k0s()()),2&a){const i=e.XpG(3);e.R7$(4),e.Y8G("ngIf",i.especificacionesVersion.motor),e.R7$(),e.Y8G("ngIf",i.especificacionesVersion.potencia),e.R7$(),e.Y8G("ngIf",i.especificacionesVersion.cilindros),e.R7$(),e.Y8G("ngIf",i.especificacionesVersion.transmision),e.R7$(),e.Y8G("ngIf",i.especificacionesVersion.traccion),e.R7$(),e.Y8G("ngIf",i.especificacionesVersion.combustible),e.R7$(),e.Y8G("ngIf",i.especificacionesVersion.pasajeros),e.R7$(),e.Y8G("ngIf",i.especificacionesVersion.puertas),e.R7$(),e.Y8G("ngIf",i.especificacionesVersion.rines),e.R7$(),e.Y8G("ngIf",i.especificacionesVersion.tipoVehiculo),e.R7$(),e.Y8G("ngIf",(null==i.especificacionesVersion.extra?null:i.especificacionesVersion.extra.length)>0)}}function Pe(a,r){if(1&a&&(e.j41(0,"div",100),e.DNE(1,Me,15,11,"div",101),e.k0s()),2&a){const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",i.especificacionesVersion)}}function Fe(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",84)(1,"label"),e.EFF(2),e.j41(3,"span",89),e.EFF(4,"(opcional)"),e.k0s()(),e.j41(5,"ion-input",107),e.mxI("ngModelChange",function(o){const t=e.eBV(i).$implicit,c=e.XpG(3);return e.DH7(c.camposViejito[t],o)||(c.camposViejito[t]=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=r.$implicit,n=e.XpG(3);e.R7$(2),e.SpI("",n.etiquetasCampos[i],": "),e.R7$(3),e.Y8G("placeholder","Ej. "+n.ejemplosCampos[i]),e.R50("ngModel",n.camposViejito[i])}}function Oe(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",79),e.DNE(1,Fe,6,3,"div",105),e.j41(2,"div",96)(3,"label"),e.EFF(4,"Extras: "),e.j41(5,"span",89),e.EFF(6,"(opcional)"),e.k0s()(),e.j41(7,"textarea",106),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.extrasTexto,o)||(t.extrasTexto=o),e.Njj(o)}),e.k0s()()()}if(2&a){const i=e.XpG(2);e.R7$(),e.Y8G("ngForOf",i.camposEspecificaciones),e.R7$(6),e.R50("ngModel",i.extrasTexto)}}function je(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",49)(1,"div",50),e.DNE(2,J,5,1,"div",51)(3,ee,7,4,"div",51),e.j41(4,"div",52)(5,"button",53),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.seleccionarImagenes())}),e.nrm(6,"ion-icon",54),e.EFF(7," Seleccionar Im\xe1genes "),e.j41(8,"label",55),e.nrm(9,"span",56)(10,"ion-icon",57),e.k0s()(),e.DNE(11,ne,3,0,"button",58),e.k0s()(),e.DNE(12,te,5,1,"div",1)(13,le,47,9,"div",59),e.j41(14,"div",60),e.DNE(15,Pe,2,1,"div",61),e.k0s(),e.DNE(16,Oe,8,2,"div",59),e.k0s()}if(2&a){const i=e.XpG();e.R7$(2),e.Y8G("ngIf","particular"==i.tipoSeleccionado),e.R7$(),e.Y8G("ngIf","lote"===i.tipoSeleccionado),e.R7$(5),e.AVh("activo",i.imagenesValidas)("inactivo",!i.imagenesValidas),e.R7$(3),e.Y8G("ngIf",i.imagenesIntentadas),e.R7$(),e.Y8G("ngIf","nuevo"===i.estadoVehiculo_logico),e.R7$(),e.Y8G("ngIf","seminuevo"===i.estadoVehiculo_logico||"usado"===i.estadoVehiculo_logico||"viejito"===i.estadoVehiculo_logico),e.R7$(2),e.Y8G("ngIf",i.versionesDisponibles&&("seminuevo"===i.estadoVehiculo_logico||"usado"===i.estadoVehiculo_logico)),e.R7$(),e.Y8G("ngIf","viejito"===i.estadoVehiculo_logico||!i.versionesDisponibles)}}let V=(()=>{var a;class r{constructor(n,o,t,c,s,d,m){this.fb=n,this.carsService=o,this.generalService=t,this.modalController=c,this.router=s,this.registroService=d,this.contactosService=m,this.estadoVehiculo="",this.listaAnios=[],this.lotes=[],this.totalLotes=0,this.direccionCompleta="Obteniendo ubicaci\xf3n...",this.estadoVehiculo_logico="",this.versiones=[],this.ubicacionSeleccionada=null,this.versionSeleccionada=[],this.preciosVersiones={},this.esUsadoAntiguo=!1,this.imagenesIntentadas=!1,this.versionesDisponibles=!1,this.Pregunta=null,this.tipoSeleccionado="particular",this.ubicacionesLoteLegibles=[],this.mostrar_spinnet=!1,this.loteSeleccionado=null,this.direccionSeleccionada=null,this.ubicacionesLoteSeleccionado=[],this.seccionFormulario=1,this.versionSeleccionadaTexto="",this.colorSeleccionado="",this.precio=null,this.placas="",this.kilometraje=null,this.descripcion="",this.moneda="MXN",this.extrasTexto="",this.precioEstimado=null,this.tipoFactura="",this.MyRole=null,this.opciones=[{label:"Blanco"},{label:"Negro"},{label:"Gris"},{label:"Plateado"},{label:"Rojo"},{label:"Azul"},{label:"Azul marino"},{label:"Verde"},{label:"Verde oscuro"},{label:"Beige"},{label:"Caf\xe9"},{label:"Amarillo"},{label:"Naranja"},{label:"Morado"},{label:"Vino"},{label:"Oro"},{label:"Bronce"},{label:"Turquesa"},{label:"Gris Oxford"},{label:"Arena"},{label:"Azul cielo"},{label:"Grafito"},{label:"Champagne"},{label:"Titanio"},{label:"Cobre"},{label:"Camale\xf3n"},{label:"Otro"}],this.especificacionesVersion={motor:"",cilindros:"",potencia:"",combustible:"",transmision:"",traccion:"",puertas:"",pasajeros:"",rines:"",tipoVehiculo:""},this.camposViejito={motor:"",cilindros:"",potencia:"",combustible:"",transmision:"",traccion:"",puertas:"",pasajeros:"",rines:"",tipoVehiculo:""},this.camposEspecificaciones=["motor","cilindros","potencia","combustible","transmision","traccion","puertas","pasajeros","rines","tipoVehiculo"],this.ejemplosCampos={motor:"2.0L Turbo",cilindros:"4",potencia:"150 hp",combustible:"Gasolina",transmision:"Autom\xe1tica",traccion:"Delantera",puertas:"4",pasajeros:"5",rines:"18 pulgadas",tipoVehiculo:"Sed\xe1n"},this.etiquetasCampos={motor:"Motor",cilindros:"Cilindros",potencia:"Potencia",combustible:"Combustible",transmision:"Transmisi\xf3n",traccion:"Tracci\xf3n",puertas:"Puertas",pasajeros:"Pasajeros",rines:"Rines",tipoVehiculo:"Tipo de veh\xedculo"},this.imagenesValidas=!1,this.imagenPrincipal=null,this.imagenesSecundarias=[]}ngOnInit(){var n=this;return(0,u.A)(function*(){n.generalService.tipoRol$.subscribe(o=>{"admin"===o||"lotero"===o||"vendedor"===o||"cliente"===o?n.MyRole=o:(n.generalService.eliminarToken(),n.generalService.alert("\xa1Saliste de tu sesi\xf3n Error - 707!","\xa1Hasta pronto!","info"))}),"admin"===n.MyRole?(n.Pregunta="si",n.seccionFormulario=2,n.getLotes("all")):"lotero"===n.MyRole?(n.Pregunta="si",n.seccionFormulario=2,n.tipoSeleccionado="lote",n.getLotes("mios")):(n.Pregunta="no",n.seccionFormulario=1,n.tipoSeleccionado="particular"),n.obtenerVersiones()})()}seleccionarTipo(n){this.tipoSeleccionado=n}generarListaAnios(){for(let o=(new Date).getFullYear();o>=1900;o--)this.listaAnios.push(o)}continuar(){this.tipoSeleccionado&&(this.Pregunta="no")}definirEstadoVehiculo(){const n=(new Date).getFullYear();this.anio===n&&"admin"==this.MyRole?(this.estadoVehiculo="Nuevo",this.estadoVehiculo_logico="nuevo"):this.anio===n&&"admin"!=this.MyRole||this.anio>=n-4?(this.estadoVehiculo="Seminuevo",this.estadoVehiculo_logico="seminuevo"):this.anio<2008&&this.anio>=1800?(this.estadoVehiculo="Usado",this.estadoVehiculo_logico="viejito"):(this.estadoVehiculo="Usado",this.estadoVehiculo_logico="usado"),this.esUsadoAntiguo="Usado"===this.estadoVehiculo&&this.anio<2008&&this.anio>=1800}onTipoChange(n){this.mostrar_spinnet=!0,setTimeout(()=>{this.mostrar_spinnet=!1,this.estadoVehiculo=n.detail.value,this.estadoVehiculo_logico=this.estadoVehiculo.toLowerCase()},1e3)}obtenerVersiones(){if(this.modelo&&this.anio&&this.marca){const n=Number(this.anio);this.carsService.GetVersiones(n,this.marca,this.modelo).subscribe({next:o=>{this.versiones=o||[],this.versionesDisponibles=Array.isArray(this.versiones)&&this.versiones.length>0,this.generalService.loadingDismiss(),this.definirEstadoVehiculo()},error:o=>{console.error("Error al obtener versiones:",o),this.generalService.loadingDismiss(),this.definirEstadoVehiculo(),this.versiones=[]}})}}onSeleccionVersion(n){this.modelo&&this.anio&&this.marca&&this.carsService.EspesificacionesVersion(this.anio,this.marca,this.modelo,n).subscribe({next:o=>{console.log(o),this.especificacionesVersion=(null==o?void 0:o[0])||null},error:o=>{console.error("Error al obtener especificaciones:",o),this.generalService.alert("Error","No se pudieron obtener las especificaciones. Intente nuevamente.","danger")},complete:()=>{this.generalService.loadingDismiss()}})}seleccionarUbicacion(){var n=this;return(0,u.A)(function*(){const o=yield n.modalController.create({component:O.D});yield o.present();const{data:t}=yield o.onDidDismiss();t&&(n.ubicacionSeleccionada=t,n.ubicacionSeleccionada&&n.generalService.obtenerDireccionDesdeCoordenadas(n.ubicacionSeleccionada[2],n.ubicacionSeleccionada[3]).then(c=>n.direccionCompleta=c).catch(()=>n.direccionCompleta="No se pudo obtener la direcci\xf3n."))})()}seleccionarImagenes(){var n=this;return(0,u.A)(function*(){const o=yield n.modalController.create({component:F.i,backdropDismiss:!1,componentProps:{estadoVehiculo:n.estadoVehiculo}});yield o.present();const{data:t}=yield o.onDidDismiss();if(t){if(n.imagenesIntentadas=!0,n.imagenPrincipal=t.imagenPrincipal,n.imagenesSecundarias=t.imagenesSecundarias,"Nuevo"===n.estadoVehiculo){if(!n.imagenPrincipal)return n.generalService.alert("Falta imagen principal","Selecciona una imagen principal para continuar.","warning"),void(n.imagenesValidas=!1);n.imagenesValidas=!0}if("Seminuevo"===n.estadoVehiculo||"Usado"===n.estadoVehiculo){if(!n.imagenPrincipal)return n.generalService.alert("Falta imagen principal","Selecciona una imagen principal para continuar.","warning"),void(n.imagenesValidas=!1);if(n.imagenesSecundarias.length<2)return n.generalService.alert("Im\xe1genes insuficientes","Debes seleccionar al menos 2 im\xe1genes secundarias.","warning"),void(n.imagenesValidas=!1);n.imagenesValidas=!0}}else console.log("\u26d4 Modal cancelado o sin im\xe1genes."),n.imagenesValidas=!1})()}limpiarImagenes(){this.generalService.confirmarAccion("\xbfEst\xe1s seguro de que deseas eliminar las im\xe1genes seleccionadas?","Eliminar im\xe1genes",()=>{this.imagenPrincipal=null,this.imagenesSecundarias=[],this.imagenesValidas=!1,this.imagenesIntentadas=!1})}toggleVersion(n,o){this.versionSeleccionada[n]=!this.versionSeleccionada[n],this.versionSeleccionada[n]||delete this.preciosVersiones[o]}EnviarVeiculo(){var n=this;return(0,u.A)(function*(){let o=!1,t=!1;"Nuevo"===n.estadoVehiculo?(o=yield n.validacionesAntesdeEnviarForm_Nuevos(),o&&(t=yield n.prepararFormularioParaEnvio_Nuevo())):("Seminuevo"===n.estadoVehiculo||"Usado"===n.estadoVehiculo)&&(o=yield n.validacionesAntesdeEnviarForm_Usados(),o&&(t=yield n.prepararFormularioParaEnvio_Usado())),o&&t?n.generalService.confirmarAccion("\xbfEst\xe1s seguro de que deseas enviar esta informaci\xf3n?","Confirmar env\xedo",(0,u.A)(function*(){yield n.enviarDatos(t)}),"Al continuar, confirmas que los datos proporcionados sobre tu veh\xedculo son correctos y est\xe1s consciente de que ser\xe1n publicados."):n.generalService.loadingDismiss()})()}enviarDatos(n){var o=this;return(0,u.A)(function*(){o.generalService.loading("Guardando auto..."),o.carsService.guardarAutos(n,o.estadoVehiculo).subscribe({next:t=>{if(t.token&&t.rol){const c=JSON.parse(localStorage.getItem("user")||"{}");c.rol=t.rol,localStorage.setItem("user",JSON.stringify(c)),localStorage.setItem("token",t.token)}o.router.navigate(["/mis-autos"]),o.generalService.loadingDismiss(),o.generalService.alert("\xa1Auto agregado correctamente!","El a\xfato fue agregado correctamente.","success")},error:t=>{o.generalService.loadingDismiss(),o.generalService.alert("\xa1Algo sali\xf3 mal!","Ocurri\xf3 un error inesperado. Por favor, intenta nuevamente.","danger")},complete:()=>{o.generalService.loadingDismiss()}})})()}validacionesAntesdeEnviarForm_Nuevos(){var n=this;return(0,u.A)(function*(){if(!n.validarUbicacion())return!1;const o=n.versionSeleccionada.map((t,c)=>t?n.versiones[c]:null).filter(Boolean);if(0===o.length)return n.generalService.alert("Versi\xf3n requerida","Debes seleccionar al menos una versi\xf3n del veh\xedculo.","warning"),!1;for(const t of o){const c=n.preciosVersiones[t];if("number"!=typeof c||isNaN(c))return n.generalService.alert("Precio faltante",`Debes asignar un precio v\xe1lido a la versi\xf3n: ${t}`,"warning"),!1;if(c<15e3||c>1e7)return n.generalService.alert("Precio inv\xe1lido",`El precio para la versi\xf3n "${t}" debe estar entre $15,000 y $10,000,000.`,"warning"),!1}return!!n.imagenPrincipal||(n.generalService.alert("Falta imagen principal","Selecciona una imagen principal para continuar.","warning"),!1)})()}prepararFormularioParaEnvio_Nuevo(){var n=this;return(0,u.A)(function*(){const o=new FormData;o.append("anio",n.anio.toString()),o.append("marca",n.marca),o.append("modelo",n.modelo);const c=n.versionSeleccionada.map((s,d)=>s?n.versiones[d]:null).filter(Boolean).map(s=>({Name:s,Precio:n.preciosVersiones[s]||0}));if(o.append("version",JSON.stringify(c)),n.ubicacionSeleccionada&&o.append("ubicacion",JSON.stringify({ciudad:n.ubicacionSeleccionada[0],estado:n.ubicacionSeleccionada[1],lat:n.ubicacionSeleccionada[2],lng:n.ubicacionSeleccionada[3]})),n.imagenPrincipal&&(o.append("imagenPrincipal",n.imagenPrincipal),o.append("imagenes",n.imagenPrincipal)),n.imagenesSecundarias.length>0)for(const s of n.imagenesSecundarias)o.append("imagenes",s);return o})()}validacionesAntesdeEnviarForm_Usados(){var n=this;return(0,u.A)(function*(){if(!n.validarUbicacion())return!1;if(!n.versionSeleccionadaTexto||""===n.versionSeleccionadaTexto.trim())return n.generalService.alert("Versi\xf3n requerida","Por favor, selecciona o escribe una versi\xf3n del veh\xedculo.","warning"),!1;if(!(n.precio&&Number.isInteger(n.precio)&&n.precio>=15e3&&n.precio<=1e7))return n.generalService.alert("Precio inv\xe1lido","El precio debe ser un n\xfamero entero entre $15,000 y $10,000,000.","warning"),!1;if(n.placas&&""!==n.placas.trim()){const c=n.placas.trim().length,s=/^[A-Za-z0-9-]+$/.test(n.placas);if(c<6||c>12||!s)return n.generalService.alert("Placas inv\xe1lidas","Las placas deben tener entre 6 y 12 caracteres y solo pueden incluir letras, n\xfameros y guiones.","warning"),!1}return null!==n.kilometraje&&Number.isInteger(n.kilometraje)&&n.kilometraje>=0?null!==n.kilometraje&&n.kilometraje>45e4?(n.generalService.alert("Kilometraje elevado","Este veh\xedculo tiene m\xe1s de 180,000 km. Puede ser dif\xedcil de vender o requerir mantenimiento importante.","info"),!1):n.colorSeleccionado&&""!==n.colorSeleccionado.trim()?n.descripcion&&0!==n.descripcion.trim().length?n.descripcion.trim().length>100?(n.generalService.alert("Descripci\xf3n demasiado larga","La descripci\xf3n debe tener m\xe1ximo 100 caracteres.","warning"),!1):n.imagenPrincipal?!Array.isArray(n.imagenesSecundarias)||n.imagenesSecundarias.length<2?(n.generalService.alert("Im\xe1genes secundarias insuficientes","Debes seleccionar al menos 2 im\xe1genes secundarias.","warning"),!1):!(n.imagenesSecundarias.length>10&&(n.generalService.alert("Demasiadas im\xe1genes","Puedes subir un m\xe1ximo de 10 im\xe1genes secundarias.","warning"),1)):(n.generalService.alert("Falta imagen principal","Selecciona una imagen principal para continuar.","warning"),!1):(n.generalService.alert("Descripci\xf3n requerida","Por favor escribe una breve descripci\xf3n del veh\xedculo.","warning"),!1):(n.generalService.alert("Color requerido","Por favor, selecciona un color para el veh\xedculo.","warning"),!1):(n.generalService.alert("Kilometraje inv\xe1lido","El kilometraje debe ser un n\xfamero entero positivo.","warning"),!1)})()}prepararFormularioParaEnvio_Usado(){var n=this;return(0,u.A)(function*(){var o,t;const c=new FormData;if(c.append("anio",n.anio.toString()),c.append("marca",n.marca),c.append("modelo",n.modelo),c.append("moneda",n.moneda),c.append("placas",null!==(o=n.placas)&&void 0!==o&&o.trim()?n.placas.toUpperCase():"null"),c.append("descripcion",n.descripcion||""),c.append("kilometraje",(null===(t=n.kilometraje)||void 0===t?void 0:t.toString())||"0"),c.append("color",n.colorSeleccionado),c.append("version",JSON.stringify({Name:n.versionSeleccionadaTexto,Precio:n.precio})),"seminuevo"===n.estadoVehiculo_logico||"usado"===n.estadoVehiculo_logico)for(const p of n.camposEspecificaciones){var d;const f=null===(d=n.especificacionesVersion)||void 0===d?void 0:d[p];if("extra"===p&&Array.isArray(f))c.append(p,f.length>0?JSON.stringify(f):"");else{const C=!(null==f||Array.isArray(f)&&0===f.length||"string"==typeof f&&""===f.trim());c.append(p,C?f:"")}}else if("viejito"===n.estadoVehiculo_logico)for(const p of n.camposEspecificaciones){const f=n.camposViejito[p];if("extra"===p){const C=n.extrasTexto.split(",").map(w=>w.trim()).filter(w=>""!==w);c.append("extra",C.length>0?JSON.stringify(C):"")}else c.append(p,(null==f?void 0:f.trim())||"")}let m=null;if("particular"===n.tipoSeleccionado&&n.ubicacionSeleccionada&&(m={ciudad:n.ubicacionSeleccionada[0],estado:n.ubicacionSeleccionada[1],lat:n.ubicacionSeleccionada[2],lng:n.ubicacionSeleccionada[3]}),"lote"===n.tipoSeleccionado){const p=n.lotes.find(C=>C._id===n.loteSeleccionado),f=(null==p?void 0:p.direccion.length)>1?n.direccionSeleccionada:null==p?void 0:p.direccion[0];f&&(m={ciudad:f.ciudad,estado:f.estado,lat:f.lat,lng:f.lng},c.append("lote",p._id))}if(m&&c.append("ubicacion",JSON.stringify(m)),n.imagenPrincipal&&(c.append("imagenPrincipal",n.imagenPrincipal),c.append("imagenes",n.imagenPrincipal)),n.imagenesSecundarias.length>0)for(const p of n.imagenesSecundarias)c.append("imagenes",p);return c})()}validarUbicacion(){const o="lote"===this.tipoSeleccionado;if("particular"===this.tipoSeleccionado)return!(!this.ubicacionSeleccionada||4!==this.ubicacionSeleccionada.length||"number"!=typeof this.ubicacionSeleccionada[2]||"number"!=typeof this.ubicacionSeleccionada[3])||(this.generalService.alert("Ubicaci\xf3n requerida","Selecciona la ubicaci\xf3n del veh\xedculo en el mapa.","warning"),!1);if(o){const t=this.lotes.find(c=>c._id===this.loteSeleccionado);return t?!(t.direccion.length>1&&!this.direccionSeleccionada&&(this.generalService.alert("Ubicaci\xf3n del lote requerida","Selecciona una ubicaci\xf3n espec\xedfica del lote.","warning"),1)):(this.generalService.alert("Lote requerido","Selecciona un lote v\xe1lido.","warning"),!1)}return!1}getLotes(n){var t,o=this;this.registroService.allLotes(n).subscribe({next:(t=(0,u.A)(function*(c){if(o.lotes=c.lotes,o.totalLotes=o.lotes.length,1===o.lotes.length){const s=o.lotes[0];o.loteSeleccionado=s._id,o.ubicacionesLoteSeleccionado=s.direccion,o.leerLatLng()}}),function(s){return t.apply(this,arguments)}),error:function(){var t=(0,u.A)(function*(c){yield o.generalService.loadingDismiss(),yield o.generalService.alert("Verifica tu red","Error de red. Intenta m\xe1s tarde.","danger")});return function(s){return t.apply(this,arguments)}}()})}onLoteSeleccionado(){const n=this.lotes.find(o=>o._id===this.loteSeleccionado);this.ubicacionesLoteSeleccionado=(null==n?void 0:n.direccion)||[],this.leerLatLng()}leerLatLng(){if(1===this.ubicacionesLoteSeleccionado.length)this.direccionSeleccionada=this.ubicacionesLoteSeleccionado[0],this.generalService.obtenerDireccionDesdeCoordenadas(this.direccionSeleccionada.lat,this.direccionSeleccionada.lng).then(n=>{this.direccionCompleta=n}).catch(n=>{this.direccionCompleta="No se pudo obtener la direcci\xf3n.",console.warn(n)});else{this.direccionSeleccionada=null,this.ubicacionesLoteLegibles=[];const n=this.ubicacionesLoteSeleccionado.map(o=>this.generalService.obtenerDireccionDesdeCoordenadas(o.lat,o.lng));Promise.all(n).then(o=>{this.ubicacionesLoteLegibles=o}).catch(o=>{console.warn("\u274c Error obteniendo direcciones:",o),this.ubicacionesLoteLegibles=this.ubicacionesLoteSeleccionado.map(()=>"No disponible")})}}quienLovende(n){0==n?this.seccionFormulario=2:1==n&&(this.seccionFormulario=3,this.generarListaAnios())}cambiarEstado(n){this.estadoVehiculo=n}}return(a=r).\u0275fac=function(n){return new(n||a)(e.rXU(_.ok),e.rXU(S.R),e.rXU(v.O),e.rXU(l.W3),e.rXU(x.Ix),e.rXU(E.f),e.rXU(R.q))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-car"]],inputs:{anio:"anio",marca:"marca",modelo:"modelo",tipo:"tipo"},decls:7,vars:6,consts:[["lista",""],[4,"ngIf"],["class","resumen-estado",4,"ngIf"],["class","tipo-vehiculo-container",4,"ngIf"],["class","pregunta-vendedor",4,"ngIf"],["class","formulario-publicacion",4,"ngIf"],["class","formulario",4,"ngIf"],[1,"resumen-estado"],[1,"fila-info-inline"],["class","estilo_unico",4,"ngIf"],["class","field-tipo-inline",4,"ngIf"],["type","button",1,"btn-guardar",3,"click"],["name","save-outline",1,"icono-guardar"],[1,"estilo_unico"],[1,"field-tipo-inline"],[1,"tipo-inline-wrapper"],["interface","popover","placeholder","Tipo",1,"select-tipo-inline",3,"ionChange","interfaceOptions","value"],["value","Nuevo"],["value","Seminuevo"],["value","Usado"],[1,"tipo-vehiculo-container"],[1,"titulo-tipo"],[1,"opciones-vehiculo"],[1,"casilla",3,"click"],["src","assets/img/particular.png","alt","Particular"],["name","checkmark-circle-outline","class","icono-check",4,"ngIf"],["src","assets/img/lote.png","alt","Lote"],[1,"contenedor-boton"],[1,"btn-continuar",3,"click","disabled"],["name","arrow-forward-outline"],["name","checkmark-circle-outline",1,"icono-check"],[1,"pregunta-vendedor"],[1,"texto-pregunta"],[1,"botones-vendedor"],[1,"btn-vender-yo",3,"click"],[1,"btn-vende-go",3,"click"],["src","assets/icon/logo4.png","alt","woaw",1,"logo-boton"],[1,"formulario-publicacion"],[1,"info-texto"],[1,"info-grid"],["position","stacked"],["type","number","placeholder","Solo n\xfameros",3,"ngModelChange","ngModel"],["placeholder","Selecciona una opci\xf3n","mode","ios","interface","alert",3,"ngModelChange","ngModel"],["value","original"],["value","refacturada"],["value","sin factura"],[1,"btn-wsp-container"],[1,"btn-wsp",3,"click"],["name","logo-whatsapp","slot","start"],[1,"formulario"],[1,"contenedor-botones"],["class","bloque-imagenes",4,"ngIf"],[1,"bloque-imagenes"],["type","button",1,"btn-imagenes",3,"click"],["name","image-outline"],[1,"radio-validacion"],[1,"radio-custom"],["name","checkmark-outline"],["class","btn-limpiar","type","button",3,"click",4,"ngIf"],["class","grid-form",4,"ngIf"],[1,"grid-info"],["class","columna-ficha",4,"ngIf"],["type","button",3,"click"],["name","location-outline",1,"icono"],["class","ubicacion-mostrada",4,"ngIf"],[1,"ubicacion-mostrada"],["name","location-outline"],["for","loteSelect"],["id","loteSelect","placeholder","Selecciona un lote","mode","ios","interface","alert",1,"select-lote",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","bloque-direcciones",4,"ngIf"],[3,"value"],[1,"bloque-direcciones"],["for","direccionSelect"],["id","direccionSelect","placeholder","Selecciona una ubicaci\xf3n","mode","ios","interface","alert",1,"select-lote",3,"ngModelChange","ngModel"],["type","button",1,"btn-limpiar",3,"click"],["name","trash-outline"],[1,"label-section"],["class","version-item",4,"ngFor","ngForOf"],[1,"grid-form"],[1,"version-item"],[3,"ionChange","checked"],["type","number","min","0","placeholder","Precio",3,"ngModel","name","ngModelChange",4,"ngIf"],["type","number","min","0","placeholder","Precio",3,"ngModelChange","ngModel","name"],[1,"campo"],[1,"requerido"],["placeholder","Selecciona una versi\xf3n","mode","ios","interface","alert",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","placeholder","Escribe la versi\xf3n manualmente",3,"ngModel","ngModelChange",4,"ngIf"],["type","number","min","0","placeholder","Precio del veh\xedculo",3,"ngModelChange","ngModel"],[1,"opcional_css"],["type","text","placeholder","Ej. UVY-123-A",3,"ngModelChange","ngModel"],["type","number","min","0","placeholder","Ej. 45000","required","",3,"ngModelChange","ngModel"],["required","","name","color","placeholder","Selecciona un color","mode","ios","interface","alert",3,"ngModelChange","ngModel"],["name","moneda","mode","ios","interface","alert",3,"ngModelChange","ngModel"],["value","MXN"],["value","USD"],[1,"campo","campo-descripcion"],["rows","4","placeholder","Ej. Auto en excelente estado, \xfanico due\xf1o...","required","",3,"ngModelChange","ngModel"],["placeholder","Selecciona una versi\xf3n","mode","ios","interface","alert",3,"ngModelChange","ngModel"],["type","text","placeholder","Escribe la versi\xf3n manualmente",3,"ngModelChange","ngModel"],[1,"columna-ficha"],["class","card-especificaciones",4,"ngIf"],[1,"card-especificaciones"],[1,"sublista"],[4,"ngFor","ngForOf"],["class","campo",4,"ngFor","ngForOf"],["placeholder","Ej. Quemacocos, GPS, C\xe1mara de reversa...","rows","2",3,"ngModelChange","ngModel"],["type","text",3,"ngModelChange","placeholder","ngModel"]],template:function(n,o){1&n&&(e.DNE(0,A,1,0,"app-spinner",1),e.j41(1,"section"),e.DNE(2,Y,19,5,"div",2)(3,z,18,7,"div",3)(4,U,9,0,"div",4)(5,H,41,6,"div",5)(6,je,17,11,"div",6),e.k0s()),2&n&&(e.Y8G("ngIf",o.mostrar_spinnet),e.R7$(2),e.Y8G("ngIf",2==o.seccionFormulario&&"no"==o.Pregunta),e.R7$(),e.Y8G("ngIf","si"==o.Pregunta),e.R7$(),e.Y8G("ngIf","particular"==o.tipoSeleccionado&&"admin"!==o.MyRole&&1==o.seccionFormulario),e.R7$(),e.Y8G("ngIf","particular"===o.tipoSeleccionado&&3===o.seccionFormulario&&("cliente"===o.MyRole||"vendedor"===o.MyRole)),e.R7$(),e.Y8G("ngIf","no"==o.Pregunta&&2==o.seccionFormulario))},dependencies:[l.bv,l.eY,l.iq,l.$w,l.uz,l.he,l.Nm,l.Ip,l.hB,l.su,l.Je,l.Gw,l.T6,g.MD,g.Sq,g.bT,_.YN,_.me,_.BC,_.YS,_.vS,_.X1,T.t],styles:['@charset "UTF-8";section[_ngcontent-%COMP%]{margin-top:14px;font-family:-apple-system,system-ui,BlinkMacSystemFont,SF Pro Text,Helvetica Neue,Arial,sans-serif}.resumen-estado[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:10px;padding:10px 14px;margin:0 4px 8px;background:#fff;border-radius:16px;border:1px solid rgba(60,60,67,.15);box-shadow:0 10px 24px #0f172a29,0 0 0 .5px #fffc}.fila-info-inline[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:16px}.fila-info-inline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#3c3c43;white-space:nowrap}@media (max-width: 768px){.fila-info-inline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.fila-info-inline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;margin-left:4px;color:#111827}.estilo_unico[_ngcontent-%COMP%]{font-size:13px;padding:6px 10px;border-radius:999px;border:1px solid #ff3b30;background:#ff3b300f;color:#ff3b30}.field-tipo-inline[_ngcontent-%COMP%]{display:flex;align-items:center}.tipo-inline-wrapper[_ngcontent-%COMP%]{width:135px;height:32px;border-radius:999px;border:1px solid #ff3b30;overflow:hidden;background:#fff;display:flex;align-items:center;justify-content:center}.tipo-inline-wrapper[_ngcontent-%COMP%]   ion-select.select-tipo-inline[_ngcontent-%COMP%]{width:100%;height:100%;--min-height: 32px;--padding-start: 8px;--padding-end: 8px;--background: transparent;--color: #111827;--placeholder-color: #8e8e93;--highlight-color-focused: transparent;text-align:center;font-size:13px;font-weight:600}.btn-guardar[_ngcontent-%COMP%]{border:none;outline:none;background:linear-gradient(135deg,#ff3b30,#ff453a);color:#fff;border-radius:999px;padding:8px 16px;font-size:13px;font-weight:600;display:inline-flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 10px 20px #ff453a66;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.btn-guardar[_ngcontent-%COMP%]   ion-icon.icono-guardar[_ngcontent-%COMP%]{font-size:18px}.btn-guardar[_ngcontent-%COMP%]:hover{transform:translateY(-1px);filter:brightness(1.02);box-shadow:0 12px 26px #ff453a80}.btn-guardar[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 7px 18px #ff453a4d}.tipo-vehiculo-container[_ngcontent-%COMP%]{text-align:center;margin:20px auto 10px;padding:16px 12px 18px;max-width:540px;background:#fff;border-radius:18px;border:1px solid rgba(60,60,67,.12);box-shadow:0 12px 24px #0f172a2e,0 0 0 .5px #ffffffe6}.tipo-vehiculo-container[_ngcontent-%COMP%]   .titulo-tipo[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin:0 0 12px;color:#111827}.tipo-vehiculo-container[_ngcontent-%COMP%]   .opciones-vehiculo[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:14px;flex-wrap:wrap}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]{width:132px;height:132px;border-radius:18px;background-color:#f2f2f7;border:1px solid transparent;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;cursor:pointer;transition:background .18s ease,border-color .18s ease,box-shadow .18s ease,transform .12s ease}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;margin-bottom:8px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:13px;color:#111827;padding:0 8px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   .icono-check[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;color:#ff3b30;font-size:18px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla.activa[_ngcontent-%COMP%]{background-color:#fff;border-color:#ff3b30;box-shadow:0 10px 22px #ff453a47;transform:translateY(-1px)}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]:hover{background-color:#fff}.tipo-vehiculo-container[_ngcontent-%COMP%]   .contenedor-boton[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:18px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]{border:none;border-radius:999px;padding:10px 24px;background:linear-gradient(135deg,#ff3b30,#ff453a);color:#fff;font-weight:600;font-size:15px;display:inline-flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 10px 22px #ff453a66;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);filter:brightness(1.02);box-shadow:0 12px 26px #ff453a80}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#ffb3b8,#ffc2c0);box-shadow:none;cursor:not-allowed}.pregunta-vendedor[_ngcontent-%COMP%]{margin:18px auto;padding:18px 16px;max-width:580px;background:#fff;border-radius:18px;border:1px solid rgba(60,60,67,.12);box-shadow:0 12px 24px #0f172a29,0 0 0 .5px #ffffffe6}.pregunta-vendedor[_ngcontent-%COMP%]   .texto-pregunta[_ngcontent-%COMP%]{font-size:17px;font-weight:600;margin:0 0 16px;color:#111827}.pregunta-vendedor[_ngcontent-%COMP%]   .botones-vendedor[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:12px}.pregunta-vendedor[_ngcontent-%COMP%]   .btn-vender-yo[_ngcontent-%COMP%], .pregunta-vendedor[_ngcontent-%COMP%]   .btn-vende-go[_ngcontent-%COMP%]{padding:10px 18px;font-size:14px;font-weight:600;border-radius:999px;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:8px;box-shadow:0 8px 18px #0f172a2e;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.pregunta-vendedor[_ngcontent-%COMP%]   .btn-vender-yo[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0a84ff,#4dabff);color:#fff}.pregunta-vendedor[_ngcontent-%COMP%]   .btn-vende-go[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff3b30,#ff453a);color:#fff}.pregunta-vendedor[_ngcontent-%COMP%]   .btn-vender-yo[_ngcontent-%COMP%]:hover, .pregunta-vendedor[_ngcontent-%COMP%]   .btn-vende-go[_ngcontent-%COMP%]:hover{transform:translateY(-1px);filter:brightness(1.03)}.pregunta-vendedor[_ngcontent-%COMP%]   .logo-boton[_ngcontent-%COMP%]{height:18px}.formulario-publicacion[_ngcontent-%COMP%]{margin-top:18px;padding:16px 14px 18px;border-radius:18px;background:#f2f2f7;border:1px solid rgba(60,60,67,.1)}.formulario-publicacion[_ngcontent-%COMP%]   .info-texto[_ngcontent-%COMP%]{font-size:14px;color:#1c1c1e;margin-bottom:10px}.formulario-publicacion[_ngcontent-%COMP%]   .info-texto[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#111827}.formulario-publicacion[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:12px}.formulario-publicacion[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px}.formulario-publicacion[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-left:4px;font-weight:600}.formulario-publicacion[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .estilo_unico[_ngcontent-%COMP%]{margin-left:auto}.formulario-publicacion[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #ffffff;--inner-border-width: 0;--padding-start: 0;--padding-end: 0;--highlight-color-focused: #ff3b30;border-radius:12px;margin-bottom:10px;box-shadow:0 1px 4px #0f172a1f}.formulario-publicacion[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .formulario-publicacion[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 8px;--background: transparent;font-size:14px}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp-container[_ngcontent-%COMP%]{text-align:center;margin-top:16px}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp[_ngcontent-%COMP%]{border:none;border-radius:999px;padding:10px 22px;background:#25d366;color:#fff;font-weight:600;font-size:14px;display:inline-flex;align-items:center;gap:8px;cursor:pointer;box-shadow:0 12px 22px #25d36673;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp[_ngcontent-%COMP%]:hover{transform:translateY(-1px);filter:brightness(1.02)}.formulario[_ngcontent-%COMP%]{margin-top:18px;padding:14px 12px 18px;border-radius:18px;background:#f2f2f7;border:1px solid rgba(60,60,67,.12)}.contenedor-botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;align-items:stretch;margin-bottom:10px}.contenedor-botones[_ngcontent-%COMP%]   .bloque-imagenes[_ngcontent-%COMP%]{flex:1 1 260px;display:flex;flex-direction:column;gap:8px}.contenedor-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:999px;border:1px solid rgba(60,60,67,.18);background:#fff;padding:8px 14px;font-size:13px;font-weight:600;display:inline-flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 4px 10px #0f172a1f;transition:background .14s ease,box-shadow .16s ease,transform .12s ease}.contenedor-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.contenedor-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f8f9fb;transform:translateY(-1px)}.contenedor-botones[_ngcontent-%COMP%]   .select-lote[_ngcontent-%COMP%]{margin-top:6px;border-radius:12px;border:1px solid rgba(60,60,67,.18);padding:8px 12px;font-size:13px;background:#fff;outline:none;-webkit-appearance:none}.contenedor-botones[_ngcontent-%COMP%]   .select-lote[_ngcontent-%COMP%]:focus{border-color:#ff3b30;box-shadow:0 0 0 2px #ff3b302e}.contenedor-botones[_ngcontent-%COMP%]   .ubicacion-mostrada[_ngcontent-%COMP%]{margin-top:6px;padding:8px 10px;border-radius:12px;background:#fff;border-left:3px solid #ff3b30;font-size:12px;color:#3c3c43;display:flex;align-items:flex-start;gap:6px}.contenedor-botones[_ngcontent-%COMP%]   .ubicacion-mostrada[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#ff3b30;margin-top:2px}.contenedor-botones[_ngcontent-%COMP%]   .btn-imagenes[_ngcontent-%COMP%]{position:relative}.contenedor-botones[_ngcontent-%COMP%]   .btn-limpiar[_ngcontent-%COMP%]{background:#fff5f4;border-color:#ff3b3059;color:#b91c1c;font-size:11px}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion[_ngcontent-%COMP%]{margin-left:auto;display:inline-flex;align-items:center;gap:4px}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion[_ngcontent-%COMP%]   .radio-custom[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;border:1px solid rgba(60,60,67,.35)}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion.activo[_ngcontent-%COMP%]   .radio-custom[_ngcontent-%COMP%]{background:#34c759;border-color:#34c759}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion.activo[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#34c759}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion.inactivo[_ngcontent-%COMP%]{opacity:.35}.label-section[_ngcontent-%COMP%]{display:block;font-size:13px;font-weight:600;color:#3c3c43;margin-bottom:6px}.version-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:8px 10px;margin-bottom:6px;border-radius:12px;background:#fff;border:1px solid rgba(60,60,67,.14);box-shadow:0 4px 10px #0f172a14}.version-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-size:13px;font-weight:500;color:#111827}.version-item[_ngcontent-%COMP%]   ion-checkbox[_ngcontent-%COMP%]{--size: 18px;--checkbox-background: #f2f2f7;--checkbox-background-checked: #ff3b30;--border-color: rgba(60, 60, 67, .4);--border-color-checked: #ff3b30;--checkmark-color: #ffffff}.version-item[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:120px;border-radius:10px;border:1px solid rgba(60,60,67,.18);background:#f2f2f7;padding:6px 8px;font-size:13px;outline:none}.version-item[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus{border-color:#ff3b30;box-shadow:0 0 0 2px #ff3b302e;background:#fff}.grid-form[_ngcontent-%COMP%]{margin-top:8px;background:#fff;border-radius:16px;padding:12px;box-shadow:0 8px 20px #0f172a1f;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px}@media (max-width: 900px){.grid-form[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (max-width: 640px){.grid-form[_ngcontent-%COMP%]{grid-template-columns:1fr}}.ficha-viejito[_ngcontent-%COMP%]{margin-top:14px}.campo[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.campo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#3c3c43}.campo[_ngcontent-%COMP%]   .requerido[_ngcontent-%COMP%]{color:#ff3b30}.campo[_ngcontent-%COMP%]   .opcional_css[_ngcontent-%COMP%]{font-size:10px;color:#8e8e93}.campo-descripcion[_ngcontent-%COMP%]{grid-column:1/-1}.campo[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .campo[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .campo[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border-radius:12px;border:1px solid rgba(60,60,67,.18);background:#f2f2f7;padding:8px 10px;font-size:13px;color:#111827;outline:none;-webkit-appearance:none}.campo[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .campo[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus, .campo[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#ff3b30;box-shadow:0 0 0 2px #ff3b302e;background:#fff}.campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.grid-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:8px;margin-top:10px}.columna-ficha[_ngcontent-%COMP%]   .card-especificaciones[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:10px 12px;border:1px solid rgba(60,60,67,.12);box-shadow:0 8px 18px #0f172a1f}.columna-ficha[_ngcontent-%COMP%]   .card-especificaciones[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:15px;font-weight:600;color:#111827}.columna-ficha[_ngcontent-%COMP%]   .card-especificaciones[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.columna-ficha[_ngcontent-%COMP%]   .card-especificaciones[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:14px;margin-bottom:4px;font-size:12px;color:#374151}.columna-ficha[_ngcontent-%COMP%]   .card-especificaciones[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:7px;width:6px;height:6px;border-radius:50%;background:#ff3b30}.columna-ficha[_ngcontent-%COMP%]   .card-especificaciones[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.columna-ficha[_ngcontent-%COMP%]   .card-especificaciones[_ngcontent-%COMP%]   .sublista[_ngcontent-%COMP%]{margin-top:4px;padding-left:0}']}),r})();const ke=()=>({cssClass:"select-popover pop-tipo",side:"bottom",alignment:"start"});function Se(a,r){if(1&a&&(e.j41(0,"p",12),e.EFF(1),e.k0s()),2&a){const i=e.XpG(2);e.R7$(),e.JRh(i.estadoVehiculo)}}function Ee(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",13)(1,"div",14)(2,"ion-select",15,0),e.bIt("ionChange",function(o){e.eBV(i);const t=e.XpG(2);return e.Njj(t.onTipoChange(o))}),e.j41(4,"ion-select-option",16),e.EFF(5,"Nuevo"),e.k0s(),e.j41(6,"ion-select-option",17),e.EFF(7,"Seminuevo"),e.k0s(),e.j41(8,"ion-select-option",18),e.EFF(9,"Usado"),e.k0s()()()()}if(2&a){const i=e.XpG(2);e.R7$(2),e.Y8G("interfaceOptions",e.lJ4(2,ke))("value",i.estadoVehiculo)}}function Re(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"p"),e.EFF(3,"A\xf1o: "),e.j41(4,"strong"),e.EFF(5),e.k0s()(),e.j41(6,"p"),e.EFF(7,"Marca: "),e.j41(8,"strong"),e.EFF(9),e.k0s()(),e.j41(10,"p"),e.EFF(11,"Modelo: "),e.j41(12,"strong"),e.EFF(13),e.k0s()(),e.DNE(14,Se,2,1,"p",8)(15,Ee,10,3,"div",9),e.k0s(),e.j41(16,"button",10),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.EnviarVeiculo())}),e.nrm(17,"ion-icon",11),e.EFF(18," Publicar "),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(5),e.JRh(i.anio),e.R7$(4),e.JRh(i.marca),e.R7$(4),e.JRh(i.modelo),e.R7$(),e.Y8G("ngIf","admin"!==i.MyRole),e.R7$(),e.Y8G("ngIf","admin"===i.MyRole)}}function we(a,r){1&a&&e.nrm(0,"ion-icon",29)}function Ve(a,r){1&a&&e.nrm(0,"ion-icon",29)}function ye(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",19)(1,"h2",20),e.EFF(2,"\xbfQu\xe9 tipo de veh\xedculo quieres subir?"),e.k0s(),e.j41(3,"div",21)(4,"div",22),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.seleccionarTipo("particular"))}),e.nrm(5,"img",23),e.j41(6,"p"),e.EFF(7,"Particular"),e.k0s(),e.DNE(8,we,1,0,"ion-icon",24),e.k0s(),e.j41(9,"div",22),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.seleccionarTipo("lote"))}),e.nrm(10,"img",25),e.j41(11,"p"),e.EFF(12,"Lote"),e.k0s(),e.DNE(13,Ve,1,0,"ion-icon",24),e.k0s()(),e.j41(14,"div",26)(15,"button",27),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.continuar())}),e.EFF(16," Continuar "),e.nrm(17,"ion-icon",28),e.k0s()()()}if(2&a){const i=e.XpG();e.R7$(4),e.AVh("activa","particular"===i.tipoSeleccionado),e.R7$(4),e.Y8G("ngIf","particular"===i.tipoSeleccionado),e.R7$(),e.AVh("activa","lote"===i.tipoSeleccionado),e.R7$(4),e.Y8G("ngIf","lote"===i.tipoSeleccionado),e.R7$(2),e.Y8G("disabled",!i.tipoSeleccionado)}}function Ie(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",30)(1,"p",31),e.EFF(2,"\xbfC\xf3mo quieres vender tu moto?"),e.k0s(),e.j41(3,"div",32)(4,"button",33),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.quienLovende(0))}),e.EFF(5," La vendo yo "),e.k0s(),e.j41(6,"button",34),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.quienLovende(1))}),e.EFF(7," Que la venda "),e.nrm(8,"img",35),e.k0s()()()}}function Ge(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",36)(1,"p",37)(2,"strong"),e.EFF(3,"\xa1Nosotros nos encargamos!"),e.k0s(),e.EFF(4," Publicamos tu moto y agendamos citas con interesados. "),e.nrm(5,"br"),e.j41(6,"strong"),e.EFF(7,"Cont\xe1ctanos por WhatsApp y te ayudamos."),e.k0s()(),e.j41(8,"div",38)(9,"p"),e.EFF(10,"A\xf1o: "),e.j41(11,"strong"),e.EFF(12),e.k0s()(),e.j41(13,"p"),e.EFF(14,"Marca: "),e.j41(15,"strong"),e.EFF(16),e.k0s()(),e.j41(17,"p"),e.EFF(18,"Modelo: "),e.j41(19,"strong"),e.EFF(20),e.k0s()(),e.j41(21,"p",12),e.EFF(22),e.k0s()(),e.j41(23,"ion-item")(24,"ion-label",39),e.EFF(25,"Precio estimado (opcional)"),e.k0s(),e.j41(26,"ion-input",40),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.precioEstimado,o)||(t.precioEstimado=o),e.Njj(o)}),e.k0s()(),e.j41(27,"ion-item")(28,"ion-label",39),e.EFF(29,"Tipo de factura (opcional)"),e.k0s(),e.j41(30,"ion-select",41),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.tipoFactura,o)||(t.tipoFactura=o),e.Njj(o)}),e.j41(31,"ion-select-option",42),e.EFF(32,"Original"),e.k0s(),e.j41(33,"ion-select-option",43),e.EFF(34,"Refacturada"),e.k0s(),e.j41(35,"ion-select-option",44),e.EFF(36,"Sin factura"),e.k0s()()(),e.j41(37,"div",45)(38,"button",46),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.ContactosService.contactarPorPublicacionParticular(o.anio,o.marca,o.modelo,o.precioEstimado,o.tipoFactura))}),e.nrm(39,"ion-icon",47),e.EFF(40," Cont\xe1ctanos por WhatsApp "),e.k0s()()()}if(2&a){const i=e.XpG();e.R7$(12),e.JRh(i.anio),e.R7$(4),e.JRh(i.marca),e.R7$(4),e.JRh(i.modelo),e.R7$(2),e.JRh(i.estadoVehiculo),e.R7$(4),e.R50("ngModel",i.precioEstimado),e.R7$(4),e.R50("ngModel",i.tipoFactura)}}function Ne(a,r){if(1&a&&(e.j41(0,"div",81),e.nrm(1,"ion-icon",82),e.EFF(2),e.k0s()),2&a){const i=e.XpG(3);e.R7$(2),e.SpI(" ",i.direccionCompleta," ")}}function Te(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",51)(1,"button",78),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.seleccionarUbicacion())}),e.nrm(2,"ion-icon",79),e.EFF(3," Seleccionar ubicaci\xf3n "),e.k0s(),e.DNE(4,Ne,3,1,"div",80),e.k0s()}if(2&a){const i=e.XpG(2);e.R7$(4),e.Y8G("ngIf",i.ubicacionSeleccionada)}}function De(a,r){if(1&a&&(e.j41(0,"option",88),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("ngValue",i._id),e.R7$(),e.SpI(" ",i.nombre," ")}}function Ae(a,r){if(1&a&&(e.j41(0,"option",88),e.EFF(1),e.k0s()),2&a){const i=r.$implicit,n=r.index,o=e.XpG(4);e.Y8G("ngValue",i),e.R7$(),e.SpI(" ",o.ubicacionesLoteLegibles[n]||"Obteniendo direcci\xf3n..."," ")}}function Xe(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",89)(1,"label",90),e.EFF(2,"Selecciona una ubicaci\xf3n:"),e.k0s(),e.j41(3,"select",91),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.DH7(t.direccionSeleccionada,o)||(t.direccionSeleccionada=o),e.Njj(o)}),e.j41(4,"option",85),e.EFF(5," Selecciona una ubicaci\xf3n "),e.k0s(),e.DNE(6,Ae,2,2,"option",86),e.k0s()()}if(2&a){const i=e.XpG(3);e.R7$(3),e.R50("ngModel",i.direccionSeleccionada),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",i.ubicacionesLoteSeleccionado)}}function $e(a,r){if(1&a&&(e.j41(0,"div",81),e.nrm(1,"ion-icon",82),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&a){const i=e.XpG(3);e.R7$(3),e.JRh(i.direccionCompleta)}}function Ye(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",51)(1,"label",83),e.EFF(2,"Selecciona tu lote:"),e.k0s(),e.j41(3,"select",84),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.loteSeleccionado,o)||(t.loteSeleccionado=o),e.Njj(o)}),e.bIt("change",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.onLoteSeleccionado())}),e.j41(4,"option",85),e.EFF(5,"Selecciona un lote"),e.k0s(),e.DNE(6,De,2,2,"option",86),e.k0s(),e.DNE(7,Xe,7,3,"div",87)(8,$e,4,1,"div",80),e.k0s()}if(2&a){const i=e.XpG(2);e.R7$(3),e.R50("ngModel",i.loteSeleccionado),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",i.lotes),e.R7$(),e.Y8G("ngIf",i.ubicacionesLoteSeleccionado.length>1),e.R7$(),e.Y8G("ngIf",i.direccionSeleccionada&&1===i.ubicacionesLoteSeleccionado.length)}}function Le(a,r){if(1&a){const i=e.RV6();e.j41(0,"button",92),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.limpiarImagenes())}),e.nrm(1,"ion-icon",93),e.EFF(2," Im\xe1genes "),e.k0s()}}function Be(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",59)(1,"label"),e.EFF(2,"Placas: "),e.j41(3,"span",71),e.EFF(4,"(opcional)"),e.k0s()(),e.j41(5,"input",94),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.placas,o)||(t.placas=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG(2);e.R7$(5),e.R50("ngModel",i.placas)}}function ze(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",59)(1,"label"),e.EFF(2,"Kilometraje: "),e.j41(3,"span",60),e.EFF(4,"*"),e.k0s()(),e.j41(5,"input",95),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.kilometraje,o)||(t.kilometraje=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG(2);e.R7$(5),e.R50("ngModel",i.kilometraje)}}function Ue(a,r){if(1&a&&(e.j41(0,"option",96),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i.label),e.R7$(),e.SpI(" ",i.label," ")}}function He(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",48)(1,"div",49),e.DNE(2,Te,5,1,"div",50)(3,Ye,9,5,"div",50),e.j41(4,"div",51)(5,"button",52),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.seleccionarImagenes())}),e.nrm(6,"ion-icon",53),e.EFF(7," Seleccionar Im\xe1genes "),e.j41(8,"label",54),e.nrm(9,"span",55)(10,"ion-icon",56),e.k0s()(),e.DNE(11,Le,3,0,"button",57),e.k0s()(),e.j41(12,"div",58)(13,"div",59)(14,"label"),e.EFF(15,"Precio: "),e.j41(16,"span",60),e.EFF(17,"*"),e.k0s()(),e.j41(18,"input",61),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.precio,o)||(t.precio=o),e.Njj(o)}),e.k0s()(),e.DNE(19,Be,6,1,"div",62)(20,ze,6,1,"div",62),e.j41(21,"div",59)(22,"label"),e.EFF(23,"Color: "),e.j41(24,"span",60),e.EFF(25,"*"),e.k0s()(),e.j41(26,"select",63),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.colorSeleccionadoUnico,o)||(t.colorSeleccionadoUnico=o),e.Njj(o)}),e.j41(27,"option",64),e.EFF(28,"Selecciona un color"),e.k0s(),e.DNE(29,Ue,2,2,"option",65),e.k0s()(),e.j41(30,"div",59)(31,"label"),e.EFF(32,"Moneda:"),e.k0s(),e.j41(33,"select",66),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.moneda,o)||(t.moneda=o),e.Njj(o)}),e.j41(34,"option",67),e.EFF(35,"MXN - Pesos mexicanos"),e.k0s(),e.j41(36,"option",68),e.EFF(37,"USD - D\xf3lares estadounidenses"),e.k0s()()(),e.j41(38,"div",69)(39,"label"),e.EFF(40," Descripci\xf3n de la motocicleta: "),e.j41(41,"span",60),e.EFF(42,"*"),e.k0s()(),e.j41(43,"textarea",70),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.descripcion,o)||(t.descripcion=o),e.Njj(o)}),e.k0s()(),e.j41(44,"div",59)(45,"label"),e.EFF(46,"Tipo de Motor: "),e.j41(47,"span",71),e.EFF(48,"(opcional)"),e.k0s()(),e.j41(49,"input",72),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.tipoMotor,o)||(t.tipoMotor=o),e.Njj(o)}),e.k0s()(),e.j41(50,"div",59)(51,"label"),e.EFF(52,"Cilindrada: "),e.j41(53,"span",60),e.EFF(54,"*"),e.k0s()(),e.j41(55,"input",73),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.cilindrada,o)||(t.cilindrada=o),e.Njj(o)}),e.k0s()(),e.j41(56,"div",59)(57,"label"),e.EFF(58,"Transmisi\xf3n: "),e.j41(59,"span",60),e.EFF(60,"*"),e.k0s()(),e.j41(61,"input",74),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.transmision,o)||(t.transmision=o),e.Njj(o)}),e.k0s()(),e.j41(62,"div",59)(63,"label"),e.EFF(64,"Combustible: "),e.j41(65,"span",71),e.EFF(66,"(opcional)"),e.k0s()(),e.j41(67,"input",75),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.combustible,o)||(t.combustible=o),e.Njj(o)}),e.k0s()(),e.j41(68,"div",59)(69,"label"),e.EFF(70,"Frenos: "),e.j41(71,"span",71),e.EFF(72,"(opcional)"),e.k0s()(),e.j41(73,"input",76),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.frenos,o)||(t.frenos=o),e.Njj(o)}),e.k0s()(),e.j41(74,"div",59)(75,"label"),e.EFF(76,"Suspensi\xf3n: "),e.j41(77,"span",71),e.EFF(78,"(opcional)"),e.k0s()(),e.j41(79,"input",77),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.suspension,o)||(t.suspension=o),e.Njj(o)}),e.k0s()()()()}if(2&a){const i=e.XpG();e.R7$(2),e.Y8G("ngIf","particular"==i.tipoSeleccionado),e.R7$(),e.Y8G("ngIf","lote"===i.tipoSeleccionado),e.R7$(5),e.AVh("activo",i.imagenesValidas)("inactivo",!i.imagenesValidas),e.R7$(3),e.Y8G("ngIf",i.imagenesIntentadas),e.R7$(7),e.R50("ngModel",i.precio),e.R7$(),e.Y8G("ngIf","nuevo"!==i.estadoVehiculo_logico),e.R7$(),e.Y8G("ngIf","nuevo"!==i.estadoVehiculo_logico),e.R7$(6),e.R50("ngModel",i.colorSeleccionadoUnico),e.R7$(3),e.Y8G("ngForOf",i.opciones),e.R7$(4),e.R50("ngModel",i.moneda),e.R7$(10),e.R50("ngModel",i.descripcion),e.R7$(6),e.R50("ngModel",i.tipoMotor),e.R7$(6),e.R50("ngModel",i.cilindrada),e.R7$(6),e.R50("ngModel",i.transmision),e.R7$(6),e.R50("ngModel",i.combustible),e.R7$(6),e.R50("ngModel",i.frenos),e.R7$(6),e.R50("ngModel",i.suspension)}}let y=(()=>{var a;class r{constructor(n,o,t,c,s,d,m){this.fb=n,this.generalService=o,this.modalController=t,this.router=c,this.registroService=s,this.motosService=d,this.ContactosService=m,this.estadoVehiculo="",this.estadoVehiculo_logico="",this.versiones=[],this.versionesDisponibles=!1,this.esUsadoAntiguo=!1,this.ubicacionSeleccionada=null,this.direccionCompleta="Obteniendo ubicaci\xf3n...",this.imagenesIntentadas=!1,this.mostrar_spinnet=!1,this.colorSeleccionadoUnico="",this.lotes=[],this.listaAnios=[],this.totalLotes=0,this.precio=0,this.placas="",this.kilometraje=null,this.descripcion="",this.moneda="MXN",this.tipoMotor="",this.cilindrada="",this.transmision="",this.combustible="",this.frenos="",this.suspension="",this.Pregunta=null,this.tipoSeleccionado="particular",this.ubicacionesLoteLegibles=[],this.loteSeleccionado=null,this.direccionSeleccionada=null,this.ubicacionesLoteSeleccionado=[],this.seccionFormulario=1,this.nombreMoto="",this.anioMoto=null,this.precioEstimado=null,this.tipoFactura="",this.MyRole=null,this.opciones=[{label:"Blanco"},{label:"Negro"},{label:"Gris"},{label:"Plateado"},{label:"Rojo"},{label:"Azul"},{label:"Azul marino"},{label:"Azul cielo"},{label:"Verde"},{label:"Verde oscuro"},{label:"Color militar"},{label:"Beige"},{label:"Caf\xe9"},{label:"Amarillo"},{label:"Naranja"},{label:"Morado"},{label:"Vino"},{label:"Oro"},{label:"Bronce"},{label:"Turquesa"},{label:"Gris Oxford"},{label:"Arena"},{label:"Grafito"},{label:"Champagne"},{label:"Titanio"},{label:"Cobre"},{label:"Camale\xf3n"},{label:"Perlado"},{label:"Mate"},{label:"Negro obsidiana"},{label:"Blanco perla"},{label:"Rojo cereza"},{label:"Azul el\xe9ctrico"},{label:"Gris plomo"}],this.imagenesValidas=!1,this.imagenPrincipal=null,this.imagenesSecundarias=[]}ngOnInit(){this.generalService.tipoRol$.subscribe(n=>{"admin"===n||"lotero"===n||"vendedor"===n||"cliente"===n?(this.MyRole=n,"lotero"===this.MyRole?(this.Pregunta="si",this.seccionFormulario=2,this.tipoSeleccionado="lote",this.getLotes("mios")):"admin"===this.MyRole?(this.Pregunta="si",this.seccionFormulario=2,this.tipoSeleccionado=null):(this.Pregunta="no",this.tipoSeleccionado="particular"),this.definirEstadoVehiculo()):(this.generalService.eliminarToken(),this.generalService.alert("\xa1Saliste de tu sesi\xf3n Error - 707!","\xa1Hasta pronto!","info"))})}onTipoChange(n){var o;const t=null===(o=n.detail)||void 0===o?void 0:o.value;this.estadoVehiculo=t,"Nuevo"===t?(this.estadoVehiculo_logico="nuevo",this.kilometraje=0,this.placas=""):"Seminuevo"===t?this.estadoVehiculo_logico="seminuevo":"Usado"===t&&(this.anio<2008&&this.anio>=1800||(this.estadoVehiculo_logico="usado"))}definirEstadoVehiculo(){const n=(new Date).getFullYear();this.anio===n&&"admin"==this.MyRole?(this.estadoVehiculo="Nuevo",this.estadoVehiculo_logico="nuevo"):this.anio===n&&"admin"!=this.MyRole||this.anio>=n-4?(this.estadoVehiculo="Seminuevo",this.estadoVehiculo_logico="seminuevo"):this.anio<2008&&this.anio>=1800?(this.estadoVehiculo="Usado",this.estadoVehiculo_logico="viejito"):(this.estadoVehiculo="Usado",this.estadoVehiculo_logico="usado"),"nuevo"===this.estadoVehiculo_logico&&(this.kilometraje=0,this.placas="")}seleccionarTipo(n){this.tipoSeleccionado=n}continuar(){this.tipoSeleccionado&&("lote"==this.tipoSeleccionado&&this.getLotes("mios"),this.Pregunta="no")}getLotes(n){var t,o=this;this.registroService.allLotes(n).subscribe({next:(t=(0,u.A)(function*(c){if(o.lotes=c.lotes,o.totalLotes=o.lotes.length,1===o.lotes.length){const s=o.lotes[0];o.loteSeleccionado=s._id,o.ubicacionesLoteSeleccionado=s.direccion,o.leerLatLng()}}),function(s){return t.apply(this,arguments)}),error:function(){var t=(0,u.A)(function*(){yield o.generalService.loadingDismiss(),yield o.generalService.alert("Verifica tu red","Error de red. Intenta m\xe1s tarde.","danger")});return function(){return t.apply(this,arguments)}}()})}onLoteSeleccionado(){const n=this.lotes.find(o=>o._id===this.loteSeleccionado);this.ubicacionesLoteSeleccionado=(null==n?void 0:n.direccion)||[],this.leerLatLng()}leerLatLng(){if(1===this.ubicacionesLoteSeleccionado.length)this.direccionSeleccionada=this.ubicacionesLoteSeleccionado[0],this.generalService.obtenerDireccionDesdeCoordenadas(this.direccionSeleccionada.lat,this.direccionSeleccionada.lng).then(n=>this.direccionCompleta=n).catch(n=>this.direccionCompleta="No se pudo obtener la direcci\xf3n.");else{this.direccionSeleccionada=null,this.ubicacionesLoteLegibles=[];const n=this.ubicacionesLoteSeleccionado.map(o=>this.generalService.obtenerDireccionDesdeCoordenadas(o.lat,o.lng));Promise.all(n).then(o=>this.ubicacionesLoteLegibles=o).catch(o=>{this.ubicacionesLoteLegibles=this.ubicacionesLoteSeleccionado.map(()=>"No disponible")})}}seleccionarUbicacion(){var n=this;return(0,u.A)(function*(){const o=yield n.modalController.create({component:O.D});yield o.present();const{data:t}=yield o.onDidDismiss();t&&(n.ubicacionSeleccionada=t,n.ubicacionSeleccionada&&n.generalService.obtenerDireccionDesdeCoordenadas(n.ubicacionSeleccionada[2],n.ubicacionSeleccionada[3]).then(c=>n.direccionCompleta=c).catch(()=>n.direccionCompleta="No se pudo obtener la direcci\xf3n."))})()}seleccionarImagenes(){var n=this;return(0,u.A)(function*(){const o=yield n.modalController.create({component:F.i,backdropDismiss:!1,componentProps:{estadoVehiculo:n.estadoVehiculo}});yield o.present();const{data:t}=yield o.onDidDismiss();if(t){if(n.imagenesIntentadas=!0,n.imagenPrincipal=t.imagenPrincipal,n.imagenesSecundarias=t.imagenesSecundarias,"Nuevo"===n.estadoVehiculo){if(!n.imagenPrincipal)return n.generalService.alert("Falta imagen principal","Selecciona una imagen principal para continuar.","warning"),void(n.imagenesValidas=!1);n.imagenesValidas=!0}if("Seminuevo"===n.estadoVehiculo||"Usado"===n.estadoVehiculo){if(!n.imagenPrincipal)return n.generalService.alert("Falta imagen principal","Selecciona una imagen principal para continuar.","warning"),void(n.imagenesValidas=!1);if(n.imagenesSecundarias.length<2)return n.generalService.alert("Im\xe1genes insuficientes","Debes seleccionar al menos 2 im\xe1genes secundarias.","warning"),void(n.imagenesValidas=!1);n.imagenesValidas=!0}}else n.imagenesValidas=!1})()}limpiarImagenes(){this.generalService.confirmarAccion("\xbfEst\xe1s seguro de que deseas eliminar las im\xe1genes seleccionadas?","Eliminar im\xe1genes",()=>{this.imagenPrincipal=null,this.imagenesSecundarias=[],this.imagenesValidas=!1,this.imagenesIntentadas=!1})}EnviarVeiculo(){var n=this;return(0,u.A)(function*(){let o=!1,t=!1;o=yield n.validacionesAntesdeEnviarMoto(),o&&(t=yield n.prepararFormularioParaEnvioMoto()),o&&t&&n.generalService.confirmarAccion("\xbfEst\xe1s seguro de que deseas enviar esta informaci\xf3n?","Confirmar env\xedo",(0,u.A)(function*(){yield n.enviarDatos(t)}),"Al continuar, confirmas que los datos proporcionados sobre tu veh\xedculo son correctos y ser\xe1n publicados.")})()}enviarDatos(n){var o=this;return(0,u.A)(function*(){o.generalService.loading("Guardando moto..."),o.motosService.guardarMoto(n).subscribe({next:t=>{if(o.generalService.loadingDismiss(),t.token&&t.rol){const c=JSON.parse(localStorage.getItem("user")||"{}");c.rol=t.rol,localStorage.setItem("user",JSON.stringify(c)),localStorage.setItem("token",t.token)}o.router.navigate(["/mis-motos"]),o.generalService.alert("\xa1Moto agregada correctamente!","La motocicleta fue agregada correctamente.","success")},error:()=>{o.generalService.loadingDismiss(),o.generalService.alert("\xa1Algo sali\xf3 mal!","Ocurri\xf3 un error inesperado. Por favor, intenta nuevamente.","danger")},complete:()=>o.generalService.loadingDismiss()})})()}validarUbicacion(){const o="lote"===this.tipoSeleccionado;if("particular"===this.tipoSeleccionado)return!(!this.ubicacionSeleccionada||4!==this.ubicacionSeleccionada.length||"number"!=typeof this.ubicacionSeleccionada[2]||"number"!=typeof this.ubicacionSeleccionada[3])||(this.generalService.alert("Ubicaci\xf3n requerida","Selecciona la ubicaci\xf3n del veh\xedculo en el mapa.","warning"),!1);if(o){const t=this.lotes.find(c=>c._id===this.loteSeleccionado);return t?!(t.direccion.length>1&&!this.direccionSeleccionada&&(this.generalService.alert("Ubicaci\xf3n del lote requerida","Selecciona una ubicaci\xf3n espec\xedfica del lote.","warning"),1)):(this.generalService.alert("Lote requerido","Selecciona un lote v\xe1lido.","warning"),!1)}return!1}validacionesAntesdeEnviarMoto(){var n=this;return(0,u.A)(function*(){var o,t,c,s;if(!n.validarUbicacion())return!1;if(n.precio<5e3||n.precio>5e6)return n.generalService.alert("Precio inv\xe1lido","El precio debe estar entre 5000 y 5,000,000.","warning"),!1;if("nuevo"!==n.estadoVehiculo_logico&&n.placas&&""!==n.placas.trim()){const f=n.placas.trim().length,C=/^[A-Za-z0-9-]+$/.test(n.placas);if(f<6||f>12||!C)return n.generalService.alert("Placas inv\xe1lidas","Las placas deben tener entre 6 y 12 caracteres y solo pueden incluir letras, n\xfameros y guiones.","warning"),!1}if("nuevo"!==n.estadoVehiculo_logico){if(!(null!==n.kilometraje&&Number.isInteger(n.kilometraje)&&n.kilometraje>=0))return n.generalService.alert("Kilometraje inv\xe1lido","El kilometraje debe ser un n\xfamero entero positivo.","warning"),!1;if(null!==n.kilometraje&&n.kilometraje>18e4)return n.generalService.alert("Kilometraje elevado","Este veh\xedculo tiene m\xe1s de 180,000 km.","info"),!1}else n.kilometraje=0;if(!n.colorSeleccionadoUnico||""===n.colorSeleccionadoUnico.trim())return n.generalService.alert("Color requerido","Selecciona un color.","warning"),!1;if(!n.descripcion||0===n.descripcion.trim().length)return n.generalService.alert("Descripci\xf3n requerida","Escribe una breve descripci\xf3n.","warning"),!1;if(n.descripcion.trim().length>100)return n.generalService.alert("Descripci\xf3n demasiado larga","M\xe1ximo 100 caracteres.","warning"),!1;if(!n.imagenPrincipal)return n.generalService.alert("Falta imagen principal","Selecciona una imagen principal.","warning"),!1;if("Nuevo"!==n.estadoVehiculo){if(!Array.isArray(n.imagenesSecundarias)||n.imagenesSecundarias.length<2)return n.generalService.alert("Im\xe1genes secundarias insuficientes","Debes seleccionar al menos 2 im\xe1genes secundarias.","warning"),!1;if(n.imagenesSecundarias.length>10)return n.generalService.alert("Demasiadas im\xe1genes","M\xe1ximo 10 im\xe1genes secundarias.","warning"),!1}if(!n.cilindrada||0===n.cilindrada.trim().length)return n.generalService.alert("Cilindrada requerida","Ingresa la cilindrada (ej. 150cc).","warning"),!1;const d=n.cilindrada.trim();if(d.length>25)return n.generalService.alert("Cilindrada demasiado larga","M\xe1ximo 25 caracteres.","warning"),!1;if(!/^\d{1,4}\s?cc$/i.test(d))return n.generalService.alert("Cilindrada inv\xe1lida","Formato correcto: 1000cc.","warning"),!1;if(n.cilindrada=d.replace(/\s+/g,"").toLowerCase(),!n.transmision||0===n.transmision.trim().length)return n.generalService.alert("Transmisi\xf3n requerida","Indica la transmisi\xf3n (Manual, Autom\xe1tica, CVT).","warning"),!1;const p=n.transmision.trim();return p.length>25?(n.generalService.alert("Transmisi\xf3n demasiado larga","M\xe1ximo 25 caracteres.","warning"),!1):(n.transmision=p.replace(/\s+/g," "),!((null===(o=n.tipoMotor)||void 0===o?void 0:o.trim().length)>25||(null===(t=n.combustible)||void 0===t?void 0:t.trim().length)>25||(null===(c=n.frenos)||void 0===c?void 0:c.trim().length)>25||(null===(s=n.suspension)||void 0===s?void 0:s.trim().length)>25)||(n.generalService.alert("Campo demasiado largo","M\xe1ximo 25 caracteres en los opcionales.","warning"),!1))})()}prepararFormularioParaEnvioMoto(){var n=this;return(0,u.A)(function*(){var o,t;const c=new FormData;c.append("anio",n.anio.toString()),c.append("marca",n.marca),c.append("modelo",n.modelo),c.append("moneda",n.moneda),c.append("descripcion",n.descripcion||""),"nuevo"!==n.estadoVehiculo_logico&&null!==(o=n.placas)&&void 0!==o&&o.trim()&&c.append("placas",n.placas.toUpperCase());const s="nuevo"===n.estadoVehiculo_logico?0:null!==(t=n.kilometraje)&&void 0!==t?t:0;c.append("kilometraje",s.toString()),n.colorSeleccionadoUnico&&c.append("color[]",n.colorSeleccionadoUnico),c.append("tipoVenta",n.estadoVehiculo),c.append("tipoMotor",n.tipoMotor),c.append("cilindrada",n.cilindrada),c.append("transmision",n.transmision),c.append("combustible",n.combustible),c.append("frenos",n.frenos),c.append("suspension",n.suspension),c.append("precio",n.precio.toString());let d=null;if("particular"===n.tipoSeleccionado&&n.ubicacionSeleccionada&&(d={ciudad:n.ubicacionSeleccionada[0],estado:n.ubicacionSeleccionada[1],lat:n.ubicacionSeleccionada[2],lng:n.ubicacionSeleccionada[3]}),"lote"===n.tipoSeleccionado){const m=n.lotes.find(f=>f._id===n.loteSeleccionado),p=(null==m?void 0:m.direccion.length)>1?n.direccionSeleccionada:null==m?void 0:m.direccion[0];p&&(d={ciudad:p.ciudad,estado:p.estado,lat:p.lat,lng:p.lng},c.append("lote",m._id))}if(d&&c.append("ubicacion",JSON.stringify(d)),n.imagenPrincipal&&(c.append("imagenPrincipal",n.imagenPrincipal),c.append("imagenes",n.imagenPrincipal)),n.imagenesSecundarias.length>0)for(const m of n.imagenesSecundarias)c.append("imagenes",m);return c})()}quienLovende(n){0==n?this.seccionFormulario=2:1==n&&(this.seccionFormulario=3,this.generarListaAnios())}generarListaAnios(){for(let o=(new Date).getFullYear();o>=1900;o--)this.listaAnios.push(o)}}return(a=r).\u0275fac=function(n){return new(n||a)(e.rXU(_.ok),e.rXU(v.O),e.rXU(l.W3),e.rXU(x.Ix),e.rXU(E.f),e.rXU(P.A),e.rXU(R.q))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-motos"]],inputs:{anio:"anio",marca:"marca",modelo:"modelo",tipo:"tipo"},decls:6,vars:5,consts:[["lista",""],["class","resumen-estado",4,"ngIf"],["class","tipo-vehiculo-container",4,"ngIf"],["class","pregunta-vendedor",4,"ngIf"],["class","formulario-publicacion",4,"ngIf"],["class","formulario",4,"ngIf"],[1,"resumen-estado"],[1,"fila-info-inline"],["class","estilo_unico",4,"ngIf"],["class","field",4,"ngIf"],["type","button",1,"btn-guardar",3,"click"],["name","save-outline",1,"icono-guardar"],[1,"estilo_unico"],[1,"field"],[1,"control","control--select"],["interface","popover","placeholder","Tipo",1,"sync-pop",3,"ionChange","interfaceOptions","value"],["value","Nuevo"],["value","Seminuevo"],["value","Usado"],[1,"tipo-vehiculo-container"],[1,"titulo-tipo"],[1,"opciones-vehiculo"],[1,"casilla",3,"click"],["src","assets/img/particular.png","alt","Particular"],["name","checkmark-circle-outline","class","icono-check",4,"ngIf"],["src","assets/img/lote.png","alt","Lote"],[1,"contenedor-boton"],[1,"btn-continuar",3,"click","disabled"],["name","arrow-forward-outline"],["name","checkmark-circle-outline",1,"icono-check"],[1,"pregunta-vendedor"],[1,"texto-pregunta"],[1,"botones-vendedor"],[1,"btn-vender-yo",3,"click"],[1,"btn-vende-go",3,"click"],["src","assets/icon/logo4.png","alt","Go Autos",1,"logo-boton"],[1,"formulario-publicacion"],[1,"info-texto"],[1,"info-grid"],["position","stacked"],["type","number","placeholder","Solo n\xfameros",3,"ngModelChange","ngModel"],["placeholder","Selecciona una opci\xf3n",3,"ngModelChange","ngModel"],["value","original"],["value","refacturada"],["value","sin factura"],[1,"btn-wsp-container"],[1,"btn-wsp",3,"click"],["name","logo-whatsapp","slot","start"],[1,"formulario"],[1,"contenedor-botones"],["class","bloque-imagenes",4,"ngIf"],[1,"bloque-imagenes"],["type","button",1,"btn-imagenes",3,"click"],["name","image-outline"],[1,"radio-validacion"],[1,"radio-custom"],["name","checkmark-outline"],["class","btn-limpiar","type","button",3,"click",4,"ngIf"],[1,"grid-form"],[1,"campo"],[1,"requerido"],["type","number","min","0","placeholder","Precio del veh\xedculo",3,"ngModelChange","ngModel"],["class","campo",4,"ngIf"],["name","color","required","",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["name","moneda",3,"ngModelChange","ngModel"],["value","MXN"],["value","USD"],[1,"campo","campo-descripcion"],["rows","4","placeholder","Ej. Moto en excelente estado, \xfanico due\xf1o...","required","",3,"ngModelChange","ngModel"],[1,"opcional_css"],["type","text","name","tipoMotor","placeholder","Ej. 4 tiempos, el\xe9ctrico...",3,"ngModelChange","ngModel"],["type","text","placeholder","Ej. 150cc","required","",3,"ngModelChange","ngModel"],["type","text","required","","name","transmision","placeholder","Ej. manual, CVT, etc.",3,"ngModelChange","ngModel"],["type","text","name","combustible","placeholder","Ej. gasolina, el\xe9ctrico...",3,"ngModelChange","ngModel"],["type","text","name","frenos","placeholder","Ej. disco, tambor, ABS...",3,"ngModelChange","ngModel"],["type","text","placeholder","Ej. telesc\xf3pica, mono-shock",3,"ngModelChange","ngModel"],["type","button",3,"click"],["name","location-outline",1,"icono"],["class","ubicacion-mostrada",4,"ngIf"],[1,"ubicacion-mostrada"],["name","location-outline"],["for","loteSelect"],["id","loteSelect",1,"select-lote",3,"ngModelChange","change","ngModel"],["disabled","","selected","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["class","bloque-direcciones",4,"ngIf"],[3,"ngValue"],[1,"bloque-direcciones"],["for","direccionSelect"],["id","direccionSelect",1,"select-lote",3,"ngModelChange","ngModel"],["type","button",1,"btn-limpiar",3,"click"],["name","trash-outline"],["type","text","placeholder","Ej. UVY-123-A",3,"ngModelChange","ngModel"],["type","number","min","0","placeholder","Ej. 45000","required","",3,"ngModelChange","ngModel"],[3,"value"]],template:function(n,o){1&n&&(e.j41(0,"section"),e.DNE(1,Re,19,5,"div",1)(2,ye,18,7,"div",2)(3,Ie,9,0,"div",3)(4,Ge,41,6,"div",4)(5,He,80,20,"div",5),e.k0s()),2&n&&(e.R7$(),e.Y8G("ngIf",2==o.seccionFormulario&&"no"==o.Pregunta),e.R7$(),e.Y8G("ngIf","si"==o.Pregunta),e.R7$(),e.Y8G("ngIf","particular"==o.tipoSeleccionado&&"admin"!==o.MyRole&&1==o.seccionFormulario),e.R7$(),e.Y8G("ngIf","particular"===o.tipoSeleccionado&&3===o.seccionFormulario&&("cliente"===o.MyRole||"vendedor"===o.MyRole)),e.R7$(),e.Y8G("ngIf","no"==o.Pregunta&&2==o.seccionFormulario))},dependencies:[l.bv,l.iq,l.$w,l.uz,l.he,l.Nm,l.Ip,l.su,l.Je,g.MD,g.Sq,g.bT,_.YN,_.xH,_.y7,_.me,_.Q0,_.wz,_.BC,_.YS,_.VZ,_.vS,_.X1],styles:['@charset "UTF-8";section[_ngcontent-%COMP%]{margin-top:14px;font-family:-apple-system,system-ui,BlinkMacSystemFont,SF Pro Text,Helvetica Neue,Arial,sans-serif}.resumen-estado[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:10px;padding:10px 14px;margin:0 4px 8px;background:#fff;border-radius:16px;border:1px solid rgba(60,60,67,.15);box-shadow:0 10px 24px #0f172a29,0 0 0 .5px #fffc}.fila-info-inline[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:16px}.fila-info-inline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#3c3c43;white-space:nowrap}@media (max-width: 768px){.fila-info-inline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.fila-info-inline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;margin-left:4px;color:#111827}.estilo_unico[_ngcontent-%COMP%]{font-size:13px;padding:6px 10px;border-radius:999px;border:1px solid #ff3b30;background:#ff3b300f;color:#ff3b30}.btn-guardar[_ngcontent-%COMP%]{border:none;outline:none;background:linear-gradient(135deg,#ff3b30,#ff453a);color:#fff;border-radius:999px;padding:8px 16px;font-size:13px;font-weight:600;display:inline-flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 10px 20px #ff453a66;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.btn-guardar[_ngcontent-%COMP%]   ion-icon.icono-guardar[_ngcontent-%COMP%]{font-size:18px}.btn-guardar[_ngcontent-%COMP%]:hover{transform:translateY(-1px);filter:brightness(1.02);box-shadow:0 12px 26px #ff453a80}.btn-guardar[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 7px 18px #ff453a4d}.tipo-vehiculo-container[_ngcontent-%COMP%]{text-align:center;margin:20px auto 10px;padding:16px 12px 18px;max-width:540px;background:#fff;border-radius:18px;border:1px solid rgba(60,60,67,.12);box-shadow:0 12px 24px #0f172a2e,0 0 0 .5px #ffffffe6}.tipo-vehiculo-container[_ngcontent-%COMP%]   .titulo-tipo[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin:0 0 12px;color:#111827}.tipo-vehiculo-container[_ngcontent-%COMP%]   .opciones-vehiculo[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:14px;flex-wrap:wrap}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]{width:132px;height:132px;border-radius:18px;background-color:#f2f2f7;border:1px solid transparent;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;cursor:pointer;transition:background .18s ease,border-color .18s ease,box-shadow .18s ease,transform .12s ease}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;margin-bottom:8px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:13px;color:#111827;padding:0 8px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   .icono-check[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;color:#ff3b30;font-size:18px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla.activa[_ngcontent-%COMP%]{background-color:#fff;border-color:#ff3b30;box-shadow:0 10px 22px #ff453a47;transform:translateY(-1px)}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]:hover{background-color:#fff}.tipo-vehiculo-container[_ngcontent-%COMP%]   .contenedor-boton[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:18px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]{border:none;border-radius:999px;padding:10px 24px;background:linear-gradient(135deg,#ff3b30,#ff453a);color:#fff;font-weight:600;font-size:15px;display:inline-flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 10px 22px #ff453a66;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);filter:brightness(1.02);box-shadow:0 12px 26px #ff453a80}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#ffb3b8,#ffc2c0);box-shadow:none;cursor:not-allowed}.pregunta-vendedor[_ngcontent-%COMP%]{margin:18px auto;padding:18px 16px;max-width:580px;background:#fff;border-radius:18px;border:1px solid rgba(60,60,67,.12);box-shadow:0 12px 24px #0f172a29,0 0 0 .5px #ffffffe6}.pregunta-vendedor[_ngcontent-%COMP%]   .texto-pregunta[_ngcontent-%COMP%]{font-size:17px;font-weight:600;margin:0 0 16px;color:#111827}.pregunta-vendedor[_ngcontent-%COMP%]   .botones-vendedor[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:12px}.pregunta-vendedor[_ngcontent-%COMP%]   .btn-vender-yo[_ngcontent-%COMP%], .pregunta-vendedor[_ngcontent-%COMP%]   .btn-vende-go[_ngcontent-%COMP%]{padding:10px 18px;font-size:14px;font-weight:600;border-radius:999px;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:8px;box-shadow:0 8px 18px #0f172a2e;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.pregunta-vendedor[_ngcontent-%COMP%]   .btn-vender-yo[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0a84ff,#4dabff);color:#fff}.pregunta-vendedor[_ngcontent-%COMP%]   .btn-vende-go[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff3b30,#ff453a);color:#fff}.pregunta-vendedor[_ngcontent-%COMP%]   .btn-vender-yo[_ngcontent-%COMP%]:hover, .pregunta-vendedor[_ngcontent-%COMP%]   .btn-vende-go[_ngcontent-%COMP%]:hover{transform:translateY(-1px);filter:brightness(1.03)}.pregunta-vendedor[_ngcontent-%COMP%]   .logo-boton[_ngcontent-%COMP%]{height:18px}.formulario-publicacion[_ngcontent-%COMP%]{margin-top:18px;padding:16px 14px 18px;border-radius:18px;background:#f2f2f7;border:1px solid rgba(60,60,67,.1)}.formulario-publicacion[_ngcontent-%COMP%]   .info-texto[_ngcontent-%COMP%]{font-size:14px;color:#1c1c1e;margin-bottom:10px}.formulario-publicacion[_ngcontent-%COMP%]   .info-texto[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#111827}.formulario-publicacion[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:12px}.formulario-publicacion[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px}.formulario-publicacion[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-left:4px;font-weight:600}.formulario-publicacion[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .estilo_unico[_ngcontent-%COMP%]{margin-left:auto}.formulario-publicacion[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #ffffff;--inner-border-width: 0;--padding-start: 0;--padding-end: 0;--highlight-color-focused: #ff3b30;border-radius:12px;margin-bottom:10px;box-shadow:0 1px 4px #0f172a1f}.formulario-publicacion[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .formulario-publicacion[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 8px;--background: transparent;font-size:14px}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp-container[_ngcontent-%COMP%]{text-align:center;margin-top:16px}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp[_ngcontent-%COMP%]{border:none;border-radius:999px;padding:10px 22px;background:#25d366;color:#fff;font-weight:600;font-size:14px;display:inline-flex;align-items:center;gap:8px;cursor:pointer;box-shadow:0 12px 22px #25d36673;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp[_ngcontent-%COMP%]:hover{transform:translateY(-1px);filter:brightness(1.02)}.formulario[_ngcontent-%COMP%]{margin-top:18px;padding:14px 12px 18px;border-radius:18px;background:#f2f2f7;border:1px solid rgba(60,60,67,.12)}.contenedor-botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;align-items:stretch;margin-bottom:10px}.contenedor-botones[_ngcontent-%COMP%]   .bloque-imagenes[_ngcontent-%COMP%]{flex:1 1 260px;display:flex;flex-direction:column;gap:8px}.contenedor-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:999px;border:1px solid rgba(60,60,67,.18);background:#fff;padding:8px 14px;font-size:13px;font-weight:600;display:inline-flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 4px 10px #0f172a1f;transition:background .14s ease,box-shadow .16s ease,transform .12s ease}.contenedor-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.contenedor-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f8f9fb;transform:translateY(-1px)}.contenedor-botones[_ngcontent-%COMP%]   .select-lote[_ngcontent-%COMP%]{margin-top:6px;border-radius:12px;border:1px solid rgba(60,60,67,.18);padding:8px 12px;font-size:13px;background:#fff;outline:none;-webkit-appearance:none}.contenedor-botones[_ngcontent-%COMP%]   .select-lote[_ngcontent-%COMP%]:focus{border-color:#ff3b30;box-shadow:0 0 0 2px #ff3b302e}.contenedor-botones[_ngcontent-%COMP%]   .ubicacion-mostrada[_ngcontent-%COMP%]{margin-top:6px;padding:8px 10px;border-radius:12px;background:#fff;border-left:3px solid #ff3b30;font-size:12px;color:#3c3c43;display:flex;align-items:flex-start;gap:6px}.contenedor-botones[_ngcontent-%COMP%]   .ubicacion-mostrada[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#ff3b30;margin-top:2px}.contenedor-botones[_ngcontent-%COMP%]   .btn-imagenes[_ngcontent-%COMP%]{position:relative}.contenedor-botones[_ngcontent-%COMP%]   .btn-limpiar[_ngcontent-%COMP%]{background:#fff5f4;border-color:#ff3b3059;color:#b91c1c;font-size:11px}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion[_ngcontent-%COMP%]{margin-left:auto;display:inline-flex;align-items:center;gap:4px}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion[_ngcontent-%COMP%]   .radio-custom[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;border:1px solid rgba(60,60,67,.35)}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion.activo[_ngcontent-%COMP%]   .radio-custom[_ngcontent-%COMP%]{background:#34c759;border-color:#34c759}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion.activo[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#34c759}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion.inactivo[_ngcontent-%COMP%]{opacity:.35}.grid-form[_ngcontent-%COMP%]{margin-top:8px;background:#fff;border-radius:16px;padding:12px;box-shadow:0 8px 20px #0f172a1f;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px}@media (max-width: 900px){.grid-form[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (max-width: 640px){.grid-form[_ngcontent-%COMP%]{grid-template-columns:1fr}}.campo[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.campo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#3c3c43}.campo[_ngcontent-%COMP%]   .requerido[_ngcontent-%COMP%]{color:#ff3b30}.campo[_ngcontent-%COMP%]   .opcional_css[_ngcontent-%COMP%]{font-size:10px;color:#8e8e93}.campo-descripcion[_ngcontent-%COMP%]{grid-column:1/-1}.campo[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .campo[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .campo[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border-radius:12px;border:1px solid rgba(60,60,67,.18);background:#f2f2f7;padding:8px 10px;font-size:13px;color:#111827;outline:none;-webkit-appearance:none}.campo[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .campo[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus, .campo[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#ff3b30;box-shadow:0 0 0 2px #ff3b302e;background:#fff}.campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}']}),r})();var qe=h(3104);function Je(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",5)(1,"button",6),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.publicar())}),e.nrm(2,"ion-icon",7),e.EFF(3," Publicar "),e.k0s(),e.j41(4,"div",8)(5,"p"),e.EFF(6,"Marca: "),e.j41(7,"strong"),e.EFF(8),e.k0s()(),e.j41(9,"p"),e.EFF(10,"Modelo: "),e.j41(11,"strong"),e.EFF(12),e.k0s()()()()}if(2&a){const i=e.XpG();e.R7$(8),e.JRh(i.marca),e.R7$(4),e.JRh(i.modelo)}}function Ke(a,r){1&a&&e.nrm(0,"ion-icon",19)}function We(a,r){1&a&&e.nrm(0,"ion-icon",19)}function Qe(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",9)(1,"h2",10),e.EFF(2,"\xbfQu\xe9 tipo de veh\xedculo quieres subir?"),e.k0s(),e.j41(3,"div",11)(4,"div",12),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.seleccionarTipo("particular"))}),e.nrm(5,"img",13),e.j41(6,"p"),e.EFF(7,"Particular"),e.k0s(),e.DNE(8,Ke,1,0,"ion-icon",14),e.k0s(),e.j41(9,"div",12),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.seleccionarTipo("lote"))}),e.nrm(10,"img",15),e.j41(11,"p"),e.EFF(12,"Agencia/Lote"),e.k0s(),e.DNE(13,We,1,0,"ion-icon",14),e.k0s()(),e.j41(14,"div",16)(15,"button",17),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.continuar())}),e.EFF(16," Continuar "),e.nrm(17,"ion-icon",18),e.k0s()()()}if(2&a){const i=e.XpG();e.R7$(4),e.AVh("activa","particular"===i.tipoSeleccionado),e.R7$(4),e.Y8G("ngIf","particular"===i.tipoSeleccionado),e.R7$(),e.AVh("activa","lote"===i.tipoSeleccionado),e.R7$(4),e.Y8G("ngIf","lote"===i.tipoSeleccionado),e.R7$(2),e.Y8G("disabled",!i.tipoSeleccionado)}}function Ze(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-item",69),e.nrm(1,"ion-icon",65),e.j41(2,"ion-label")(3,"p"),e.EFF(4),e.k0s()(),e.j41(5,"ion-button",70),e.bIt("click",function(){const o=e.eBV(i).index,t=e.XpG(4);return e.Njj(t.eliminarUbicacion(o))}),e.nrm(6,"ion-icon",71),e.k0s()()}if(2&a){const i=r.$implicit;e.R7$(4),e.JRh(i.direccionCompleta)}}function en(a,r){if(1&a&&(e.j41(0,"div",67)(1,"ion-list"),e.DNE(2,Ze,7,1,"ion-item",68),e.k0s()()),2&a){const i=e.XpG(3);e.R7$(2),e.Y8G("ngForOf",i.ubicacionesSeleccionadas)}}function nn(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",22)(1,"ion-button",64),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.seleccionarUbicacion())}),e.nrm(2,"ion-icon",65),e.EFF(3," Seleccionar ubicaci\xf3n "),e.k0s(),e.DNE(4,en,3,1,"div",66),e.k0s()}if(2&a){const i=e.XpG(2);e.R7$(4),e.Y8G("ngIf",i.ubicacionesSeleccionadas&&i.ubicacionesSeleccionadas.length>0)}}function on(a,r){if(1&a&&(e.j41(0,"ion-select-option",74),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i._id),e.R7$(),e.SpI(" ",i.nombre," ")}}function tn(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-item",79)(1,"ion-checkbox",80),e.bIt("ionChange",function(o){const t=e.eBV(i).$implicit,c=e.XpG(4);return e.Njj(c.toggleUbicacionLote(t,o))}),e.k0s(),e.j41(2,"ion-label")(3,"p"),e.EFF(4),e.k0s()()()}if(2&a){const i=r.$implicit,n=r.index,o=e.XpG(4);e.R7$(),e.Y8G("checked",o.isUbicacionSeleccionada(i)),e.R7$(3),e.JRh(o.ubicacionesLoteLegibles[n]||"Obteniendo direcci\xf3n...")}}function an(a,r){if(1&a&&(e.j41(0,"div",75)(1,"ion-item",76)(2,"ion-label"),e.EFF(3,"Selecciona las ubicaciones:"),e.k0s()(),e.j41(4,"ion-list",77),e.DNE(5,tn,5,2,"ion-item",78),e.k0s()()),2&a){const i=e.XpG(3);e.R7$(5),e.Y8G("ngForOf",i.ubicacionesLoteSeleccionado)}}function cn(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",22)(1,"ion-item")(2,"ion-select",72),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.loteSeleccionado,o)||(t.loteSeleccionado=o),e.Njj(o)}),e.bIt("ionChange",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.onLoteSeleccionado())}),e.DNE(3,on,2,2,"ion-select-option",44),e.k0s()(),e.DNE(4,an,6,1,"div",73),e.k0s()}if(2&a){const i=e.XpG(2);e.R7$(2),e.R50("ngModel",i.loteSeleccionado),e.R7$(),e.Y8G("ngForOf",i.lotes),e.R7$(),e.Y8G("ngIf",i.ubicacionesLoteSeleccionado.length>0)}}function rn(a,r){if(1&a){const i=e.RV6();e.j41(0,"button",81),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.limpiarImagenes())}),e.nrm(1,"ion-icon",82),e.EFF(2," Limpiar im\xe1genes "),e.k0s()}}function sn(a,r){if(1&a&&(e.j41(0,"small",83),e.EFF(1),e.k0s()),2&a){const i=e.XpG(2);e.R7$(),e.JRh(i.tarjetaCirculacion.name)}}function ln(a,r){if(1&a&&(e.j41(0,"option",74),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i),e.R7$(),e.JRh(i)}}function dn(a,r){if(1&a){const i=e.RV6();e.j41(0,"input",84),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.extraOtroTexto,o)||(t.extraOtroTexto=o),e.Njj(o)}),e.bIt("keyup.enter",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.agregarExtra())}),e.k0s()}if(2&a){const i=e.XpG(2);e.R50("ngModel",i.extraOtroTexto)}}function pn(a,r){if(1&a){const i=e.RV6();e.j41(0,"span",87),e.EFF(1),e.j41(2,"button",88),e.bIt("click",function(){const o=e.eBV(i).index,t=e.XpG(3);return e.Njj(t.quitarExtra(o))}),e.EFF(3,"\xd7"),e.k0s()()}if(2&a){const i=r.$implicit;e.R7$(),e.SpI(" ",i," ")}}function gn(a,r){if(1&a&&(e.j41(0,"div",85),e.DNE(1,pn,4,1,"span",86),e.k0s()),2&a){const i=e.XpG(2);e.R7$(),e.Y8G("ngForOf",i.extras)}}function un(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",36)(1,"label"),e.EFF(2,"Costo conductor adicional"),e.k0s(),e.j41(3,"input",55),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.requisitosConductor.costoConductorAdicional,o)||(t.requisitosConductor.costoConductorAdicional=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG(2);e.R7$(3),e.R50("ngModel",i.requisitosConductor.costoConductorAdicional)}}function _n(a,r){if(1&a&&(e.j41(0,"small",62),e.EFF(1),e.k0s()),2&a){const i=e.XpG(3);e.R7$(),e.SpI(" Fijado a ",i.entrega.gratuitoHastaKm," km (igual a \u201cEntrega gratis hasta\u201d). ")}}function mn(a,r){if(1&a&&(e.j41(0,"small",62),e.EFF(1),e.k0s()),2&a){const i=e.XpG().index,n=e.XpG(2);e.R7$(),e.SpI(" Fijado a ",n.entrega.tarifasPorDistancia[i-1].hastaKm||0," km. ")}}function fn(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",89)(1,"div",90)(2,"h5",91),e.EFF(3),e.k0s(),e.j41(4,"button",81),e.bIt("click",function(){const o=e.eBV(i).index,t=e.XpG(2);return e.Njj(t.removeTarifa(o))}),e.nrm(5,"ion-icon",82),e.EFF(6," Quitar "),e.k0s()(),e.j41(7,"div",92)(8,"div",36)(9,"label"),e.EFF(10,"Desde (km)"),e.k0s(),e.j41(11,"input",93),e.mxI("ngModelChange",function(o){const t=e.eBV(i).$implicit;return e.DH7(t.desdeKm,o)||(t.desdeKm=o),e.Njj(o)}),e.k0s(),e.DNE(12,_n,2,1,"small",94)(13,mn,2,1,"small",94),e.k0s(),e.j41(14,"div",36)(15,"label"),e.EFF(16,"Hasta (km)"),e.k0s(),e.j41(17,"input",95),e.mxI("ngModelChange",function(o){const t=e.eBV(i).$implicit;return e.DH7(t.hastaKm,o)||(t.hastaKm=o),e.Njj(o)}),e.bIt("ngModelChange",function(){const o=e.eBV(i).index,t=e.XpG(2);return e.Njj(t.onTarifaHastaChange(o))}),e.k0s()(),e.j41(18,"div",36)(19,"label"),e.EFF(20,"Costo fijo"),e.k0s(),e.j41(21,"input",96),e.mxI("ngModelChange",function(o){const t=e.eBV(i).$implicit;return e.DH7(t.costoFijo,o)||(t.costoFijo=o),e.Njj(o)}),e.k0s()(),e.j41(22,"div",42)(23,"label"),e.EFF(24,"Nota (opcional)"),e.k0s(),e.j41(25,"input",97),e.mxI("ngModelChange",function(o){const t=e.eBV(i).$implicit;return e.DH7(t.nota,o)||(t.nota=o),e.Njj(o)}),e.k0s()()()()}if(2&a){const i=r.$implicit,n=r.index,o=e.XpG(2);e.R7$(3),e.SpI("Tarifa ",n+1,""),e.R7$(8),e.R50("ngModel",i.desdeKm),e.Y8G("readonly",0!==n||+o.entrega.gratuitoHastaKm>0),e.R7$(),e.Y8G("ngIf",0===n&&+o.entrega.gratuitoHastaKm>0),e.R7$(),e.Y8G("ngIf",n>0),e.R7$(4),e.R50("ngModel",i.hastaKm),e.R7$(4),e.R50("ngModel",i.costoFijo),e.R7$(4),e.R50("ngModel",i.nota)}}function hn(a,r){if(1&a){const i=e.RV6();e.j41(0,"section")(1,"div",20),e.DNE(2,nn,5,1,"div",21)(3,cn,5,3,"div",21),e.j41(4,"div",22)(5,"div",23)(6,"button",24),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.seleccionarImagenes())}),e.nrm(7,"ion-icon",25),e.EFF(8," Seleccionar im\xe1genes"),e.j41(9,"span",26),e.EFF(10,"*"),e.k0s()(),e.DNE(11,rn,3,0,"button",27),e.k0s(),e.j41(12,"label",28)(13,"span",29),e.EFF(14,"Tarjeta de circulaci\xf3n (opcional)"),e.k0s(),e.j41(15,"button",30),e.bIt("click",function(){e.eBV(i);const o=e.sdS(19);return e.Njj(o.click())}),e.nrm(16,"ion-icon",31),e.EFF(17," Subir archivo "),e.k0s(),e.j41(18,"input",32,0),e.bIt("change",function(o){e.eBV(i);const t=e.XpG();return e.Njj(t.onFileTC(o))}),e.k0s(),e.DNE(20,sn,2,1,"small",33),e.k0s()()(),e.j41(21,"div",34)(22,"div",35)(23,"div",36)(24,"label"),e.EFF(25,"Tipo de veh\xedculo"),e.j41(26,"span",26),e.EFF(27,"*"),e.k0s()(),e.j41(28,"select",37),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.tipoVehiculoLocal,o)||(t.tipoVehiculoLocal=o),e.Njj(o)}),e.j41(29,"option",38),e.EFF(30,"Seleccione\u2026"),e.k0s(),e.j41(31,"option"),e.EFF(32,"sedan"),e.k0s(),e.j41(33,"option"),e.EFF(34,"suv"),e.k0s(),e.j41(35,"option"),e.EFF(36,"pickup"),e.k0s(),e.j41(37,"option"),e.EFF(38,"van"),e.k0s(),e.j41(39,"option"),e.EFF(40,"hatchback"),e.k0s(),e.j41(41,"option"),e.EFF(42,"otro"),e.k0s()()(),e.j41(43,"div",36)(44,"label"),e.EFF(45,"Transmisi\xf3n "),e.j41(46,"span",26),e.EFF(47,"*"),e.k0s()(),e.j41(48,"select",37),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.transmision,o)||(t.transmision=o),e.Njj(o)}),e.j41(49,"option",38),e.EFF(50,"Seleccione\u2026"),e.k0s(),e.j41(51,"option"),e.EFF(52,"manual"),e.k0s(),e.j41(53,"option"),e.EFF(54,"autom\xe1tica"),e.k0s(),e.j41(55,"option"),e.EFF(56,"CVT"),e.k0s()()(),e.j41(57,"div",36)(58,"label"),e.EFF(59,"Combustible "),e.j41(60,"span",26),e.EFF(61,"*"),e.k0s()(),e.j41(62,"select",37),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.combustible,o)||(t.combustible=o),e.Njj(o)}),e.j41(63,"option",38),e.EFF(64,"Seleccione\u2026"),e.k0s(),e.j41(65,"option"),e.EFF(66,"gasolina"),e.k0s(),e.j41(67,"option"),e.EFF(68,"diesel"),e.k0s(),e.j41(69,"option"),e.EFF(70,"h\xedbrido"),e.k0s(),e.j41(71,"option"),e.EFF(72,"el\xe9ctrico"),e.k0s()()(),e.j41(73,"div",36)(74,"label"),e.EFF(75,"Pasajeros"),e.j41(76,"span",26),e.EFF(77,"*"),e.k0s()(),e.j41(78,"input",39),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.pasajeros,o)||(t.pasajeros=o),e.Njj(o)}),e.k0s()()(),e.j41(79,"div",35)(80,"div",36)(81,"label"),e.EFF(82,"Precio por d\xeda "),e.j41(83,"span",26),e.EFF(84,"*"),e.k0s()(),e.j41(85,"input",40),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.precioPorDia,o)||(t.precioPorDia=o),e.Njj(o)}),e.k0s()()(),e.j41(86,"div",41)(87,"div",42)(88,"label"),e.EFF(89,"Extras opcionales"),e.k0s(),e.j41(90,"div",43)(91,"select",37),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.extraSeleccionado,o)||(t.extraSeleccionado=o),e.Njj(o)}),e.bIt("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.Njj(t.onExtraChange(o))}),e.j41(92,"option",38),e.EFF(93,"Seleccione\u2026"),e.k0s(),e.DNE(94,ln,2,2,"option",44),e.j41(95,"option",45),e.EFF(96,"Otro (especificar)"),e.k0s()(),e.DNE(97,dn,1,1,"input",46),e.j41(98,"button",47),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.agregarExtra())}),e.EFF(99,"Agregar"),e.k0s(),e.j41(100,"button",48),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.limpiarExtras())}),e.EFF(101," Limpiar extras "),e.k0s()(),e.DNE(102,gn,2,1,"div",49),e.k0s()(),e.j41(103,"div",35)(104,"div",36)(105,"label"),e.EFF(106,"Pol\xedtica combustible"),e.k0s(),e.j41(107,"select",37),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.politicaCombustible,o)||(t.politicaCombustible=o),e.Njj(o)}),e.j41(108,"option",50),e.EFF(109,"lleno-lleno"),e.k0s(),e.j41(110,"option",51),e.EFF(111,"como-esta"),e.k0s()()(),e.j41(112,"div",36)(113,"label"),e.EFF(114,"Pol\xedtica limpieza"),e.k0s(),e.j41(115,"select",37),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.politicaLimpieza,o)||(t.politicaLimpieza=o),e.Njj(o)}),e.j41(116,"option",52),e.EFF(117,"normal"),e.k0s(),e.j41(118,"option",53),e.EFF(119,"estricta"),e.k0s()()(),e.j41(120,"div",36)(121,"label"),e.EFF(122,"Edad m\xednima"),e.k0s(),e.j41(123,"input",54),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.requisitosConductor.edadMinima,o)||(t.requisitosConductor.edadMinima=o),e.Njj(o)}),e.k0s()(),e.j41(124,"div",36)(125,"label"),e.EFF(126,"Antig\xfcedad licencia (meses)"),e.k0s(),e.j41(127,"input",55),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.requisitosConductor.antiguedadLicenciaMeses,o)||(t.requisitosConductor.antiguedadLicenciaMeses=o),e.Njj(o)}),e.k0s()(),e.j41(128,"div",36)(129,"label"),e.EFF(130,"Conductor adicional"),e.k0s(),e.j41(131,"select",37),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.requisitosConductor.permiteConductorAdicional,o)||(t.requisitosConductor.permiteConductorAdicional=o),e.Njj(o)}),e.j41(132,"option",56),e.EFF(133,"No"),e.k0s(),e.j41(134,"option",56),e.EFF(135,"S\xed"),e.k0s()()(),e.DNE(136,un,4,1,"div",57),e.k0s(),e.j41(137,"div",35)(138,"div",36)(139,"label"),e.EFF(140,"Entrega gratis hasta (km)"),e.k0s(),e.j41(141,"input",55),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.entrega.gratuitoHastaKm,o)||(t.entrega.gratuitoHastaKm=o),e.Njj(o)}),e.bIt("ngModelChange",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.onGratisHastaChange())}),e.k0s()()()(),e.j41(142,"div",58)(143,"div",59)(144,"label",60),e.EFF(145,"Tarifas por distancia"),e.k0s(),e.j41(146,"button",61),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.addTarifa())}),e.EFF(147,"+ Agregar tarifa"),e.k0s()(),e.j41(148,"p",62),e.EFF(149,"Agrega al menos una tarifa o especifica \u201cEntrega gratis hasta (km)\u201d."),e.k0s(),e.DNE(150,fn,26,8,"div",63),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(2),e.Y8G("ngIf","particular"==i.tipoSeleccionado),e.R7$(),e.Y8G("ngIf","lote"===i.tipoSeleccionado),e.R7$(8),e.Y8G("ngIf",i.imagenesIntentadas),e.R7$(9),e.Y8G("ngIf",i.tarjetaCirculacion),e.R7$(8),e.R50("ngModel",i.tipoVehiculoLocal),e.R7$(20),e.R50("ngModel",i.transmision),e.R7$(14),e.R50("ngModel",i.combustible),e.R7$(16),e.R50("ngModel",i.pasajeros),e.R7$(7),e.R50("ngModel",i.precioPorDia),e.R7$(6),e.R50("ngModel",i.extraSeleccionado),e.R7$(3),e.Y8G("ngForOf",i.extrasPredefinidos),e.R7$(3),e.Y8G("ngIf","__OTRO__"===i.extraSeleccionado),e.R7$(3),e.Y8G("disabled",!i.extras.length),e.R7$(2),e.Y8G("ngIf",i.extras.length),e.R7$(5),e.R50("ngModel",i.politicaCombustible),e.R7$(8),e.R50("ngModel",i.politicaLimpieza),e.R7$(8),e.R50("ngModel",i.requisitosConductor.edadMinima),e.R7$(4),e.R50("ngModel",i.requisitosConductor.antiguedadLicenciaMeses),e.R7$(4),e.R50("ngModel",i.requisitosConductor.permiteConductorAdicional),e.R7$(),e.Y8G("ngValue",!1),e.R7$(2),e.Y8G("ngValue",!0),e.R7$(2),e.Y8G("ngIf",i.requisitosConductor.permiteConductorAdicional),e.R7$(5),e.R50("ngModel",i.entrega.gratuitoHastaKm),e.R7$(9),e.Y8G("ngForOf",i.entrega.tarifasPorDistancia)}}let I=(()=>{var a;class r{constructor(n,o,t,c,s,d){this.modalController=n,this.generalService=o,this.rentaService=t,this.cdr=c,this.router=s,this.registroService=d,this.rentaSubmit=new e.bkB,this.BASE_DISPO="/disponibilidad-car",this.direccionCompleta="Selecciona la ubicaci\xf3n...",this.ubicacionSeleccionada=null,this.imagenPrincipal=null,this.imagenesSecundarias=[],this.tarjetaCirculacion=null,this.imagenesIntentadas=!1,this.imagenesValidas=!1,this.tipoVehiculoLocal="",this.transmision="",this.combustible="",this.pasajeros=null,this.extrasPredefinidos=["Silla de beb\xe9","Elevador infantil","GPS","Wi-Fi port\xe1til","Portaequipaje","Cadenas para nieve"],this.extras=[],this.extraSeleccionado="",this.extraOtroTexto="",this.precioPorDia=null,this.politicaCombustible="lleno-lleno",this.politicaLimpieza="normal",this.requisitosConductor={edadMinima:21,antiguedadLicenciaMeses:12,permiteConductorAdicional:!1,costoConductorAdicional:null},this.entrega={gratuitoHastaKm:0,tarifasPorDistancia:[]},this.enviando=!1,this.Pregunta=null,this.tipoSeleccionado="particular",this.seccionFormulario=1,this.lotes=[],this.totalLotes=0,this.loteSeleccionado=null,this.ubicacionesLoteSeleccionado=[],this.MyRole=null,this.direccionSeleccionada=null,this.ubicacionesLoteLegibles=[],this.ubicacionesSeleccionadas=[],this.todasLasUbicacionesSeleccionadas=!1,this.numOrUndef=m=>{const p=Number(m);return Number.isFinite(p)?p:void 0}}ngOnInit(){this.generalService.tipoRol$.subscribe(n=>{"admin"===n||"lotero"===n||"vendedor"===n||"cliente"===n?this.MyRole=n:(this.generalService.eliminarToken(),this.generalService.alert("\xa1Saliste de tu sesi\xf3n Error - 707!","\xa1Hasta pronto!","info"))}),"admin"===this.MyRole?(this.Pregunta="si",this.seccionFormulario=2,this.getLotes("all")):"lotero"===this.MyRole?(this.Pregunta="si",this.seccionFormulario=2,this.tipoSeleccionado="lote",this.getLotes("mios")):(this.Pregunta="no",this.seccionFormulario=2,this.tipoSeleccionado="particular")}ngOnChanges(n){}hasText(n){return(""+(null!=n?n:"")).trim().length>0}onExtraChange(n){"__OTRO__"!==n&&(this.extraOtroTexto="")}agregarExtra(){let n="";n="__OTRO__"===this.extraSeleccionado?(this.extraOtroTexto||"").trim():(this.extraSeleccionado||"").trim(),n&&(this.extras.some(t=>t.toLowerCase()===n.toLowerCase())||this.extras.push(n),this.extraSeleccionado="",this.extraOtroTexto="",this.cdr.markForCheck())}quitarExtra(n){this.extras.splice(n,1),this.cdr.markForCheck()}limpiarExtras(){this.extras=[],this.extraSeleccionado="",this.extraOtroTexto="",this.cdr.markForCheck()}validarImagenes(){const o=["image/jpeg","image/png","image/webp"],t=[this.imagenPrincipal,...this.imagenesSecundarias||[]].filter(Boolean);if(!t.length)return!1;for(const c of t)if(c.type&&!o.includes(c.type)||c.size>8388608)return!1;return!0}goToDisponibilidad(n){var o=this;return(0,u.A)(function*(){if(!n)return void(yield o.generalService.alert("No encontr\xe9 el ID","No recib\xed el identificador del veh\xedculo creado. No puedo abrir la disponibilidad.","warning"));const t=`${o.BASE_DISPO}/${n}`;yield o.router.navigateByUrl(t,{replaceUrl:!0})})()}reencadenarDesde(){const n=this.entrega.tarifasPorDistancia;if(null==n||!n.length)return;const o=Number(this.entrega.gratuitoHastaKm)||0;n[0].desdeKm=o>=0?o:0;for(let t=1;t<n.length;t++){const c=Number(n[t-1].hastaKm);n[t].desdeKm=Number.isFinite(c)&&c>=0?c:0}this.cdr.markForCheck()}addTarifa(){const n=this.entrega.tarifasPorDistancia,o=0===n.length?Number(this.entrega.gratuitoHastaKm)||0:Number(n[n.length-1].hastaKm)||0;n.push({desdeKm:Math.max(0,o),hastaKm:Math.max(0,o+10),costoFijo:null,nota:null}),this.cdr.markForCheck()}removeTarifa(n){this.entrega.tarifasPorDistancia.splice(n,1),this.reencadenarDesde()}onGratisHastaChange(){this.reencadenarDesde()}onTarifaHastaChange(n){const o=this.entrega.tarifasPorDistancia,t=Number(o[n].hastaKm);o[n].hastaKm=Number.isFinite(t)&&t>=0?t:0,n<o.length-1&&(o[n+1].desdeKm=o[n].hastaKm||0),this.cdr.markForCheck()}seleccionarUbicacion(){var n=this;return(0,u.A)(function*(){const o=yield n.modalController.create({component:O.D});yield o.present();const{data:t}=yield o.onDidDismiss();if(t){const c=t;try{const s=yield n.generalService.obtenerDireccionDesdeCoordenadas(c[2],c[3]);n.ubicacionesSeleccionadas.push({ciudad:c[0],estado:c[1],lat:c[2],lng:c[3],direccionCompleta:s})}catch{n.ubicacionesSeleccionadas.push({ciudad:c[0],estado:c[1],lat:c[2],lng:c[3],direccionCompleta:`${c[0]}, ${c[1]}`})}n.cdr.markForCheck()}})()}eliminarUbicacion(n){this.ubicacionesSeleccionadas.splice(n,1),this.cdr.markForCheck()}isUbicacionSeleccionada(n){return this.ubicacionesSeleccionadas.some(o=>o.lat===n.lat&&o.lng===n.lng)}toggleUbicacionLote(n,o){const t=o.target.checked,c=this.ubicacionesLoteSeleccionado.findIndex(s=>s.lat===n.lat&&s.lng===n.lng);if(t)-1!==c&&this.ubicacionesSeleccionadas.push({ciudad:n.ciudad||"",estado:n.estado||"",lat:n.lat,lng:n.lng,direccionCompleta:this.ubicacionesLoteLegibles[c]||"Direcci\xf3n no disponible"});else{const s=this.ubicacionesSeleccionadas.findIndex(d=>d.lat===n.lat&&d.lng===n.lng);-1!==s&&this.ubicacionesSeleccionadas.splice(s,1),this.todasLasUbicacionesSeleccionadas=!1}this.cdr.markForCheck()}seleccionarImagenes(){var n=this;return(0,u.A)(function*(){const o=yield n.modalController.create({component:F.i,backdropDismiss:!1,componentProps:{estadoVehiculo:"Renta"}});yield o.present();const{data:t}=yield o.onDidDismiss();return t?(n.imagenesIntentadas=!0,n.imagenPrincipal=t.imagenPrincipal||null,n.imagenesSecundarias=t.imagenesSecundarias||[],n.imagenPrincipal?(n.imagenesValidas=n.validarImagenes(),void n.cdr.markForCheck()):(yield n.generalService.alert("Falta imagen principal","Selecciona una imagen principal para continuar.","warning"),n.imagenesValidas=!1,void n.cdr.markForCheck())):(n.imagenesValidas=!1,n.imagenesIntentadas=!1,void n.cdr.markForCheck())})()}onFileTC(n){var o;const t=n.target;null!==(o=t.files)&&void 0!==o&&o.length&&(this.tarjetaCirculacion=t.files[0],this.cdr.markForCheck())}limpiarImagenes(){this.generalService.confirmarAccion("\xbfDeseas eliminar las im\xe1genes seleccionadas?","Eliminar im\xe1genes",()=>{this.imagenPrincipal=null,this.imagenesSecundarias=[],this.imagenesIntentadas=!1,this.imagenesValidas=!1,this.cdr.markForCheck()})}validarBasico(){if(!this.hasText(this.marca)||!this.hasText(this.modelo))return this.generalService.alert("Datos incompletos","Faltan marca o modelo.","warning"),!1;if(!this.transmision)return this.generalService.alert("Transmisi\xf3n","Selecciona la transmisi\xf3n del veh\xedculo.","warning"),!1;if(!this.combustible)return this.generalService.alert("Combustible","Selecciona el tipo de combustible.","warning"),!1;if(!this.ubicacionesSeleccionadas||0===this.ubicacionesSeleccionadas.length)return this.generalService.alert("Ubicaci\xf3n","Selecciona al menos una ubicaci\xf3n para el veh\xedculo.","warning"),!1;if(!(null!==this.precioPorDia&&Number(this.precioPorDia)>=500))return this.generalService.alert("Precio por d\xeda","El precio por d\xeda debe ser de al menos $500.","warning"),!1;if(null===this.pasajeros||Number(this.pasajeros)<1)return this.generalService.alert("Pasajeros","Debes indicar al menos 1 pasajero.","warning"),!1;if(Number(this.requisitosConductor.edadMinima)<18)return this.generalService.alert("Edad m\xednima","La edad m\xednima permitida es 18 a\xf1os.","warning"),!1;const o=(this.entrega.tarifasPorDistancia||[]).length>0,t=Number(this.entrega.gratuitoHastaKm)>0;if(!o&&!t)return this.generalService.alert("Tarifas por distancia",'Agrega al menos una tarifa o "Entrega gratis hasta (km)".',"warning"),!1;for(let c=0;c<(this.entrega.tarifasPorDistancia||[]).length;c++){const s=this.entrega.tarifasPorDistancia[c],d=Number(s.desdeKm),m=Number(s.hastaKm),p=null!=s.costoFijo?Number(s.costoFijo):null;if(!Number.isFinite(d)||d<0||!Number.isFinite(m)||m<=0)return this.generalService.alert("Tarifas por distancia",`Tarifa #${c+1}: "Desde" \u2265 0 y "Hasta" > 0.`,"warning"),!1;if(d>=m)return this.generalService.alert("Tarifas por distancia",`Tarifa #${c+1}: "Desde" debe ser menor que "Hasta".`,"warning"),!1;if(null==p||!Number.isFinite(p)||p<0)return this.generalService.alert("Tarifas por distancia",`Tarifa #${c+1}: define "Costo fijo".`,"warning"),!1;if(c>0){const f=Number(this.entrega.tarifasPorDistancia[c-1].hastaKm)||0;if(d!==f)return this.generalService.alert("Tarifas por distancia",`Tarifa #${c+1} debe iniciar en ${f} km.`,"warning"),!1}}return!(!this.imagenPrincipal||!this.validarImagenes())||(this.generalService.alert("Im\xe1genes","Falta imagen principal o formato/tama\xf1o inv\xe1lido.","warning"),!1)}get canPublicar(){const n=this.hasText(this.marca)&&this.hasText(this.modelo),o=this.ubicacionesSeleccionadas&&this.ubicacionesSeleccionadas.length>0,t=null!==this.precioPorDia&&Number(this.precioPorDia)>=500,c=null==this.pasajeros||Number(this.pasajeros)>=1,s=Number(this.requisitosConductor.edadMinima)>=18,d=!!this.imagenPrincipal&&this.imagenesValidas,m=(this.entrega.tarifasPorDistancia||[]).length>0,p=Number(this.entrega.gratuitoHastaKm)>0;return n&&o&&t&&c&&s&&(m||p)&&d&&!this.enviando}construirPayloadParaBackend(){var n,o;const t=this.ubicacionesSeleccionadas.map(d=>({ciudad:d.ciudad,estado:d.estado,lat:Number(d.lat),lng:Number(d.lng)})),c={edadMinima:Number(this.requisitosConductor.edadMinima)||21,antiguedadLicenciaMeses:Number(this.requisitosConductor.antiguedadLicenciaMeses)||12,permiteConductorAdicional:!!this.requisitosConductor.permiteConductorAdicional,costoConductorAdicional:null!=this.requisitosConductor.costoConductorAdicional?Number(this.requisitosConductor.costoConductorAdicional):void 0},s={gratuitoHastaKm:Number(this.entrega.gratuitoHastaKm)||0,tarifasPorDistancia:(this.entrega.tarifasPorDistancia||[]).map(d=>({desdeKm:Number(d.desdeKm),hastaKm:Number(d.hastaKm),costoFijo:null!=d.costoFijo?Number(d.costoFijo):void 0,nota:d.nota||void 0}))};return{marca:(this.marca||"").trim(),modelo:(this.modelo||"").trim(),tipoVehiculo:this.tipoVehiculoLocal||void 0,pasajeros:this.numOrUndef(this.pasajeros),transmision:this.transmision||void 0,combustible:this.combustible||void 0,precio:Number(null!==(n=this.precioPorDia)&&void 0!==n?n:0),politicaCombustible:this.politicaCombustible,politicaLimpieza:this.politicaLimpieza,requisitosConductor:c,ubicaciones:t.length>0?t:void 0,entrega:s,extras:null!==(o=this.extras)&&void 0!==o&&o.length?[...this.extras]:void 0}}publicar(){var n=this;return(0,u.A)(function*(){if(!n.validarBasico())return;const o=n.construirPayloadParaBackend(),t={imagenPrincipal:n.imagenPrincipal,imagenes:n.imagenesSecundarias||[],tarjetaCirculacion:n.tarjetaCirculacion||null};var c;n.enviando=!0,n.cdr.markForCheck(),yield n.generalService.loading("Publicando veh\xedculo de renta\u2026"),n.rentaService.addRentalCar({...o,...t}).subscribe({next:(c=(0,u.A)(function*(s){var d,m;if(yield n.generalService.loadingDismiss(),n.enviando=!1,null!=s&&s.token&&localStorage.setItem("token",s.token),null!=s&&s.rol){const f=JSON.parse(localStorage.getItem("user")||"{}");f.rol=s.rol,localStorage.setItem("user",JSON.stringify(f))}const p=(null==s||null===(d=s.rental)||void 0===d?void 0:d._id)||(null==s||null===(m=s.rental)||void 0===m?void 0:m.id);if(!p)return yield n.generalService.alert("No encontr\xe9 el ID","No recib\xed el identificador del veh\xedculo creado. No puedo abrir la disponibilidad.","warning"),void n.cdr.markForCheck();n.generalService.alert("\xa1Listo!","Veh\xedculo de renta publicado. Vamos a configurar la disponibilidad.","success"),yield n.goToDisponibilidad(p),n.cdr.markForCheck()}),function(d){return c.apply(this,arguments)}),error:function(){var c=(0,u.A)(function*(s){var d;yield n.generalService.loadingDismiss(),n.enviando=!1;const m=(null==s||null===(d=s.error)||void 0===d?void 0:d.message)||"Error al publicar el veh\xedculo de renta";n.generalService.alert("Error",m,"danger"),console.error("[RentaComponent] Error addRentalCar:",s),n.cdr.markForCheck()});return function(d){return c.apply(this,arguments)}}()})})()}resetForm(){this.tipoVehiculoLocal="",this.transmision="",this.combustible="",this.pasajeros=null,this.precioPorDia=null,this.extras=[],this.extraSeleccionado="",this.extraOtroTexto="",this.politicaCombustible="lleno-lleno",this.politicaLimpieza="normal",this.requisitosConductor={edadMinima:21,antiguedadLicenciaMeses:12,permiteConductorAdicional:!1,costoConductorAdicional:null},this.entrega={gratuitoHastaKm:0,tarifasPorDistancia:[]},this.imagenPrincipal=null,this.imagenesSecundarias=[],this.tarjetaCirculacion=null,this.imagenesIntentadas=!1,this.imagenesValidas=!1,this.ubicacionSeleccionada=null,this.direccionCompleta="Selecciona la ubicaci\xf3n...",this.cdr.markForCheck()}seleccionarTipo(n){this.tipoSeleccionado=n}continuar(){this.tipoSeleccionado&&("lote"==this.tipoSeleccionado&&this.getLotes("mios"),this.Pregunta="no")}getLotes(n){var t,o=this;this.registroService.allLotes(n).subscribe({next:(t=(0,u.A)(function*(c){if(o.lotes=c.lotes,o.totalLotes=o.lotes.length,1===o.lotes.length){const s=o.lotes[0];o.loteSeleccionado=s._id,o.ubicacionesLoteSeleccionado=s.direccion,o.leerLatLng()}}),function(s){return t.apply(this,arguments)}),error:function(){var t=(0,u.A)(function*(){yield o.generalService.loadingDismiss(),yield o.generalService.alert("Verifica tu red","Error de red. Intenta m\xe1s tarde.","danger")});return function(){return t.apply(this,arguments)}}()})}leerLatLng(){this.direccionSeleccionada=null,this.ubicacionesLoteLegibles=[];const n=this.ubicacionesLoteSeleccionado.map(o=>this.generalService.obtenerDireccionDesdeCoordenadas(o.lat,o.lng));Promise.all(n).then(o=>{this.ubicacionesLoteLegibles=o}).catch(o=>{console.warn("\u274c Error obteniendo direcciones:",o),this.ubicacionesLoteLegibles=this.ubicacionesLoteSeleccionado.map(()=>"No disponible")})}onLoteSeleccionado(){const n=this.lotes.find(o=>o._id===this.loteSeleccionado);this.ubicacionesLoteSeleccionado=(null==n?void 0:n.direccion)||[],this.leerLatLng()}}return(a=r).\u0275fac=function(n){return new(n||a)(e.rXU(l.W3),e.rXU(v.O),e.rXU(qe.w),e.rXU(e.gRc),e.rXU(x.Ix),e.rXU(E.f))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-renta"]],inputs:{anio:"anio",marca:"marca",modelo:"modelo",tipo:"tipo"},outputs:{rentaSubmit:"rentaSubmit"},features:[e.OA$],decls:4,vars:3,consts:[["fileTC",""],[1,"renta"],["class","resumen-estado",4,"ngIf"],["class","tipo-vehiculo-container",4,"ngIf"],[4,"ngIf"],[1,"resumen-estado"],["type","button",1,"btn-guardar",3,"click"],["name","save-outline",1,"icono-guardar"],[1,"fila-info"],[1,"tipo-vehiculo-container"],[1,"titulo-tipo"],[1,"opciones-vehiculo"],[1,"casilla",3,"click"],["src","assets/img/particular.png","alt","Particular"],["name","checkmark-circle-outline","class","icono-check",4,"ngIf"],["src","assets/img/lote.png","alt","Lote"],[1,"contenedor-boton"],[1,"btn-continuar",3,"click","disabled"],["name","arrow-forward-outline"],["name","checkmark-circle-outline",1,"icono-check"],[1,"contenedor-botones"],["class","bloque-contenido",4,"ngIf"],[1,"bloque-contenido"],[1,"grupo-botones"],["type","button",1,"btn-imagenes",3,"click"],["name","image-outline"],[1,"requerido"],["class","btn-limpiar","type","button",3,"click",4,"ngIf"],[1,"tc"],[1,"tc__label"],["type","button",1,"btn-subir",3,"click"],["name","document-attach-outline"],["type","file","accept","image/*,application/pdf","hidden","",3,"change"],["class","tc__filename",4,"ngIf"],[1,"formulario"],[1,"grid-form","cols-4"],[1,"campo"],[3,"ngModelChange","ngModel"],["value",""],["type","number","min","1","placeholder","Ej. 5",3,"ngModelChange","ngModel"],["type","number","min","500","placeholder","Ej. 900",3,"ngModelChange","ngModel"],[1,"grid-form","cols-2"],[1,"campo","full"],[1,"extras-row"],[3,"value",4,"ngFor","ngForOf"],["value","__OTRO__"],["type","text","placeholder","Escribe el extra",3,"ngModel","ngModelChange","keyup.enter",4,"ngIf"],["type","button",1,"btn-secundario",3,"click"],["type","button",1,"btn-limpiar",3,"click","disabled"],["class","chips",4,"ngIf"],["value","lleno-lleno"],["value","como-esta"],["value","normal"],["value","estricta"],["type","number","min","18",3,"ngModelChange","ngModel"],["type","number","min","0",3,"ngModelChange","ngModel"],[3,"ngValue"],["class","campo",4,"ngIf"],[1,"tarifas"],[1,"tarifas__header"],[1,"tarifas__title"],["type","button",3,"click"],[1,"hint"],["class","tarifa-card",4,"ngFor","ngForOf"],["expand","block","color","danger",3,"click"],["name","location-outline","slot","start"],["class","ubicaciones-list",4,"ngIf"],[1,"ubicaciones-list"],["class","ubicacion-item",4,"ngFor","ngForOf"],[1,"ubicacion-item"],["fill","clear","color","danger","slot","end",3,"click"],["name","close-circle"],["interface","action-sheet","placeholder","Selecciona un lote",3,"ngModelChange","ionChange","ngModel"],["class","bloque-direcciones",4,"ngIf"],[3,"value"],[1,"bloque-direcciones"],["lines","none"],[1,"ubicaciones-checkbox-list"],["class","checkbox-item",4,"ngFor","ngForOf"],[1,"checkbox-item"],["slot","start",3,"ionChange","checked"],["type","button",1,"btn-limpiar",3,"click"],["name","trash-outline"],[1,"tc__filename"],["type","text","placeholder","Escribe el extra",3,"ngModelChange","keyup.enter","ngModel"],[1,"chips"],["class","chip",4,"ngFor","ngForOf"],[1,"chip"],["type","button",1,"chip__close",3,"click"],[1,"tarifa-card"],[1,"tarifa-card__top"],[1,"tarifa-card__title"],[1,"tarifa-card__grid"],["type","number","min","0","placeholder","0",3,"ngModelChange","ngModel","readonly"],["class","hint",4,"ngIf"],["type","number","min","0","placeholder","10",3,"ngModelChange","ngModel"],["type","number","min","0","step","0.01","placeholder","Ej. 200",3,"ngModelChange","ngModel"],["type","text","placeholder","Ej. Zona centro",3,"ngModelChange","ngModel"]],template:function(n,o){1&n&&(e.j41(0,"section",1),e.DNE(1,Je,13,2,"div",2)(2,Qe,18,7,"div",3)(3,hn,151,24,"section",4),e.k0s()),2&n&&(e.R7$(),e.Y8G("ngIf",2==o.seccionFormulario&&"no"==o.Pregunta),e.R7$(),e.Y8G("ngIf","si"==o.Pregunta),e.R7$(),e.Y8G("ngIf","no"==o.Pregunta&&2==o.seccionFormulario))},dependencies:[g.MD,g.Sq,g.bT,l.bv,l.Jm,l.eY,l.iq,l.uz,l.he,l.nf,l.Nm,l.Ip,l.hB,l.Je,_.YN,_.xH,_.y7,_.me,_.Q0,_.wz,_.BC,_.VZ,_.vS,_.X1],styles:['@charset "UTF-8";.renta[_ngcontent-%COMP%]{margin-top:14px;font-family:-apple-system,system-ui,BlinkMacSystemFont,SF Pro Text,Helvetica Neue,Arial,sans-serif}.resumen-estado[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px;padding:10px 14px;margin:0 4px 10px;background:#fff;border-radius:16px;border:1px solid rgba(60,60,67,.15);box-shadow:0 10px 24px #0f172a29,0 0 0 .5px #fffc}.resumen-estado[_ngcontent-%COMP%]   .fila-info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:14px}.resumen-estado[_ngcontent-%COMP%]   .fila-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#3c3c43;white-space:nowrap}@media (max-width: 768px){.resumen-estado[_ngcontent-%COMP%]   .fila-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.resumen-estado[_ngcontent-%COMP%]   .fila-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;margin-left:4px;color:#111827}.btn-guardar[_ngcontent-%COMP%]{border:none;outline:none;background:linear-gradient(135deg,#ff3b30,#ff453a);color:#fff;border-radius:999px;padding:8px 16px;font-size:13px;font-weight:600;display:inline-flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 10px 22px #ff453a75;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.btn-guardar[_ngcontent-%COMP%]   ion-icon.icono-guardar[_ngcontent-%COMP%]{font-size:18px}.btn-guardar[_ngcontent-%COMP%]:hover{transform:translateY(-1px);filter:brightness(1.03);box-shadow:0 12px 26px #ff453a8c}.btn-guardar[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 7px 18px #ff453a59}.tipo-vehiculo-container[_ngcontent-%COMP%]{text-align:center;margin:20px auto 12px;max-width:560px;padding:16px 14px 18px;background:#fff;border-radius:18px;border:1px solid rgba(60,60,67,.12);box-shadow:0 12px 24px #0f172a2e,0 0 0 .5px #ffffffe6}.tipo-vehiculo-container[_ngcontent-%COMP%]   .titulo-tipo[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin:0 0 12px;color:#111827}.tipo-vehiculo-container[_ngcontent-%COMP%]   .opciones-vehiculo[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:14px;flex-wrap:wrap}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]{width:132px;height:132px;border-radius:18px;background-color:#f2f2f7;border:1px solid transparent;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;cursor:pointer;transition:background .18s ease,border-color .18s ease,box-shadow .18s ease,transform .12s ease}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;margin-bottom:8px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:13px;color:#111827;padding:0 8px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   .icono-check[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;color:#ff3b30;font-size:18px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla.activa[_ngcontent-%COMP%]{background-color:#fff;border-color:#ff3b30;box-shadow:0 10px 22px #ff453a47;transform:translateY(-1px)}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]:hover{background-color:#fff}.tipo-vehiculo-container[_ngcontent-%COMP%]   .contenedor-boton[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:18px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]{border:none;border-radius:999px;padding:10px 24px;background:linear-gradient(135deg,#ff3b30,#ff453a);color:#fff;font-weight:600;font-size:15px;display:inline-flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 10px 22px #ff453a66;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);filter:brightness(1.02);box-shadow:0 12px 26px #ff453a80}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#ffb3b8,#ffc2c0);box-shadow:none;cursor:not-allowed}section[_ngcontent-%COMP%]   .contenedor-botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:14px;align-items:flex-start;margin-top:14px}.bloque-contenido[_ngcontent-%COMP%]{flex:1 1 260px;display:flex;flex-direction:column;gap:10px;background:#fff;border-radius:18px;padding:10px 10px 12px;border:1px solid rgba(60,60,67,.12);box-shadow:0 8px 20px #0f172a29}.bloque-contenido[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 999px;--padding-start: 14px;--padding-end: 14px;--background: linear-gradient(135deg, #ff3b30, #ff453a);--color: #ffffff;--box-shadow: 0 10px 22px rgba(255, 69, 58, .4);font-weight:600;font-size:14px}.ubicaciones-list[_ngcontent-%COMP%]{margin-top:6px;border-radius:14px;border:1px solid rgba(60,60,67,.14);overflow:hidden;background:#f2f2f7}.ubicaciones-list[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:0}.ubicaciones-list[_ngcontent-%COMP%]   ion-item.ubicacion-item[_ngcontent-%COMP%]{--background: transparent;--min-height: 40px;--padding-start: 10px;--padding-end: 6px;--inner-padding-end: 0}.ubicaciones-list[_ngcontent-%COMP%]   ion-item.ubicacion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:#1c1c1e}.ubicaciones-list[_ngcontent-%COMP%]   ion-item.ubicacion-item[_ngcontent-%COMP%]   ion-icon[slot=start][_ngcontent-%COMP%]{color:#ff3b30;font-size:18px}.ubicaciones-list[_ngcontent-%COMP%]   ion-item.ubicacion-item[_ngcontent-%COMP%]   ion-button[slot=end][_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--color: #ff3b30;--ripple-color: rgba(255, 59, 48, .2)}.bloque-direcciones[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: transparent;--padding-start: 0;--inner-padding-end: 0;--min-height: 34px}.bloque-direcciones[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:13px;color:#3c3c43}.ubicaciones-checkbox-list[_ngcontent-%COMP%]{border-radius:14px;border:1px solid rgba(60,60,67,.14);overflow:hidden;background:#f2f2f7}.checkbox-item[_ngcontent-%COMP%]{--background: transparent;--padding-start: 8px;--inner-padding-end: 8px;--min-height: 38px}.checkbox-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:#1c1c1e;margin:0}.grupo-botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.btn-imagenes[_ngcontent-%COMP%]{border-radius:999px;border:1px solid rgba(60,60,67,.18);background:#fff;padding:8px 14px;font-size:13px;font-weight:600;display:inline-flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 5px 12px #0f172a29;transition:background .14s ease,transform .12s ease,box-shadow .16s ease}.btn-imagenes[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.btn-imagenes[_ngcontent-%COMP%]   .requerido[_ngcontent-%COMP%]{color:#ff3b30;margin-left:4px}.btn-imagenes[_ngcontent-%COMP%]:hover{background:#f8f9fb;transform:translateY(-1px)}.btn-limpiar[_ngcontent-%COMP%]{border-radius:999px;border:1px solid rgba(255,59,48,.35);background:#fff5f4;padding:7px 12px;font-size:11px;color:#b91c1c;display:inline-flex;align-items:center;gap:6px;cursor:pointer;transition:background .14s ease}.btn-limpiar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.btn-limpiar[_ngcontent-%COMP%]:hover:not(:disabled){background:#ffe2de}.btn-limpiar[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:default}.tc[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-top:6px}.tc[_ngcontent-%COMP%]   .tc__label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#3c3c43}.tc[_ngcontent-%COMP%]   .btn-subir[_ngcontent-%COMP%]{border-radius:999px;border:1px solid rgba(60,60,67,.18);background:#f2f2f7;padding:7px 12px;font-size:13px;font-weight:600;display:inline-flex;align-items:center;gap:6px;cursor:pointer}.tc[_ngcontent-%COMP%]   .btn-subir[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:17px}.tc[_ngcontent-%COMP%]   .btn-subir[_ngcontent-%COMP%]:hover{background:#fff}.tc[_ngcontent-%COMP%]   .tc__filename[_ngcontent-%COMP%]{font-size:11px;color:#6b7280}.formulario[_ngcontent-%COMP%]{margin-top:18px;padding:14px 12px 18px;border-radius:18px;background:#f2f2f7;border:1px solid rgba(60,60,67,.12)}.grid-form[_ngcontent-%COMP%]{margin-top:8px;background:#fff;border-radius:16px;padding:12px;box-shadow:0 8px 20px #0f172a1f;display:grid;gap:12px}.grid-form.cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-form.cols-2[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}@media (max-width: 900px){.grid-form.cols-4[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (max-width: 520px){.grid-form.cols-4[_ngcontent-%COMP%], .grid-form.cols-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}.campo[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.campo.full[_ngcontent-%COMP%]{grid-column:1/-1}.campo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#3c3c43}.campo[_ngcontent-%COMP%]   .requerido[_ngcontent-%COMP%]{color:#ff3b30}.campo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .campo[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border-radius:12px;border:1px solid rgba(60,60,67,.18);background:#f2f2f7;padding:8px 10px;font-size:13px;color:#111827;outline:none;min-height:40px}.campo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .campo[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#ff3b30;box-shadow:0 0 0 2px #ff3b302e;background:#fff}.campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.extras-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;align-items:center}.extras-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{min-width:160px}.extras-row[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1 1 220px}.btn-secundario[_ngcontent-%COMP%]{border-radius:999px;border:1px solid rgba(60,60,67,.18);background:#fff;padding:7px 13px;font-size:12px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;transition:background .14s ease}.btn-secundario[_ngcontent-%COMP%]:hover{background:#f3f4f6}.chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}.chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;background:#fff3ec;border:1px solid #ffd2c2;color:#222;border-radius:999px;font-size:12px}.chip[_ngcontent-%COMP%]   .chip__close[_ngcontent-%COMP%]{background:transparent;border:none;font-size:14px;cursor:pointer;line-height:1;color:#b20000;padding:0}.tarifas[_ngcontent-%COMP%]{margin-top:14px;background:#f2f2f7;border-radius:18px;border:1px solid rgba(60,60,67,.14);padding:12px 12px 14px}.tarifas[_ngcontent-%COMP%]   .tarifas__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:4px}.tarifas[_ngcontent-%COMP%]   .tarifas__header[_ngcontent-%COMP%]   .tarifas__title[_ngcontent-%COMP%]{margin:0;font-weight:700;font-size:14px;color:#111827}.tarifas[_ngcontent-%COMP%]   .tarifas__header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:999px;border:1px solid rgba(60,60,67,.18);background:#fff;padding:6px 12px;font-size:12px;font-weight:600;cursor:pointer}.tarifas[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{color:#6b7280;font-size:11px;margin:2px 0 8px}.tarifas[_ngcontent-%COMP%]   .tarifa-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;border:1px solid rgba(60,60,67,.16);padding:12px;margin-top:8px;box-shadow:0 8px 18px #0f172a24}.tarifas[_ngcontent-%COMP%]   .tarifa-card__top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px}.tarifas[_ngcontent-%COMP%]   .tarifa-card__title[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:700;color:#111827}.tarifas[_ngcontent-%COMP%]   .tarifa-card__grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(12,minmax(0,1fr));gap:10px}.tarifas[_ngcontent-%COMP%]   .tarifa-card__grid[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]{grid-column:span 3}.tarifas[_ngcontent-%COMP%]   .tarifa-card__grid[_ngcontent-%COMP%]   .campo.full[_ngcontent-%COMP%]{grid-column:1/-1}@media (max-width: 900px){.tarifas[_ngcontent-%COMP%]   .tarifa-card__grid[_ngcontent-%COMP%]{grid-template-columns:repeat(6,minmax(0,1fr))}.tarifas[_ngcontent-%COMP%]   .tarifa-card__grid[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]{grid-column:span 3}}@media (max-width: 520px){.tarifas[_ngcontent-%COMP%]   .tarifa-card__grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.tarifas[_ngcontent-%COMP%]   .tarifa-card__grid[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]{grid-column:1/-1}}.tarifas[_ngcontent-%COMP%]   .tarifa-card[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   .hint[_ngcontent-%COMP%]{display:block;margin-top:2px;color:#6b7280;font-size:11px;line-height:1.2}.formulario-publicacion[_ngcontent-%COMP%]{margin-top:18px;padding:16px 14px 18px;border-radius:18px;background:#f2f2f7;border:1px solid rgba(60,60,67,.12)}.formulario-publicacion[_ngcontent-%COMP%]   .info-texto[_ngcontent-%COMP%]{font-size:14px;color:#1c1c1e;margin-bottom:10px}.formulario-publicacion[_ngcontent-%COMP%]   .info-texto[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}.formulario-publicacion[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #ffffff;--inner-border-width: 0;--padding-start: 8px;--padding-end: 8px;--highlight-color-focused: #ff3b30;border-radius:12px;margin-bottom:10px;box-shadow:0 2px 6px #0f172a1f}.formulario-publicacion[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .formulario-publicacion[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--background: transparent;font-size:14px}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp-container[_ngcontent-%COMP%]{margin-top:14px;text-align:center}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp[_ngcontent-%COMP%]{border-radius:999px;border:none;padding:10px 20px;background:#25d366;color:#fff;font-weight:600;font-size:14px;display:inline-flex;align-items:center;gap:8px;cursor:pointer;box-shadow:0 12px 22px #25d36673}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}'],changeDetection:0}),r})();var bn=h(4277);function xn(a,r){if(1&a&&(e.j41(0,"p",11),e.EFF(1),e.k0s()),2&a){const i=e.XpG(2);e.R7$(),e.SpI(" ",i.estadoCamion," ")}}function Cn(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",12)(1,"div",13)(2,"ion-select",14),e.bIt("ionChange",function(o){e.eBV(i);const t=e.XpG(2);return e.Njj(t.onTipoChange(o))}),e.j41(3,"ion-select-option",15),e.EFF(4,"Nuevo"),e.k0s(),e.j41(5,"ion-select-option",16),e.EFF(6,"Seminuevo"),e.k0s(),e.j41(7,"ion-select-option",17),e.EFF(8,"Usado"),e.k0s()()()()}if(2&a){const i=e.XpG(2);e.R7$(2),e.Y8G("value",i.estadoCamion)}}function vn(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",5)(1,"div",6)(2,"p"),e.EFF(3,"A\xf1o: "),e.j41(4,"strong"),e.EFF(5),e.k0s()(),e.j41(6,"p"),e.EFF(7,"Marca: "),e.j41(8,"strong"),e.EFF(9),e.k0s()(),e.j41(10,"p"),e.EFF(11,"Modelo: "),e.j41(12,"strong"),e.EFF(13),e.k0s()(),e.DNE(14,xn,2,1,"p",7)(15,Cn,9,1,"div",8),e.k0s(),e.j41(16,"button",9),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.EnviarCamion())}),e.nrm(17,"ion-icon",10),e.EFF(18," Publicar "),e.k0s()()}if(2&a){const i=e.XpG();e.R7$(5),e.JRh(i.anio),e.R7$(4),e.JRh(i.marca),e.R7$(4),e.JRh(i.modelo),e.R7$(),e.Y8G("ngIf","admin"!==i.MyRole),e.R7$(),e.Y8G("ngIf","admin"===i.MyRole)}}function Mn(a,r){1&a&&e.nrm(0,"ion-icon",28)}function Pn(a,r){1&a&&e.nrm(0,"ion-icon",28)}function Fn(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",18)(1,"h2",19),e.EFF(2,"\xbfQu\xe9 tipo de cami\xf3n quieres subir?"),e.k0s(),e.j41(3,"div",20)(4,"div",21),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.seleccionarTipo("particular"))}),e.nrm(5,"img",22),e.j41(6,"p"),e.EFF(7,"Particular"),e.k0s(),e.DNE(8,Mn,1,0,"ion-icon",23),e.k0s(),e.j41(9,"div",21),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.seleccionarTipo("lote"))}),e.nrm(10,"img",24),e.j41(11,"p"),e.EFF(12,"Lote"),e.k0s(),e.DNE(13,Pn,1,0,"ion-icon",23),e.k0s()(),e.j41(14,"div",25)(15,"button",26),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.continuar())}),e.EFF(16," Continuar "),e.nrm(17,"ion-icon",27),e.k0s()()()}if(2&a){const i=e.XpG();e.R7$(4),e.AVh("activa","particular"===i.tipoSeleccionado),e.R7$(4),e.Y8G("ngIf","particular"===i.tipoSeleccionado),e.R7$(),e.AVh("activa","lote"===i.tipoSeleccionado),e.R7$(4),e.Y8G("ngIf","lote"===i.tipoSeleccionado),e.R7$(2),e.Y8G("disabled",!i.tipoSeleccionado)}}function On(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",29)(1,"p",30),e.EFF(2,"\xbfC\xf3mo quieres vender tu cami\xf3n?"),e.k0s(),e.j41(3,"div",31)(4,"button",32),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.quienLovende(0))}),e.EFF(5,"Lo vendo yo"),e.k0s(),e.j41(6,"button",33),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.quienLovende(1))}),e.EFF(7," Que lo venda "),e.nrm(8,"img",34),e.k0s()()()}}function jn(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",35)(1,"p",36)(2,"strong"),e.EFF(3,"\xa1Nosotros nos encargamos!"),e.k0s(),e.EFF(4," Publicamos tu camion y agendamos citas con interesados. "),e.nrm(5,"br"),e.j41(6,"strong"),e.EFF(7,"Cont\xe1ctanos por WhatsApp y te ayudamos."),e.k0s()(),e.j41(8,"div",37)(9,"p"),e.EFF(10,"A\xf1o: "),e.j41(11,"strong"),e.EFF(12),e.k0s()(),e.j41(13,"p"),e.EFF(14,"Marca: "),e.j41(15,"strong"),e.EFF(16),e.k0s()(),e.j41(17,"p"),e.EFF(18,"Modelo: "),e.j41(19,"strong"),e.EFF(20),e.k0s()(),e.j41(21,"p",11),e.EFF(22),e.k0s()(),e.j41(23,"ion-item")(24,"ion-label",38),e.EFF(25,"Precio estimado (opcional)"),e.k0s(),e.j41(26,"ion-input",39),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.precioEstimado,o)||(t.precioEstimado=o),e.Njj(o)}),e.k0s()(),e.j41(27,"ion-item")(28,"ion-label",38),e.EFF(29,"Tipo de factura (opcional)"),e.k0s(),e.j41(30,"ion-select",40),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.tipoFactura,o)||(t.tipoFactura=o),e.Njj(o)}),e.j41(31,"ion-select-option",41),e.EFF(32,"Original"),e.k0s(),e.j41(33,"ion-select-option",42),e.EFF(34,"Refacturada"),e.k0s(),e.j41(35,"ion-select-option",43),e.EFF(36,"Sin factura"),e.k0s()()(),e.j41(37,"div",44)(38,"button",45),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.contactosService.contactarPorPublicacionParticular(o.anio,o.marca,o.modelo,o.precioEstimado,o.tipoFactura))}),e.nrm(39,"ion-icon",46),e.EFF(40," Cont\xe1ctanos por WhatsApp "),e.k0s()()()}if(2&a){const i=e.XpG();e.R7$(12),e.JRh(i.anio),e.R7$(4),e.JRh(i.marca),e.R7$(4),e.JRh(i.modelo),e.R7$(2),e.JRh(i.estadoCamion),e.R7$(4),e.R50("ngModel",i.precioEstimado),e.R7$(4),e.R50("ngModel",i.tipoFactura)}}function kn(a,r){if(1&a&&(e.j41(0,"div",77),e.nrm(1,"ion-icon",78),e.EFF(2),e.k0s()),2&a){const i=e.XpG(3);e.R7$(2),e.SpI(" ",i.direccionCompleta," ")}}function Sn(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",50)(1,"button",74),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.seleccionarUbicacion())}),e.nrm(2,"ion-icon",75),e.EFF(3," Seleccionar ubicaci\xf3n "),e.k0s(),e.DNE(4,kn,3,1,"div",76),e.k0s()}if(2&a){const i=e.XpG(2);e.R7$(4),e.Y8G("ngIf",i.ubicacionSeleccionada)}}function En(a,r){if(1&a&&(e.j41(0,"option",70),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("ngValue",i._id),e.R7$(),e.SpI(" ",i.nombre," ")}}function Rn(a,r){if(1&a&&(e.j41(0,"option",70),e.EFF(1),e.k0s()),2&a){const i=r.$implicit,n=r.index,o=e.XpG(4);e.Y8G("ngValue",i),e.R7$(),e.SpI(" ",o.ubicacionesLoteLegibles[n]||"Obteniendo direcci\xf3n..."," ")}}function wn(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",83)(1,"label",84),e.EFF(2,"Selecciona una ubicaci\xf3n:"),e.k0s(),e.j41(3,"select",85),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.DH7(t.direccionSeleccionada,o)||(t.direccionSeleccionada=o),e.Njj(o)}),e.j41(4,"option",61),e.EFF(5," Selecciona una ubicaci\xf3n "),e.k0s(),e.DNE(6,Rn,2,2,"option",81),e.k0s()()}if(2&a){const i=e.XpG(3);e.R7$(3),e.R50("ngModel",i.direccionSeleccionada),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",i.ubicacionesLoteSeleccionado)}}function Vn(a,r){if(1&a&&(e.j41(0,"div",77),e.nrm(1,"ion-icon",78),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&a){const i=e.XpG(3);e.R7$(3),e.JRh(i.direccionCompleta)}}function yn(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",50)(1,"label",79),e.EFF(2,"Selecciona tu lote:"),e.k0s(),e.j41(3,"select",80),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.loteSeleccionado,o)||(t.loteSeleccionado=o),e.Njj(o)}),e.bIt("change",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.onLoteSeleccionado())}),e.j41(4,"option",61),e.EFF(5,"Selecciona un lote"),e.k0s(),e.DNE(6,En,2,2,"option",81),e.k0s(),e.DNE(7,wn,7,3,"div",82)(8,Vn,4,1,"div",76),e.k0s()}if(2&a){const i=e.XpG(2);e.R7$(3),e.R50("ngModel",i.loteSeleccionado),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",i.lotes),e.R7$(),e.Y8G("ngIf",i.ubicacionesLoteSeleccionado.length>1),e.R7$(),e.Y8G("ngIf",i.direccionSeleccionada&&1===i.ubicacionesLoteSeleccionado.length)}}function In(a,r){if(1&a){const i=e.RV6();e.j41(0,"button",86),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.limpiarImagenes())}),e.nrm(1,"ion-icon",87),e.EFF(2," Im\xe1genes "),e.k0s()}}function Gn(a,r){if(1&a&&(e.j41(0,"option",88),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i.value),e.R7$(),e.SpI(" ",i.label," ")}}function Nn(a,r){if(1&a&&(e.j41(0,"option",88),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i.label),e.R7$(),e.SpI(" ",i.label," ")}}function Tn(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",58)(1,"label"),e.EFF(2,"Kilometraje: "),e.j41(3,"span",59),e.EFF(4,"*"),e.k0s()(),e.j41(5,"input",89),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(2);return e.DH7(t.kilometraje,o)||(t.kilometraje=o),e.Njj(o)}),e.k0s()()}if(2&a){const i=e.XpG(2);e.R7$(5),e.R50("ngModel",i.kilometraje)}}function Dn(a,r){if(1&a&&(e.j41(0,"option",88),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i.value),e.R7$(),e.SpI(" ",i.label," ")}}function An(a,r){if(1&a&&(e.j41(0,"option",88),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i.value),e.R7$(),e.SpI(" ",i.label," ")}}function Xn(a,r){if(1&a&&(e.j41(0,"option",88),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i.value),e.R7$(),e.SpI(" ",i.label," ")}}function $n(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",47)(1,"div",48),e.DNE(2,Sn,5,1,"div",49)(3,yn,9,5,"div",49),e.j41(4,"div",50)(5,"button",51),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.seleccionarImagenes())}),e.nrm(6,"ion-icon",52),e.EFF(7," Seleccionar Im\xe1genes "),e.j41(8,"label",53),e.nrm(9,"span",54)(10,"ion-icon",55),e.k0s()(),e.DNE(11,In,3,0,"button",56),e.k0s()(),e.j41(12,"div",57)(13,"div",58)(14,"label"),e.EFF(15,"Tipo de cami\xf3n: "),e.j41(16,"span",59),e.EFF(17,"*"),e.k0s()(),e.j41(18,"select",60),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.tipoCamion,o)||(t.tipoCamion=o),e.Njj(o)}),e.j41(19,"option",61),e.EFF(20,"Selecciona un tipo"),e.k0s(),e.DNE(21,Gn,2,2,"option",62),e.k0s()(),e.j41(22,"div",58)(23,"label"),e.EFF(24,"Precio: "),e.j41(25,"span",59),e.EFF(26,"*"),e.k0s()(),e.j41(27,"input",63),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.precio,o)||(t.precio=o),e.Njj(o)}),e.k0s()(),e.j41(28,"div",58)(29,"label"),e.EFF(30,"Moneda:"),e.k0s(),e.j41(31,"select",64),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.moneda,o)||(t.moneda=o),e.Njj(o)}),e.j41(32,"option",65),e.EFF(33,"MXN - Pesos mexicanos"),e.k0s(),e.j41(34,"option",66),e.EFF(35,"USD - D\xf3lares estadounidenses"),e.k0s()()(),e.j41(36,"div",58)(37,"label"),e.EFF(38,"Color: "),e.j41(39,"span",59),e.EFF(40,"*"),e.k0s()(),e.j41(41,"select",60),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.color,o)||(t.color=o),e.Njj(o)}),e.j41(42,"option",61),e.EFF(43,"Selecciona un color"),e.k0s(),e.DNE(44,Nn,2,2,"option",62),e.k0s()(),e.DNE(45,Tn,6,1,"div",67),e.j41(46,"div",58)(47,"label"),e.EFF(48," N\xfamero de ejes: "),e.j41(49,"span",68),e.EFF(50,"(opcional)"),e.k0s()(),e.j41(51,"select",64),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.ejes,o)||(t.ejes=o),e.Njj(o)}),e.j41(52,"option",69),e.EFF(53,"Selecciona una opci\xf3n"),e.k0s(),e.j41(54,"option",70),e.EFF(55,"2 ejes"),e.k0s(),e.j41(56,"option",70),e.EFF(57,"3 ejes"),e.k0s(),e.j41(58,"option",70),e.EFF(59,"4 ejes"),e.k0s(),e.j41(60,"option",70),e.EFF(61,"5 ejes"),e.k0s(),e.j41(62,"option",70),e.EFF(63,"6 ejes"),e.k0s(),e.j41(64,"option",70),e.EFF(65,"7 ejes"),e.k0s(),e.j41(66,"option",70),e.EFF(67,"8 ejes"),e.k0s(),e.j41(68,"option",70),e.EFF(69,"9 ejes"),e.k0s(),e.j41(70,"option",70),e.EFF(71,"10 ejes"),e.k0s()()(),e.j41(72,"div",58)(73,"label"),e.EFF(74," Capacidad de carga (toneladas): "),e.j41(75,"span",68),e.EFF(76,"(opcional)"),e.k0s()(),e.j41(77,"select",64),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.capacidadCargaToneladas,o)||(t.capacidadCargaToneladas=o),e.Njj(o)}),e.j41(78,"option",69),e.EFF(79,"Selecciona una opci\xf3n"),e.k0s(),e.j41(80,"option",70),e.EFF(81,"0.5 toneladas"),e.k0s(),e.j41(82,"option",70),e.EFF(83,"1 tonelada"),e.k0s(),e.j41(84,"option",70),e.EFF(85,"1.25 toneladas"),e.k0s(),e.j41(86,"option",70),e.EFF(87,"1.4 toneladas"),e.k0s(),e.j41(88,"option",70),e.EFF(89,"1.5 toneladas"),e.k0s(),e.j41(90,"option",70),e.EFF(91,"2 toneladas"),e.k0s(),e.j41(92,"option",70),e.EFF(93,"3.5 toneladas"),e.k0s(),e.j41(94,"option",70),e.EFF(95,"5 toneladas"),e.k0s(),e.j41(96,"option",70),e.EFF(97,"7.5 toneladas"),e.k0s(),e.j41(98,"option",70),e.EFF(99,"10 toneladas"),e.k0s(),e.j41(100,"option",70),e.EFF(101,"11 toneladas"),e.k0s(),e.j41(102,"option",70),e.EFF(103,"14 toneladas"),e.k0s(),e.j41(104,"option",70),e.EFF(105,"20 toneladas"),e.k0s(),e.j41(106,"option",70),e.EFF(107,"30 toneladas"),e.k0s(),e.j41(108,"option",70),e.EFF(109,"50 toneladas"),e.k0s(),e.j41(110,"option",70),e.EFF(111,"100 toneladas"),e.k0s()()(),e.j41(112,"div",58)(113,"label"),e.EFF(114," Transmisi\xf3n: "),e.j41(115,"span",68),e.EFF(116,"(opcional)"),e.k0s()(),e.j41(117,"select",64),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.transmision,o)||(t.transmision=o),e.Njj(o)}),e.j41(118,"option",61),e.EFF(119,"Selecciona una opci\xf3n"),e.k0s(),e.DNE(120,Dn,2,2,"option",62),e.k0s()(),e.j41(121,"div",58)(122,"label"),e.EFF(123," Combustible: "),e.j41(124,"span",68),e.EFF(125,"(opcional)"),e.k0s()(),e.j41(126,"select",64),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.combustible,o)||(t.combustible=o),e.Njj(o)}),e.j41(127,"option",61),e.EFF(128,"Selecciona una opci\xf3n"),e.k0s(),e.DNE(129,An,2,2,"option",62),e.k0s()(),e.j41(130,"div",58)(131,"label"),e.EFF(132," Potencia (HP): "),e.j41(133,"span",68),e.EFF(134,"(opcional)"),e.k0s()(),e.j41(135,"input",71),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.potenciaHP,o)||(t.potenciaHP=o),e.Njj(o)}),e.k0s()(),e.j41(136,"div",58)(137,"label"),e.EFF(138," Tipo de cabina: "),e.j41(139,"span",68),e.EFF(140,"(opcional)"),e.k0s()(),e.j41(141,"select",64),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.tipoCabina,o)||(t.tipoCabina=o),e.Njj(o)}),e.j41(142,"option",61),e.EFF(143,"Selecciona una opci\xf3n"),e.k0s(),e.DNE(144,Xn,2,2,"option",62),e.k0s()(),e.j41(145,"div",72)(146,"label"),e.EFF(147," Descripci\xf3n del cami\xf3n: "),e.j41(148,"span",68),e.EFF(149,"(opcional)"),e.k0s()(),e.j41(150,"textarea",73),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG();return e.DH7(t.descripcion,o)||(t.descripcion=o),e.Njj(o)}),e.k0s()()()()}if(2&a){const i=e.XpG();e.R7$(2),e.Y8G("ngIf","particular"==i.tipoSeleccionado),e.R7$(),e.Y8G("ngIf","lote"===i.tipoSeleccionado),e.R7$(5),e.AVh("activo",i.imagenesValidas)("inactivo",!i.imagenesValidas),e.R7$(3),e.Y8G("ngIf",i.imagenesIntentadas),e.R7$(7),e.R50("ngModel",i.tipoCamion),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",i.tiposCamion),e.R7$(6),e.R50("ngModel",i.precio),e.R7$(4),e.R50("ngModel",i.moneda),e.R7$(10),e.R50("ngModel",i.color),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",i.colores),e.R7$(),e.Y8G("ngIf","Nuevo"!==i.estadoCamion),e.R7$(6),e.R50("ngModel",i.ejes),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",3),e.R7$(2),e.Y8G("ngValue",4),e.R7$(2),e.Y8G("ngValue",5),e.R7$(2),e.Y8G("ngValue",6),e.R7$(2),e.Y8G("ngValue",7),e.R7$(2),e.Y8G("ngValue",8),e.R7$(2),e.Y8G("ngValue",9),e.R7$(2),e.Y8G("ngValue",10),e.R7$(7),e.R50("ngModel",i.capacidadCargaToneladas),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngValue",.5),e.R7$(2),e.Y8G("ngValue",1),e.R7$(2),e.Y8G("ngValue",1.25),e.R7$(2),e.Y8G("ngValue",1.4),e.R7$(2),e.Y8G("ngValue",1.5),e.R7$(2),e.Y8G("ngValue",2),e.R7$(2),e.Y8G("ngValue",3.5),e.R7$(2),e.Y8G("ngValue",5),e.R7$(2),e.Y8G("ngValue",7.5),e.R7$(2),e.Y8G("ngValue",10),e.R7$(2),e.Y8G("ngValue",11),e.R7$(2),e.Y8G("ngValue",14),e.R7$(2),e.Y8G("ngValue",20),e.R7$(2),e.Y8G("ngValue",30),e.R7$(2),e.Y8G("ngValue",50),e.R7$(2),e.Y8G("ngValue",100),e.R7$(7),e.R50("ngModel",i.transmision),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",i.tiposTransmision),e.R7$(6),e.R50("ngModel",i.combustible),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",i.tiposCombustible),e.R7$(6),e.R50("ngModel",i.potenciaHP),e.R7$(6),e.R50("ngModel",i.tipoCabina),e.R7$(),e.Y8G("ngValue",null),e.R7$(2),e.Y8G("ngForOf",i.tiposCabina),e.R7$(6),e.R50("ngModel",i.descripcion)}}let G=(()=>{var a;class r{constructor(n,o,t,c,s,d){this.camionesService=n,this.generalService=o,this.modalController=t,this.router=c,this.registroService=s,this.contactosService=d,this.precio=null,this.color="",this.kilometraje=null,this.tipoCamion="",this.moneda="MXN",this.ejes=null,this.capacidadCargaToneladas=null,this.transmision="",this.combustible="",this.potenciaHP=null,this.tipoCabina="",this.descripcion="",this.estadoCamion="",this.estadoCamion_logico="",this.listaAnios=[],this.versiones=[],this.versionesDisponibles=!1,this.versionSeleccionada=[],this.preciosVersiones={},this.ubicacionSeleccionada=null,this.mostrar_spinnet=!1,this.direccionCompleta="Obteniendo ubicaci\xf3n...",this.Pregunta=null,this.tipoSeleccionado="particular",this.lotes=[],this.totalLotes=0,this.ubicacionesLoteSeleccionado=[],this.ubicacionesLoteLegibles=[],this.loteSeleccionado=null,this.direccionSeleccionada=null,this.seccionFormulario=1,this.nombreCamion="",this.anioCamion=null,this.precioEstimado=null,this.tipoFactura="",this.versionSeleccionadaTexto="",this.MyRole=null,this.colores=[{label:"Blanco"},{label:"Negro"},{label:"Gris"},{label:"Plateado"},{label:"Rojo"},{label:"Azul"},{label:"Azul marino"},{label:"Verde"},{label:"Verde oscuro"},{label:"Beige"},{label:"Caf\xe9"},{label:"Amarillo"},{label:"Naranja"},{label:"Vino"},{label:"Oro"},{label:"Otro"}],this.tiposCamion=[{label:"Cami\xf3n de carga",value:"carga"},{label:"Tractocami\xf3n",value:"tractocamion"},{label:"Cami\xf3n cisterna",value:"cisterna"},{label:"Volquete",value:"volquete"},{label:"Cami\xf3n plataforma",value:"plataforma"},{label:"Cami\xf3n frigor\xedfico",value:"frigorifico"},{label:"Cami\xf3n gr\xfaa",value:"grua"},{label:"Cami\xf3n de pasajeros",value:"pasajeros"},{label:"Otro",value:"otro"}],this.tiposCabina=[{label:"Cabina simple",value:"simple"},{label:"Cabina extendida",value:"extendida"},{label:"Cabina doble",value:"doble"},{label:"Cabina dormitorio",value:"dormitorio"},{label:"Otro",value:"otro"}],this.tiposTransmision=[{label:"Manual",value:"manual"},{label:"Autom\xe1tica",value:"automatica"},{label:"Semiautom\xe1tica",value:"semiautomatica"},{label:"Otro",value:"otro"}],this.tiposCombustible=[{label:"Di\xe9sel",value:"diesel"},{label:"Gasolina",value:"gasolina"},{label:"Gas natural",value:"gas_natural"},{label:"El\xe9ctrico",value:"electrico"},{label:"H\xedbrido",value:"hibrido"},{label:"Otro",value:"otro"}],this.imagenesValidas=!1,this.imagenPrincipal=null,this.imagenesSecundarias=[],this.imagenesIntentadas=!1}ngOnInit(){var n=this;return(0,u.A)(function*(){n.generalService.tipoRol$.subscribe(o=>{"admin"===o||"lotero"===o||"transportista"===o||"cliente"===o?(n.MyRole=o,"admin"===n.MyRole?(n.Pregunta="si",n.seccionFormulario=2):"lotero"===n.MyRole?(n.Pregunta="si",n.seccionFormulario=2,n.tipoSeleccionado="lote",n.getLotes("mios")):(n.Pregunta="no",n.seccionFormulario=1,n.tipoSeleccionado="particular"),n.generarListaAnios(),n.definirEstadoCamion()):(n.generalService.eliminarToken(),n.generalService.alert("\xa1Saliste de tu sesi\xf3n Error - 707!","\xa1Hasta pronto!","info"))}),console.log("CamionComponent iniciado con:",{anio:n.anio,marca:n.marca,modelo:n.modelo})})()}generarListaAnios(){for(let o=(new Date).getFullYear();o>=1980;o--)this.listaAnios.push(o)}definirEstadoCamion(){const n=(new Date).getFullYear();this.anio===n&&"admin"===this.MyRole?(this.estadoCamion="Nuevo",this.estadoCamion_logico="nuevo",this.kilometraje=0):this.anio===n&&"admin"!==this.MyRole||this.anio>=n-5?(this.estadoCamion="Seminuevo",this.estadoCamion_logico="seminuevo"):this.anio<2005&&this.anio>=1980?(this.estadoCamion="Usado",this.estadoCamion_logico="viejito"):(this.estadoCamion="Usado",this.estadoCamion_logico="usado")}onTipoChange(n){this.mostrar_spinnet=!0,setTimeout(()=>{this.mostrar_spinnet=!1,this.estadoCamion=n.detail.value,this.estadoCamion_logico=this.estadoCamion.toLowerCase(),"nuevo"===this.estadoCamion_logico&&(this.kilometraje=0)},1e3)}onSeleccionVersion(n){this.versionSeleccionadaTexto=n,console.log("Versi\xf3n seleccionada:",n)}toggleVersion(n,o){this.versionSeleccionada[n]=!this.versionSeleccionada[n],this.versionSeleccionada[n]||delete this.preciosVersiones[o]}seleccionarTipo(n){this.tipoSeleccionado=n}continuar(){this.tipoSeleccionado&&("lote"===this.tipoSeleccionado&&this.getLotes("mios"),this.Pregunta="no")}quienLovende(n){0===n?this.seccionFormulario=2:(this.seccionFormulario=3,this.generarListaAnios())}seleccionarUbicacion(){var n=this;return(0,u.A)(function*(){const o=yield n.modalController.create({component:O.D});yield o.present();const{data:t}=yield o.onDidDismiss();t&&(n.ubicacionSeleccionada=t,n.ubicacionSeleccionada&&n.generalService.obtenerDireccionDesdeCoordenadas(n.ubicacionSeleccionada[2],n.ubicacionSeleccionada[3]).then(c=>n.direccionCompleta=c).catch(()=>n.direccionCompleta="No se pudo obtener la direcci\xf3n."))})()}validarUbicacion(){const o="lote"===this.tipoSeleccionado||"empresa"===this.tipoSeleccionado;if("particular"===this.tipoSeleccionado)return!(!this.ubicacionSeleccionada||4!==this.ubicacionSeleccionada.length||"number"!=typeof this.ubicacionSeleccionada[2]||"number"!=typeof this.ubicacionSeleccionada[3])||(this.generalService.alert("Ubicaci\xf3n requerida","Selecciona la ubicaci\xf3n del cami\xf3n en el mapa.","warning"),!1);if(o){const t=this.lotes.find(c=>c._id===this.loteSeleccionado);return t?!(t.direccion.length>1&&!this.direccionSeleccionada&&(this.generalService.alert("Ubicaci\xf3n del lote requerida","Selecciona una ubicaci\xf3n espec\xedfica del lote.","warning"),1)):(this.generalService.alert("Lote requerido","Selecciona un lote o empresa v\xe1lido.","warning"),!1)}return!1}getLotes(n){var t,o=this;this.registroService.allLotes(n).subscribe({next:(t=(0,u.A)(function*(c){if(o.lotes=c.lotes||[],o.totalLotes=o.lotes.length,1===o.lotes.length){const s=o.lotes[0];o.loteSeleccionado=s._id,o.ubicacionesLoteSeleccionado=s.direccion,o.leerLatLng()}}),function(s){return t.apply(this,arguments)}),error:function(){var t=(0,u.A)(function*(c){console.error("Error al obtener lotes:",c),yield o.generalService.loadingDismiss(),yield o.generalService.alert("Verifica tu red","Error de red. Intenta m\xe1s tarde.","danger")});return function(s){return t.apply(this,arguments)}}()})}onLoteSeleccionado(){const n=this.lotes.find(o=>o._id===this.loteSeleccionado);this.ubicacionesLoteSeleccionado=(null==n?void 0:n.direccion)||[],this.leerLatLng()}leerLatLng(){if(1===this.ubicacionesLoteSeleccionado.length)this.direccionSeleccionada=this.ubicacionesLoteSeleccionado[0],this.generalService.obtenerDireccionDesdeCoordenadas(this.direccionSeleccionada.lat,this.direccionSeleccionada.lng).then(n=>this.direccionCompleta=n).catch(()=>this.direccionCompleta="No se pudo obtener la direcci\xf3n.");else{this.direccionSeleccionada=null,this.ubicacionesLoteLegibles=[];const n=this.ubicacionesLoteSeleccionado.map(o=>this.generalService.obtenerDireccionDesdeCoordenadas(o.lat,o.lng));Promise.all(n).then(o=>this.ubicacionesLoteLegibles=o).catch(()=>this.ubicacionesLoteLegibles=this.ubicacionesLoteSeleccionado.map(()=>"No disponible"))}}seleccionarImagenes(){var n=this;return(0,u.A)(function*(){const o=yield n.modalController.create({component:F.i,backdropDismiss:!1,componentProps:{estadoVehiculo:n.estadoCamion}});yield o.present();const{data:t}=yield o.onDidDismiss();if(t){if(n.imagenesIntentadas=!0,n.imagenPrincipal=t.imagenPrincipal,n.imagenesSecundarias=t.imagenesSecundarias||[],"Nuevo"===n.estadoCamion){if(!n.imagenPrincipal)return n.generalService.alert("Falta imagen principal","Selecciona una imagen principal para continuar.","warning"),n.imagenesValidas=!1,!1;n.imagenesValidas=!0}else if("Seminuevo"===n.estadoCamion||"Usado"===n.estadoCamion){if(!n.imagenPrincipal)return n.generalService.alert("Falta imagen principal","Selecciona una imagen principal para continuar.","warning"),n.imagenesValidas=!1,!1;if(n.imagenesSecundarias.length<2)return n.generalService.alert("Im\xe1genes insuficientes","Debes seleccionar al menos 2 im\xe1genes secundarias para camiones usados o seminuevos.","warning"),n.imagenesValidas=!1,!1;n.imagenesValidas=!0}return n.imagenesValidas}return console.log("\u26d4 Modal cancelado o sin im\xe1genes."),n.imagenesValidas=!1,!1})()}limpiarImagenes(){this.generalService.confirmarAccion("\xbfEst\xe1s seguro de que deseas eliminar las im\xe1genes seleccionadas?","Eliminar im\xe1genes",()=>{this.imagenPrincipal=null,this.imagenesSecundarias=[],this.imagenesValidas=!1,this.imagenesIntentadas=!1})}validarEjes(){return null===this.ejes||!(!Number.isInteger(this.ejes)||this.ejes<2||this.ejes>10)||(this.generalService.alert("N\xfamero de ejes inv\xe1lido","El n\xfamero de ejes debe ser un n\xfamero entero entre 2 y 10.","warning"),!1)}EnviarCamion(){var n=this;return(0,u.A)(function*(){let o=!1,t=!1;("Nuevo"===n.estadoCamion||"nuevo"===n.estadoCamion_logico)&&(n.kilometraje=0),"Nuevo"===n.estadoCamion||"nuevo"===n.estadoCamion_logico?(o=yield n.validacionesAntesdeEnviarForm_Nuevos(),o&&(t=yield n.prepararFormularioParaEnvio_Nuevo())):(o=yield n.validacionesAntesdeEnviarForm_Usados(),o&&(t=yield n.prepararFormularioParaEnvio_Usado())),o&&t?n.generalService.confirmarAccion("\xbfEst\xe1s seguro de que deseas enviar esta informaci\xf3n?","Confirmar env\xedo",(0,u.A)(function*(){yield n.enviarDatos(t)}),"Al continuar, confirmas que los datos proporcionados sobre tu cami\xf3n son correctos y ser\xe1n publicados."):n.generalService.loadingDismiss()})()}validacionesAntesdeEnviarForm_Nuevos(){var n=this;return(0,u.A)(function*(){return!(!n.validarUbicacion()||(n.tipoCamion?n.color?!n.precio||isNaN(Number(n.precio))||Number(n.precio)<=0?(n.generalService.alert("Precio requerido","Debes ingresar un precio v\xe1lido.","warning"),1):n.precio<5e4||n.precio>1e7?(n.generalService.alert("Precio inv\xe1lido","El precio debe estar entre $50,000 y $10,000,000.","warning"),1):n.imagenPrincipal?""===n.estadoCamion?(n.generalService.alert("Tipo de venta requerido","Debes seleccionar si el cami\xf3n es para venta, renta o ambos.","warning"),1):(n.kilometraje=0,0):(n.generalService.alert("Falta imagen principal","Selecciona una imagen principal para continuar.","warning"),1):(n.generalService.alert("Color requerido","Por favor, selecciona un color para el cami\xf3n.","warning"),1):(n.generalService.alert("Tipo de cami\xf3n requerido","Debes seleccionar el tipo de cami\xf3n.","warning"),1)))})()}validacionesAntesdeEnviarForm_Usados(){var n=this;return(0,u.A)(function*(){return!(!n.validarUbicacion()||(n.tipoCamion?!n.precio||isNaN(Number(n.precio))||Number(n.precio)<=0?(n.generalService.alert("Precio requerido","Debes ingresar un precio v\xe1lido.","warning"),1):n.precio<3e4||n.precio>1e7?(n.generalService.alert("Precio inv\xe1lido","El precio debe estar entre $30,000 y $10,000,000.","warning"),1):n.color?null==n.kilometraje||isNaN(Number(n.kilometraje))?(n.generalService.alert("Kilometraje requerido","Debes ingresar un kilometraje v\xe1lido para el cami\xf3n usado o seminuevo.","warning"),1):"Seminuevo"===n.estadoCamion&&n.kilometraje>12e4?(n.generalService.alert("Kilometraje elevado para seminuevo","Para un cami\xf3n seminuevo, el kilometraje no deber\xeda superar los 120,000 km.","warning"),1):("Usado"===n.estadoCamion&&n.kilometraje>12e5&&n.generalService.alert("Kilometraje muy elevado","Este cami\xf3n tiene m\xe1s de 1,200,000 km. Puede ser dif\xedcil de vender o requerir mantenimiento importante.","warning"),""===n.estadoCamion?(n.generalService.alert("Tipo de venta requerido","Debes seleccionar si el cami\xf3n es para venta, renta o ambos.","warning"),1):!n.validarEjes()||(n.imagenPrincipal?!Array.isArray(n.imagenesSecundarias)||n.imagenesSecundarias.length<2?(n.generalService.alert("Im\xe1genes secundarias insuficientes","Para camiones usados o seminuevos, debes seleccionar al menos 2 im\xe1genes secundarias.","warning"),1):n.imagenesSecundarias.length>10&&(n.generalService.alert("Demasiadas im\xe1genes","Puedes subir un m\xe1ximo de 10 im\xe1genes secundarias.","warning"),1):(n.generalService.alert("Falta imagen principal","Selecciona una imagen principal para continuar.","warning"),1))):(n.generalService.alert("Color requerido","Por favor, selecciona un color para el cami\xf3n.","warning"),1):(n.generalService.alert("Tipo de cami\xf3n requerido","Debes seleccionar el tipo de cami\xf3n.","warning"),1)))})()}prepararFormularioParaEnvio_Nuevo(){var n=this;return(0,u.A)(function*(){const o=new FormData;if(o.append("anio",n.anio.toString()),o.append("marca",n.marca),o.append("modelo",n.modelo),o.append("tipoCamion",n.tipoCamion),o.append("color",n.color),o.append("precio",String(n.precio)),o.append("moneda",n.moneda),o.append("tipoVenta",n.estadoCamion),o.append("kilometraje","0"),null!=n.ejes&&o.append("ejes",String(n.ejes)),null!=n.capacidadCargaToneladas&&o.append("capacidadCargaToneladas",String(n.capacidadCargaToneladas)),n.transmision&&o.append("transmision",n.transmision),n.combustible&&o.append("combustible",n.combustible),null!=n.potenciaHP&&o.append("potenciaHP",String(n.potenciaHP)),n.tipoCabina&&o.append("tipoCabina",n.tipoCabina),n.descripcion&&o.append("descripcion",n.descripcion),n.ubicacionSeleccionada)o.append("ubicacion",JSON.stringify({ciudad:n.ubicacionSeleccionada[0],estado:n.ubicacionSeleccionada[1],lat:n.ubicacionSeleccionada[2],lng:n.ubicacionSeleccionada[3]}));else if("lote"===n.tipoSeleccionado||"empresa"===n.tipoSeleccionado){const t=n.lotes.find(s=>s._id===n.loteSeleccionado),c=(null==t?void 0:t.direccion.length)>1?n.direccionSeleccionada:null==t?void 0:t.direccion[0];c&&(o.append("ubicacion",JSON.stringify({ciudad:c.ciudad,estado:c.estado,lat:c.lat,lng:c.lng})),o.append("lote",t._id))}if(n.imagenPrincipal&&(o.append("imagenPrincipal",n.imagenPrincipal),o.append("imagenes",n.imagenPrincipal)),n.imagenesSecundarias&&n.imagenesSecundarias.length>0)for(const t of n.imagenesSecundarias)o.append("imagenes",t);return o})()}prepararFormularioParaEnvio_Usado(){var n=this;return(0,u.A)(function*(){const o=new FormData;if(o.append("anio",n.anio.toString()),o.append("marca",n.marca),o.append("modelo",n.modelo),o.append("tipoCamion",n.tipoCamion),o.append("color",n.color),o.append("precio",String(n.precio)),o.append("moneda",n.moneda),o.append("tipoVenta",n.estadoCamion),o.append("vehiculo","camion"),o.append("estadoVehiculo","disponible"),o.append("kilometraje",String(n.kilometraje||0)),null!=n.ejes&&o.append("ejes",String(n.ejes)),null!=n.capacidadCargaToneladas&&o.append("capacidadCargaToneladas",String(n.capacidadCargaToneladas)),n.transmision&&o.append("transmision",n.transmision),n.combustible&&o.append("combustible",n.combustible),null!=n.potenciaHP&&o.append("potenciaHP",String(n.potenciaHP)),n.tipoCabina&&o.append("tipoCabina",n.tipoCabina),n.descripcion&&o.append("descripcion",n.descripcion),n.ubicacionSeleccionada)o.append("ubicacion",JSON.stringify({ciudad:n.ubicacionSeleccionada[0],estado:n.ubicacionSeleccionada[1],lat:n.ubicacionSeleccionada[2],lng:n.ubicacionSeleccionada[3]}));else if("lote"===n.tipoSeleccionado||"empresa"===n.tipoSeleccionado){const t=n.lotes.find(s=>s._id===n.loteSeleccionado),c=(null==t?void 0:t.direccion.length)>1?n.direccionSeleccionada:null==t?void 0:t.direccion[0];c&&(o.append("ubicacion",JSON.stringify({ciudad:c.ciudad,estado:c.estado,lat:c.lat,lng:c.lng})),o.append("lote",t._id))}if(n.imagenPrincipal&&(o.append("imagenPrincipal",n.imagenPrincipal),o.append("imagenes",n.imagenPrincipal)),n.imagenesSecundarias&&n.imagenesSecundarias.length>0)for(const t of n.imagenesSecundarias)o.append("imagenes",t);return o})()}enviarDatos(n){var o=this;return(0,u.A)(function*(){o.generalService.loading("Guardando cami\xf3n..."),console.log("Enviando datos del cami\xf3n..."),o.camionesService.guardarCamion(n).subscribe({next:t=>{if(t.token&&t.rol){const c=JSON.parse(localStorage.getItem("user")||"{}");c.rol=t.rol,localStorage.setItem("user",JSON.stringify(c)),localStorage.setItem("token",t.token)}o.router.navigate(["/mis-camiones"]),o.generalService.loadingDismiss(),o.generalService.alert("\xa1Cami\xf3n agregado correctamente!","El cami\xf3n fue agregado correctamente.","success")},error:t=>{var c;o.generalService.loadingDismiss(),console.error("Error al guardar cami\xf3n:",t);const s=(null==t||null===(c=t.error)||void 0===c?void 0:c.message)||"Ocurri\xf3 un error inesperado";o.generalService.alert("\xa1Algo sali\xf3 mal!",s,"danger")},complete:()=>o.generalService.loadingDismiss()})})()}}return(a=r).\u0275fac=function(n){return new(n||a)(e.rXU(bn.L),e.rXU(v.O),e.rXU(l.W3),e.rXU(x.Ix),e.rXU(E.f),e.rXU(R.q))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-camion"]],inputs:{anio:"anio",marca:"marca",modelo:"modelo",tipo:"tipo"},decls:6,vars:5,consts:[["class","resumen-estado",4,"ngIf"],["class","tipo-vehiculo-container",4,"ngIf"],["class","pregunta-vendedor",4,"ngIf"],["class","formulario-publicacion",4,"ngIf"],["class","formulario",4,"ngIf"],[1,"resumen-estado"],[1,"fila-info-inline"],["class","estilo_unico",4,"ngIf"],["class","field field-tipo-inline",4,"ngIf"],["type","button",1,"btn-guardar",3,"click"],["name","save-outline",1,"icono-guardar"],[1,"estilo_unico"],[1,"field","field-tipo-inline"],[1,"tipo-inline-wrapper"],["interface","popover",1,"select-tipo-inline",3,"ionChange","value"],["value","Nuevo"],["value","Seminuevo"],["value","Usado"],[1,"tipo-vehiculo-container"],[1,"titulo-tipo"],[1,"opciones-vehiculo"],[1,"casilla",3,"click"],["src","assets/img/particular.png","alt","Particular"],["name","checkmark-circle-outline","class","icono-check",4,"ngIf"],["src","assets/img/lote.png","alt","Lote"],[1,"contenedor-boton"],[1,"btn-continuar",3,"click","disabled"],["name","arrow-forward-outline"],["name","checkmark-circle-outline",1,"icono-check"],[1,"pregunta-vendedor"],[1,"texto-pregunta"],[1,"botones-vendedor"],[1,"btn-vender-yo",3,"click"],[1,"btn-vende-go",3,"click"],["src","assets/icon/logo4.png","alt","Go Transportes",1,"logo-boton"],[1,"formulario-publicacion"],[1,"info-texto"],[1,"info-grid"],["position","stacked"],["type","number","placeholder","Solo n\xfameros",3,"ngModelChange","ngModel"],["placeholder","Selecciona una opci\xf3n",3,"ngModelChange","ngModel"],["value","original"],["value","refacturada"],["value","sin factura"],[1,"btn-wsp-container"],[1,"btn-wsp",3,"click"],["name","logo-whatsapp","slot","start"],[1,"formulario"],[1,"contenedor-botones"],["class","bloque-imagenes",4,"ngIf"],[1,"bloque-imagenes"],["type","button",1,"btn-imagenes",3,"click"],["name","image-outline"],[1,"radio-validacion"],[1,"radio-custom"],["name","checkmark-outline"],["class","btn-limpiar","type","button",3,"click",4,"ngIf"],[1,"grid-form"],[1,"campo"],[1,"requerido"],["required","",3,"ngModelChange","ngModel"],["disabled","","selected","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],["type","number","min","0","placeholder","Precio del cami\xf3n","required","",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["value","MXN"],["value","USD"],["class","campo",4,"ngIf"],[1,"opcional_css"],["selected","",3,"ngValue"],[3,"ngValue"],["type","number","min","0","placeholder","Ej. 450",3,"ngModelChange","ngModel"],[1,"campo","campo-descripcion"],["rows","4","placeholder","Ej. Cami\xf3n en excelente estado, \xfanico due\xf1o...",3,"ngModelChange","ngModel"],["type","button",3,"click"],["name","location-outline",1,"icono"],["class","ubicacion-mostrada",4,"ngIf"],[1,"ubicacion-mostrada"],["name","location-outline"],["for","loteSelect"],["id","loteSelect",1,"select-lote",3,"ngModelChange","change","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],["class","bloque-direcciones",4,"ngIf"],[1,"bloque-direcciones"],["for","direccionSelect"],["id","direccionSelect",1,"select-lote",3,"ngModelChange","ngModel"],["type","button",1,"btn-limpiar",3,"click"],["name","trash-outline"],[3,"value"],["type","number","min","0","placeholder","Ej. 45000","required","",3,"ngModelChange","ngModel"]],template:function(n,o){1&n&&(e.j41(0,"section"),e.DNE(1,vn,19,5,"div",0)(2,Fn,18,7,"div",1)(3,On,9,0,"div",2)(4,jn,41,6,"div",3)(5,$n,151,56,"div",4),e.k0s()),2&n&&(e.R7$(),e.Y8G("ngIf",2==o.seccionFormulario&&"no"==o.Pregunta),e.R7$(),e.Y8G("ngIf","si"==o.Pregunta),e.R7$(),e.Y8G("ngIf","particular"==o.tipoSeleccionado&&"admin"!==o.MyRole&&1==o.seccionFormulario),e.R7$(),e.Y8G("ngIf","particular"===o.tipoSeleccionado&&3===o.seccionFormulario&&("cliente"===o.MyRole||"transportista"===o.MyRole)),e.R7$(),e.Y8G("ngIf","no"==o.Pregunta&&2==o.seccionFormulario))},dependencies:[l.bv,l.iq,l.$w,l.uz,l.he,l.Nm,l.Ip,l.su,l.Je,g.MD,g.Sq,g.bT,_.YN,_.xH,_.y7,_.me,_.Q0,_.wz,_.BC,_.YS,_.VZ,_.vS,_.X1],styles:['@charset "UTF-8";section[_ngcontent-%COMP%]{margin-top:14px;font-family:-apple-system,system-ui,BlinkMacSystemFont,SF Pro Text,Helvetica Neue,Arial,sans-serif}.resumen-estado[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:10px;padding:10px 14px;margin:0 4px 8px;background:#fff;border-radius:16px;border:1px solid rgba(60,60,67,.15);box-shadow:0 10px 24px #0f172a29,0 0 0 .5px #fffc}.fila-info-inline[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:16px}.fila-info-inline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:#3c3c43;white-space:nowrap}@media (max-width: 768px){.fila-info-inline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}}.fila-info-inline[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;margin-left:4px;color:#111827}.estilo_unico[_ngcontent-%COMP%]{font-size:13px;padding:6px 10px;border-radius:999px;border:1px solid #ff3b30;background:#ff3b300f;color:#ff3b30}.field-tipo-inline[_ngcontent-%COMP%]{display:flex;align-items:center}.tipo-inline-wrapper[_ngcontent-%COMP%]{width:135px;height:32px;border-radius:999px;border:1px solid #ff3b30;overflow:hidden;background:#fff;display:flex;align-items:center;justify-content:center}.tipo-inline-wrapper[_ngcontent-%COMP%]   ion-select.select-tipo-inline[_ngcontent-%COMP%]{width:100%;height:100%;--min-height: 32px;--padding-start: 8px;--padding-end: 8px;--background: transparent;--color: #111827;--placeholder-color: #8e8e93;--highlight-color-focused: transparent;text-align:center;font-size:13px;font-weight:600}.btn-guardar[_ngcontent-%COMP%]{border:none;outline:none;background:linear-gradient(135deg,#ff3b30,#ff453a);color:#fff;border-radius:999px;padding:8px 16px;font-size:13px;font-weight:600;display:inline-flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 10px 20px #ff453a66;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.btn-guardar[_ngcontent-%COMP%]   ion-icon.icono-guardar[_ngcontent-%COMP%]{font-size:18px}.btn-guardar[_ngcontent-%COMP%]:hover{transform:translateY(-1px);filter:brightness(1.02);box-shadow:0 12px 26px #ff453a80}.btn-guardar[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 7px 18px #ff453a4d}.tipo-vehiculo-container[_ngcontent-%COMP%]{text-align:center;margin:20px auto 10px;padding:16px 12px 18px;max-width:540px;background:#fff;border-radius:18px;border:1px solid rgba(60,60,67,.12);box-shadow:0 12px 24px #0f172a2e,0 0 0 .5px #ffffffe6}.tipo-vehiculo-container[_ngcontent-%COMP%]   .titulo-tipo[_ngcontent-%COMP%]{font-size:18px;font-weight:700;margin:0 0 12px;color:#111827}.tipo-vehiculo-container[_ngcontent-%COMP%]   .opciones-vehiculo[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:14px;flex-wrap:wrap}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]{width:132px;height:132px;border-radius:18px;background-color:#f2f2f7;border:1px solid transparent;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;cursor:pointer;transition:background .18s ease,border-color .18s ease,box-shadow .18s ease,transform .12s ease}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;margin-bottom:8px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:13px;color:#111827}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   .icono-check[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;color:#ff3b30;font-size:18px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla.activa[_ngcontent-%COMP%]{background-color:#fff;border-color:#ff3b30;box-shadow:0 10px 22px #ff453a47;transform:translateY(-1px)}.tipo-vehiculo-container[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]:hover{background-color:#fff}.tipo-vehiculo-container[_ngcontent-%COMP%]   .contenedor-boton[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:18px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]{border:none;border-radius:999px;padding:10px 24px;background:linear-gradient(135deg,#ff3b30,#ff453a);color:#fff;font-weight:600;font-size:15px;display:inline-flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 10px 22px #ff453a66;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);filter:brightness(1.02);box-shadow:0 12px 26px #ff453a80}.tipo-vehiculo-container[_ngcontent-%COMP%]   .btn-continuar[_ngcontent-%COMP%]:disabled{background:linear-gradient(135deg,#ffb3b8,#ffc2c0);box-shadow:none;cursor:not-allowed}.pregunta-vendedor[_ngcontent-%COMP%]{margin:18px auto;padding:18px 16px;max-width:580px;background:#fff;border-radius:18px;border:1px solid rgba(60,60,67,.12);box-shadow:0 12px 24px #0f172a29,0 0 0 .5px #ffffffe6}.pregunta-vendedor[_ngcontent-%COMP%]   .texto-pregunta[_ngcontent-%COMP%]{font-size:17px;font-weight:600;margin:0 0 16px;color:#111827}.pregunta-vendedor[_ngcontent-%COMP%]   .botones-vendedor[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:12px}.pregunta-vendedor[_ngcontent-%COMP%]   .btn-vender-yo[_ngcontent-%COMP%], .pregunta-vendedor[_ngcontent-%COMP%]   .btn-vende-go[_ngcontent-%COMP%]{padding:10px 18px;font-size:14px;font-weight:600;border-radius:999px;border:none;cursor:pointer;display:inline-flex;align-items:center;gap:8px;box-shadow:0 8px 18px #0f172a2e;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.pregunta-vendedor[_ngcontent-%COMP%]   .btn-vender-yo[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0a84ff,#4dabff);color:#fff}.pregunta-vendedor[_ngcontent-%COMP%]   .btn-vende-go[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff3b30,#ff453a);color:#fff}.pregunta-vendedor[_ngcontent-%COMP%]   .btn-vender-yo[_ngcontent-%COMP%]:hover, .pregunta-vendedor[_ngcontent-%COMP%]   .btn-vende-go[_ngcontent-%COMP%]:hover{transform:translateY(-1px);filter:brightness(1.03)}.pregunta-vendedor[_ngcontent-%COMP%]   .logo-boton[_ngcontent-%COMP%]{height:18px}.formulario-publicacion[_ngcontent-%COMP%]{margin-top:18px;padding:16px 14px 18px;border-radius:18px;background:#f2f2f7;border:1px solid rgba(60,60,67,.1)}.formulario-publicacion[_ngcontent-%COMP%]   .info-texto[_ngcontent-%COMP%]{font-size:14px;color:#1c1c1e;margin-bottom:10px}.formulario-publicacion[_ngcontent-%COMP%]   .info-texto[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#111827}.formulario-publicacion[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:12px}.formulario-publicacion[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px}.formulario-publicacion[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-left:4px;font-weight:600}.formulario-publicacion[_ngcontent-%COMP%]   .info-grid[_ngcontent-%COMP%]   .estilo_unico[_ngcontent-%COMP%]{margin-left:auto}.formulario-publicacion[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #ffffff;--inner-border-width: 0;--padding-start: 0;--padding-end: 0;--highlight-color-focused: #ff3b30;border-radius:12px;margin-bottom:10px;box-shadow:0 1px 4px #0f172a1f}.formulario-publicacion[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .formulario-publicacion[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 8px;--background: transparent;font-size:14px}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp-container[_ngcontent-%COMP%]{text-align:center;margin-top:16px}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp[_ngcontent-%COMP%]{border:none;border-radius:999px;padding:10px 22px;background:#25d366;color:#fff;font-weight:600;font-size:14px;display:inline-flex;align-items:center;gap:8px;cursor:pointer;box-shadow:0 12px 22px #25d36673;transition:transform .14s ease,box-shadow .16s ease,filter .14s ease}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.formulario-publicacion[_ngcontent-%COMP%]   .btn-wsp[_ngcontent-%COMP%]:hover{transform:translateY(-1px);filter:brightness(1.02)}.formulario[_ngcontent-%COMP%]{margin-top:18px;padding:14px 12px 18px;border-radius:18px;background:#f2f2f7;border:1px solid rgba(60,60,67,.12)}.contenedor-botones[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;align-items:stretch;margin-bottom:10px}.contenedor-botones[_ngcontent-%COMP%]   .bloque-imagenes[_ngcontent-%COMP%]{flex:1 1 260px;display:flex;flex-direction:column;gap:8px}.contenedor-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:999px;border:1px solid rgba(60,60,67,.18);background:#fff;padding:8px 14px;font-size:13px;font-weight:600;display:inline-flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 4px 10px #0f172a1f;transition:background .14s ease,box-shadow .16s ease,transform .12s ease}.contenedor-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.contenedor-botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f8f9fb;transform:translateY(-1px)}.contenedor-botones[_ngcontent-%COMP%]   .select-lote[_ngcontent-%COMP%]{margin-top:6px;border-radius:12px;border:1px solid rgba(60,60,67,.18);padding:8px 12px;font-size:13px;background:#fff;outline:none;-webkit-appearance:none}.contenedor-botones[_ngcontent-%COMP%]   .select-lote[_ngcontent-%COMP%]:focus{border-color:#ff3b30;box-shadow:0 0 0 2px #ff3b302e}.contenedor-botones[_ngcontent-%COMP%]   .ubicacion-mostrada[_ngcontent-%COMP%]{margin-top:6px;padding:8px 10px;border-radius:12px;background:#fff;border-left:3px solid #ff3b30;font-size:12px;color:#3c3c43;display:flex;align-items:flex-start;gap:6px}.contenedor-botones[_ngcontent-%COMP%]   .ubicacion-mostrada[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:#ff3b30;margin-top:2px}.contenedor-botones[_ngcontent-%COMP%]   .btn-imagenes[_ngcontent-%COMP%]{position:relative}.contenedor-botones[_ngcontent-%COMP%]   .btn-limpiar[_ngcontent-%COMP%]{background:#fff5f4;border-color:#ff3b3059;color:#b91c1c;font-size:11px}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion[_ngcontent-%COMP%]{margin-left:auto;display:inline-flex;align-items:center;gap:4px}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion[_ngcontent-%COMP%]   .radio-custom[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;border:1px solid rgba(60,60,67,.35)}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:14px}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion.activo[_ngcontent-%COMP%]   .radio-custom[_ngcontent-%COMP%]{background:#34c759;border-color:#34c759}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion.activo[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#34c759}.contenedor-botones[_ngcontent-%COMP%]   .radio-validacion.inactivo[_ngcontent-%COMP%]{opacity:.35}.grid-form[_ngcontent-%COMP%]{margin-top:4px;background:#fff;border-radius:16px;padding:12px;box-shadow:0 8px 20px #0f172a1f;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:12px}@media (max-width: 900px){.grid-form[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (max-width: 640px){.grid-form[_ngcontent-%COMP%]{grid-template-columns:1fr}}.campo[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.campo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#3c3c43}.campo[_ngcontent-%COMP%]   .requerido[_ngcontent-%COMP%]{color:#ff3b30}.campo[_ngcontent-%COMP%]   .opcional_css[_ngcontent-%COMP%]{font-size:10px;color:#8e8e93}.campo-descripcion[_ngcontent-%COMP%]{grid-column:1/-1}.campo[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .campo[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .campo[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;border-radius:12px;border:1px solid rgba(60,60,67,.18);background:#f2f2f7;padding:8px 10px;font-size:13px;color:#111827;outline:none;-webkit-appearance:none}.campo[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .campo[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus, .campo[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#ff3b30;box-shadow:0 0 0 2px #ff3b302e;background:#fff}.campo[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.grid-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:8px;margin-top:10px}.grid-info[_ngcontent-%COMP%]   .card-especificaciones[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:10px 12px;border:1px solid rgba(60,60,67,.12);box-shadow:0 8px 18px #0f172a1f}.grid-info[_ngcontent-%COMP%]   .card-especificaciones[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:15px;font-weight:600;color:#111827}.grid-info[_ngcontent-%COMP%]   .card-especificaciones[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.grid-info[_ngcontent-%COMP%]   .card-especificaciones[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:14px;margin-bottom:4px;font-size:12px;color:#374151}.grid-info[_ngcontent-%COMP%]   .card-especificaciones[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:7px;width:6px;height:6px;border-radius:50%;background:#ff3b30}.grid-info[_ngcontent-%COMP%]   .card-especificaciones[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600}']}),r})();const Yn=["contenedorCategorias"],Ln=["contenedorForm"];function Bn(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar",7)(2,"ion-buttons",8)(3,"button",9),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.regresar())}),e.nrm(4,"ion-icon",10),e.k0s(),e.j41(5,"div",11),e.nrm(6,"img",12),e.j41(7,"span",13),e.EFF(8,"Publicar veh\xedculo"),e.k0s()()(),e.j41(9,"ion-buttons",14)(10,"ion-button",15),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.regresar())}),e.nrm(11,"ion-icon",16),e.k0s()()()()}}function zn(a,r){1&a&&e.nrm(0,"app-navbar")}function Un(a,r){1&a&&(e.j41(0,"div",25),e.EFF(1," Pr\xf3ximamente "),e.k0s())}function Hn(a,r){1&a&&(e.j41(0,"div",26),e.EFF(1," \u2714 "),e.k0s())}function qn(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",19),e.bIt("click",function(){const o=e.eBV(i).$implicit,t=e.XpG(2);return e.Njj(t.manejarClick(o))}),e.DNE(1,Un,2,0,"div",20),e.j41(2,"div",21),e.nrm(3,"img",22),e.DNE(4,Hn,2,0,"div",23),e.k0s(),e.j41(5,"div",24),e.EFF(6),e.k0s()()}if(2&a){const i=r.$implicit,n=e.XpG(2);e.AVh("activa",i.tipo===n.seleccion&&n.puedeActivar(i.tipo))("desactivada",i.proximamente||"lote"===i.tipo),e.R7$(),e.Y8G("ngIf",i.proximamente),e.R7$(2),e.Y8G("src",i.icono,e.B4B)("alt",i.label),e.R7$(),e.Y8G("ngIf",i.tipo===n.seleccion&&n.puedeActivar(i.tipo)),e.R7$(2),e.JRh(i.label)}}function Jn(a,r){if(1&a&&(e.j41(0,"div",17,0),e.DNE(2,qn,7,9,"div",18),e.k0s()),2&a){const i=e.XpG();e.AVh("seleccion-activa",i.esDispositivoMovil&&!!i.seleccion),e.R7$(2),e.Y8G("ngForOf",i.opciones)}}function Kn(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",34),e.EFF(1," Para publicar y vender un veh\xedculo, primero debes iniciar sesi\xf3n o crear una cuenta. "),e.j41(2,"button",35),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.irAInicio())}),e.EFF(3,"Acceder"),e.k0s()()}}function Wn(a,r){if(1&a&&(e.j41(0,"ion-select-option",54),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",i),e.R7$(),e.SpI(" ",i," ")}}function Qn(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-input",55),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(4);return e.DH7(t.anioManual,o)||(t.anioManual=o),e.Njj(o)}),e.bIt("ionInput",function(){e.eBV(i);const o=e.XpG(4);return e.Njj(o.verificarAnio("escrito"))}),e.k0s()}if(2&a){const i=e.XpG(4);e.R50("ngModel",i.anioManual)}}function Zn(a,r){if(1&a&&(e.j41(0,"p",56),e.EFF(1),e.k0s()),2&a){const i=e.XpG(4);e.R7$(),e.SpI(" ",i.mansaje_error," ")}}function eo(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",38)(1,"label",47),e.EFF(2,"A\xf1o "),e.j41(3,"span",40),e.EFF(4,"*"),e.k0s()(),e.j41(5,"ion-select",48),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.DH7(t.anioSeleccionado,o)||(t.anioSeleccionado=o),e.Njj(o)}),e.bIt("ionChange",function(){e.eBV(i);const o=e.XpG(3);return e.Njj(o.verificarAnio("select"))}),e.j41(6,"ion-select-option",49),e.EFF(7,"Selecciona un a\xf1o"),e.k0s(),e.DNE(8,Wn,2,2,"ion-select-option",50),e.j41(9,"ion-select-option",51),e.EFF(10,"Otro\u2026"),e.k0s()(),e.DNE(11,Qn,1,1,"ion-input",52)(12,Zn,2,1,"p",53),e.k0s()}if(2&a){const i=e.XpG(3);e.R7$(5),e.R50("ngModel",i.anioSeleccionado),e.R7$(3),e.Y8G("ngForOf",i.listaAnios),e.R7$(3),e.Y8G("ngIf",i.mostrarInputOtroAnio),e.R7$(),e.Y8G("ngIf",i.mostrarInputOtroAnio&&i.mansaje_error)}}function no(a,r){if(1&a&&(e.j41(0,"ion-select-option",54),e.EFF(1),e.k0s()),2&a){const i=r.$implicit,n=e.XpG(4);e.Y8G("value","auto"===n.seleccion||"renta"===n.seleccion?i.key:i._id),e.R7$(),e.SpI(" ",i.nombre," ")}}function oo(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-select",57),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.DH7(t.marcaSeleccionada,o)||(t.marcaSeleccionada=o),e.Njj(o)}),e.bIt("ionChange",function(){e.eBV(i);const o=e.XpG(3);return e.Njj(o.obtenerModelosSiCorresponde())}),e.j41(1,"ion-select-option",49),e.EFF(2,"Selecciona una marca"),e.k0s(),e.DNE(3,no,2,2,"ion-select-option",50),e.j41(4,"ion-select-option",51),e.EFF(5,"Otra marca\u2026"),e.k0s()()}if(2&a){const i=e.XpG(3);e.R50("ngModel",i.marcaSeleccionada),e.Y8G("disabled","renta"!==i.seleccion&&!i.anioValido),e.R7$(3),e.Y8G("ngForOf",i.marcas)}}function io(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-input",58),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.DH7(t.marcaSeleccionada,o)||(t.marcaSeleccionada=o),e.Njj(o)}),e.bIt("ionBlur",function(){e.eBV(i);const o=e.XpG(3);return e.Njj(o.obtenerModelosSiCorresponde())}),e.k0s()}if(2&a){const i=e.XpG(3);e.R50("ngModel",i.marcaSeleccionada)}}function to(a,r){if(1&a&&(e.j41(0,"ion-select-option",54),e.EFF(1),e.k0s()),2&a){const i=r.$implicit;e.Y8G("value",(null==i?null:i.modelo)||(null==i?null:i.nombre)),e.R7$(),e.SpI(" ",(null==i?null:i.modelo)||(null==i?null:i.nombre)," ")}}function ao(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-select",59),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.DH7(t.modeloSeleccionado,o)||(t.modeloSeleccionado=o),e.Njj(o)}),e.bIt("ionChange",function(){e.eBV(i);const o=e.XpG(3);return e.Njj(o.selecionarModelo())}),e.j41(1,"ion-select-option",49),e.EFF(2,"Selecciona un modelo"),e.k0s(),e.DNE(3,to,2,2,"ion-select-option",50),e.j41(4,"ion-select-option",51),e.EFF(5,"Otro modelo\u2026"),e.k0s()()}if(2&a){const i=e.XpG(3);e.R50("ngModel",i.modeloSeleccionado),e.Y8G("disabled",!i.marcaSeleccionada),e.R7$(3),e.Y8G("ngForOf",i.modelos)}}function co(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-input",60),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.DH7(t.modeloSeleccionado,o)||(t.modeloSeleccionado=o),e.Njj(o)}),e.bIt("ionBlur",function(){e.eBV(i);const o=e.XpG(3);return e.Njj(o.validarInputModelo())}),e.k0s()}if(2&a){const i=e.XpG(3);e.R50("ngModel",i.modeloSeleccionado)}}function ro(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-input",61),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.DH7(t.modeloSeleccionado,o)||(t.modeloSeleccionado=o),e.Njj(o)}),e.bIt("ionInput",function(){e.eBV(i);const o=e.XpG(3);return e.Njj(o.selecionarModelo())}),e.k0s()}if(2&a){const i=e.XpG(3);e.R50("ngModel",i.modeloSeleccionado)}}function so(a,r){if(1&a&&(e.j41(0,"ion-select-option",54),e.EFF(1),e.k0s()),2&a){const i=r.$implicit,n=e.XpG(4);e.Y8G("value","auto"===n.seleccion?i.modelo:i.nombre),e.R7$(),e.SpI(" ","auto"===n.seleccion?i.modelo:i.nombre," ")}}function lo(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-select",59),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.DH7(t.modeloSeleccionado,o)||(t.modeloSeleccionado=o),e.Njj(o)}),e.bIt("ionChange",function(){e.eBV(i);const o=e.XpG(3);return e.Njj(o.selecionarModelo())}),e.j41(1,"ion-select-option",49),e.EFF(2,"Selecciona un modelo"),e.k0s(),e.DNE(3,so,2,2,"ion-select-option",50),e.j41(4,"ion-select-option",51),e.EFF(5,"Otro modelo\u2026"),e.k0s()()}if(2&a){const i=e.XpG(3);e.R50("ngModel",i.modeloSeleccionado),e.Y8G("disabled",!i.marcaSeleccionada),e.R7$(3),e.Y8G("ngForOf",i.modelos)}}function po(a,r){if(1&a){const i=e.RV6();e.j41(0,"ion-input",60),e.mxI("ngModelChange",function(o){e.eBV(i);const t=e.XpG(3);return e.DH7(t.modeloSeleccionado,o)||(t.modeloSeleccionado=o),e.Njj(o)}),e.bIt("ionBlur",function(){e.eBV(i);const o=e.XpG(3);return e.Njj(o.validarInputModelo())}),e.k0s()}if(2&a){const i=e.XpG(3);e.R50("ngModel",i.modeloSeleccionado)}}function go(a,r){if(1&a&&(e.j41(0,"div",36),e.DNE(1,eo,13,4,"div",37),e.j41(2,"div",38)(3,"label",39),e.EFF(4,"Marca "),e.j41(5,"span",40),e.EFF(6,"*"),e.k0s()(),e.DNE(7,oo,6,3,"ion-select",41)(8,io,1,1,"ion-input",42),e.k0s(),e.j41(9,"div",38)(10,"label",43),e.EFF(11,"Modelo "),e.j41(12,"span",40),e.EFF(13,"*"),e.k0s()(),e.DNE(14,ao,6,3,"ion-select",44)(15,co,1,1,"ion-input",45)(16,ro,1,1,"ion-input",46)(17,lo,6,3,"ion-select",44)(18,po,1,1,"ion-input",45),e.k0s()()),2&a){const i=e.XpG(2);e.R7$(),e.Y8G("ngIf","renta"!==i.seleccion),e.R7$(6),e.Y8G("ngIf",!i.marcaEsPersonalizada),e.R7$(),e.Y8G("ngIf",i.marcaEsPersonalizada),e.R7$(6),e.Y8G("ngIf","renta"===i.seleccion&&!i.modeloEsPersonalizado),e.R7$(),e.Y8G("ngIf","renta"===i.seleccion&&i.modeloEsPersonalizado),e.R7$(),e.Y8G("ngIf","renta"!==i.seleccion&&i.esAnioAnteriorA2008()),e.R7$(),e.Y8G("ngIf","renta"!==i.seleccion&&!i.esAnioAnteriorA2008()&&!i.modeloEsPersonalizado),e.R7$(),e.Y8G("ngIf","renta"!==i.seleccion&&i.modeloEsPersonalizado)}}function uo(a,r){if(1&a){const i=e.RV6();e.j41(0,"button",62),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.mostrarComponente())}),e.EFF(1," Continuar "),e.nrm(2,"ion-icon",63),e.k0s()}if(2&a){const i=e.XpG(2);e.Y8G("disabled",!i.formularioValido())}}function _o(a,r){if(1&a){const i=e.RV6();e.j41(0,"div",64)(1,"button",65),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.volverAtras())}),e.nrm(2,"ion-icon",66),e.EFF(3," Regresar "),e.k0s(),e.j41(4,"div",67),e.nrm(5,"img",68),e.j41(6,"p"),e.EFF(7),e.k0s()()()}if(2&a){const i=e.XpG(2);e.R7$(5),e.Y8G("src",i.mostrarIcono,e.B4B),e.R7$(2),e.JRh(i.mostrarSelecion)}}function mo(a,r){if(1&a&&e.nrm(0,"app-car",69),2&a){const i=e.XpG(2);e.Y8G("anio",i.obtenerAnioActual())("marca",i.marcaSeleccionada)("modelo",i.modeloSeleccionado)("tipo",i.seleccion)}}function fo(a,r){if(1&a&&e.nrm(0,"app-motos",69),2&a){const i=e.XpG(2);e.Y8G("anio",i.obtenerAnioActual())("marca",i.getMarcaNombreSeleccionada())("modelo",i.modeloSeleccionado)("tipo",i.seleccion)}}function ho(a,r){if(1&a){const i=e.RV6();e.j41(0,"app-renta",70),e.bIt("rentaSubmit",function(o){e.eBV(i);const t=e.XpG(2);return e.Njj(t.registrarRenta(o))}),e.k0s()}if(2&a){const i=e.XpG(2);e.Y8G("anio",0)("marca",i.marcaSeleccionada)("modelo",i.modeloSeleccionado)("tipo",i.seleccion)}}function bo(a,r){if(1&a&&e.nrm(0,"app-camion",69),2&a){const i=e.XpG(2);e.Y8G("anio",i.obtenerAnioActual())("marca",i.getMarcaNombreSeleccionada())("modelo",i.modeloSeleccionado)("tipo",i.seleccion)}}function xo(a,r){1&a&&e.nrm(0,"app-add")}function Co(a,r){if(1&a&&(e.j41(0,"div",27),e.DNE(1,Kn,4,0,"div",28)(2,go,19,8,"div",29)(3,uo,3,1,"button",30)(4,_o,8,2,"div",31)(5,mo,1,4,"app-car",32)(6,fo,1,4,"app-motos",32)(7,ho,1,4,"app-renta",33)(8,bo,1,4,"app-camion",32)(9,xo,1,0,"app-add",1),e.k0s()),2&a){const i=e.XpG();e.R7$(),e.Y8G("ngIf",!i.isLoggedIn&&"lote"!=i.seleccion),e.R7$(),e.Y8G("ngIf",!i.mostrarCarComponent&&i.isLoggedIn),e.R7$(),e.Y8G("ngIf",!i.mostrarCarComponent&&i.isLoggedIn&&("auto"===i.seleccion||"moto"===i.seleccion||"renta"===i.seleccion||"camion"===i.seleccion)),e.R7$(),e.Y8G("ngIf",i.mostrarCarComponent),e.R7$(),e.Y8G("ngIf",i.mostrarCarComponent&&"auto"===i.seleccion),e.R7$(),e.Y8G("ngIf",i.mostrarCarComponent&&"moto"===i.seleccion),e.R7$(),e.Y8G("ngIf",i.mostrarCarComponent&&"renta"===i.seleccion),e.R7$(),e.Y8G("ngIf",i.mostrarCarComponent&&"camion"===i.seleccion),e.R7$(),e.Y8G("ngIf",i.mostrarCarComponent&&"lote"===i.seleccion)}}const vo=[{path:"",component:(()=>{var a;class r{constructor(n,o,t,c,s){this.generalService=n,this.carsService=o,this.router=t,this.motosService=c,this.menuCtrl=s,this.seleccion=null,this.mostrarSelecion="",this.mostrarIcono="",this.mostrarCarComponent=!1,this.opcionesBase=[{tipo:"auto",label:"Coches",icono:"assets/img/icon-coche.png",proximamente:!1},{tipo:"moto",label:"Motos",icono:"assets/img/icon-moto.png",proximamente:!1},{tipo:"camion",label:"Camiones",icono:"assets/img/icon-camion.png",proximamente:!1},{tipo:"lote",label:"Agencia seminuevos / Lote",icono:"assets/img/icon-lote.png",proximamente:!1}],this.opciones=[],this.listaAnios=[],this.anioSeleccionado="",this.anioManual="",this.mostrarInputOtroAnio=!1,this.anioValido=!1,this.marcaSeleccionada="",this.modeloSeleccionado="",this.modeloEsPersonalizado=!1,this.marcaEsPersonalizada=!1,this.tipoSeleccionado=null,this.seccionFormulario=2,this.Pregunta="no",this.isLoggedIn=!1,this.marcas=[],this.modelos=[],this.MyRole=null,this.esDispositivoMovil=!1,this.dispositivo="",this.mansaje_error="",this.generalService.tipoRol$.subscribe(d=>{this.MyRole=d}),this.generalService.dispositivo$.subscribe(d=>{this.esDispositivoMovil="telefono"===d||"tablet"===d,this.dispositivo=d})}ngOnInit(){this.menuCtrl.close("menuLateral"),this.generalService.tokenExistente$.subscribe(n=>{this.isLoggedIn=n}),this.generarListaAnios(),this.cargarOpcionesPorRol()}seleccionar(n,o,t){if(this.limpiarDependencias("all"),this.seleccion=n,this.mostrarSelecion=o,this.mostrarIcono=t,this.anioSeleccionado="",this.anioManual="",this.mostrarInputOtroAnio=!1,this.anioValido=!1,this.mansaje_error="","auto"===n||"moto"===n||"camion"===n?"lotero"===this.MyRole?(this.Pregunta="si",this.tipoSeleccionado=null,this.seccionFormulario=1):(this.Pregunta="no","admin"===this.MyRole?(this.seccionFormulario=2,this.tipoSeleccionado=null):(this.tipoSeleccionado="particular",this.seccionFormulario=1)):(this.Pregunta="no",this.seccionFormulario=2,this.tipoSeleccionado=null,this.anioSeleccionado="",this.anioManual="","renta"===n&&(this.anioValido=!0,this.obtenerMarcasSiCorresponde(0),this.modeloEsPersonalizado=!1,this.modelos=[])),this.generarListaAnios(),this.esDispositivoMovil&&this.contenedorCategorias){const c=this.contenedorCategorias.nativeElement;this.seleccion===n&&c.classList.contains("seleccion-activa")?(c.classList.remove("seleccion-activa"),this.seleccion=null):(c.classList.add("seleccion-activa"),this.seleccion=n,setTimeout(()=>{this.scrollAlFormulario()},100))}else this.contenedorCategorias&&(this.contenedorCategorias.nativeElement.classList.remove("seleccion-activa"),this.seleccion=n)}cargarOpcionesPorRol(){this.opciones=[...this.opcionesBase]}generarListaAnios(){const n=(new Date).getFullYear(),o=n+1;this.listaAnios=[],"admin"===this.MyRole&&("auto"===this.seleccion||"moto"===this.seleccion||"camion"===this.seleccion)&&this.listaAnios.push(o);for(let c=n;c>=2008;c--)this.listaAnios.push(c)}verificarAnio(n){if("renta"===this.seleccion)return;this.limpiarDependencias("all"),this.mostrarInputOtroAnio="otro"===this.anioSeleccionado;const o=this.obtenerAnioActual();this.anioValido="select"===n?this.validarAnio(o):this.validarAniOtro(o),console.log(this.anioValido),this.anioValido?(this.mansaje_error="",this.obtenerMarcasSiCorresponde(o)):this.mansaje_error="Seleciona un a\xf1o entre 2007 y 1900"}validarAniOtro(n){return n>=1801&&n<2008}validarAnio(n){const o=(new Date).getFullYear();return"auto"===this.seleccion||"moto"===this.seleccion||"camion"===this.seleccion?"admin"===this.MyRole?!isNaN(n)&&n>=2008&&n<=o+1:!isNaN(n)&&n>=2008&&n<=o:!isNaN(n)&&n>=1800&&n<=o}esAnioAnteriorA2008(){if("renta"===this.seleccion)return!1;const n=this.obtenerAnioActual();return this.anioValido&&n<2008}obtenerAnioActual(){return Number(this.mostrarInputOtroAnio?this.anioManual:this.anioSeleccionado)}limpiarDependencias(n){"marca"===n?(this.modeloSeleccionado="",this.modeloEsPersonalizado=!1,this.mostrarCarComponent=!1,this.mansaje_error=""):"modelo"===n?(this.mostrarCarComponent=!1,this.mansaje_error=""):"all"===n&&(this.marcaSeleccionada="",this.modeloSeleccionado="",this.modeloEsPersonalizado=!1,this.marcaEsPersonalizada=!1,this.marcas=[],this.modelos=[],this.mostrarCarComponent=!1,this.mansaje_error="")}selecionarModelo(){this.limpiarDependencias("modelo"),"otro"===this.modeloSeleccionado?(this.modeloEsPersonalizado=!0,this.modeloSeleccionado=""):this.modeloEsPersonalizado=!1}formularioValido(){if("renta"===this.seleccion){const d=!!this.marcaSeleccionada&&""!==this.marcaSeleccionada,m=!!this.modeloSeleccionado&&this.modeloSeleccionado.trim().length>0&&this.modeloSeleccionado.length<=25;return d&&m}const n=this.obtenerAnioActual(),o=(new Date).getFullYear();let t=this.anioValido&&n>=1800&&n<=o;t="auto"===this.seleccion||"moto"===this.seleccion||"camion"===this.seleccion?"admin"===this.MyRole?this.anioValido&&n>=2008&&n<=o+1:this.anioValido&&n>=2008&&n<=o:this.anioValido&&n>=1800&&n<=o;const c=!!this.marcaSeleccionada&&""!==this.marcaSeleccionada,s=!!this.modeloSeleccionado&&this.modeloSeleccionado.trim().length>0&&this.modeloSeleccionado.length<=25;return!!t&&c&&s}mostrarComponente(){this.obtenerAnioActual();const o=this.marcaSeleccionada,t=this.modeloSeleccionado,c=this.seleccion;if("renta"!==c)if(this.anioValido&&o&&t)switch(c){case"auto":case"moto":case"camion":this.mostrarCarComponent=!0;break;default:this.generalService.alert("Tipo no soportado","El tipo seleccionado no tiene un componente asociado.","warning"),this.mostrarCarComponent=!1}else this.generalService.alert("Datos incompletos","Debes seleccionar un a\xf1o v\xe1lido, una marca y un modelo para continuar.","warning"),this.mostrarCarComponent=!1;else o&&t?this.mostrarCarComponent=!0:(this.generalService.alert("Datos incompletos","Debes seleccionar una marca y un modelo para continuar.","warning"),this.mostrarCarComponent=!1)}volverAtras(){this.contenedorCategorias&&this.contenedorCategorias.nativeElement.classList.remove("seleccion-activa"),this.mostrarCarComponent=!1}scrollAlFormulario(){if(this.contenedorForm){const o=this.contenedorForm.nativeElement.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:o,behavior:"smooth"})}}isActiva(n){return this.seleccion===n}regresar(){window.history.back()}getMarcaNombreSeleccionada(){if(!this.marcaEsPersonalizada){const n=this.marcas.find(o=>o._id===this.marcaSeleccionada);return(null==n?void 0:n.nombre)||""}return this.marcaSeleccionada}validarInputModelo(){(!this.modeloSeleccionado||this.modeloSeleccionado.trim().length<2)&&(this.modeloSeleccionado="",this.modeloEsPersonalizado=!1)}obtenerMarcasSiCorresponde(n){switch(this.seleccion){case"auto":this.PeticionesMarcasDeAutos(n);break;case"renta":this.carsService.getMarcas_all().subscribe({next:o=>{this.marcas=(o||[]).sort((t,c)=>(t.nombre||"").toLowerCase().localeCompare((c.nombre||"").toLowerCase()))},error:o=>{var t;const c=(null==o||null===(t=o.error)||void 0===t?void 0:t.message)||"Error al cargar marcas - Renta";console.warn(c)},complete:()=>{this.generalService.loadingDismiss()}});break;case"moto":this.PeticionesMarcasDeMotos();break;case"camion":this.PeticionesMarcasDeCamion();break;case"lote":console.log("lote pr\xf3ximamente...");break;default:console.warn("Tipo no reconocido:",this.seleccion)}}obtenerModelosSiCorresponde(){if(this.limpiarDependencias("marca"),"otro"===this.marcaSeleccionada)return this.marcaSeleccionada="",this.marcaEsPersonalizada=!0,void(this.modelos=[]);switch(this.seleccion){case"auto":this.PeticionesModelosDeAutos();break;case"renta":this.PeticionesModelosParaRenta(this.marcaSeleccionada);break;case"moto":this.PeticionesModelosDeMotos();break;case"camion":this.PeticionesModelosDeCamion();break;case"lote":console.log("Arrendamiento pr\xf3ximamente...");break;default:console.warn("Tipo no reconocido:",this.seleccion)}}PeticionesModelosDeAutos(){const n=this.obtenerAnioActual(),o=this.marcaSeleccionada;!n||!o||"auto"!==this.seleccion||this.carsService.GetModelos(o,n).subscribe({next:t=>{this.modelos=t},error:t=>{console.error("Error al obtener modelos:",t)},complete:()=>{this.generalService.loadingDismiss()}})}PeticionesModelosParaRenta(n){if(!n)return void(this.modelos=[]);const o=(new Date).getFullYear();this.carsService.GetModelos(n,o).subscribe({next:t=>{const s=(Array.isArray(t)?t:Array.isArray(null==t?void 0:t.modelos)?t.modelos:Array.isArray(null==t?void 0:t.data)?t.data:[]).map(p=>null!=p&&p.modelo?{...p,modelo:String(p.modelo).trim()}:null!=p&&p.nombre?{...p,modelo:String(p.nombre).trim()}:"string"==typeof p?{modelo:p.trim()}:null).filter(Boolean),d=new Set,m=[];for(const p of s){const f=p.modelo.toLowerCase();d.has(f)||(d.add(f),m.push(p))}m.sort((p,f)=>(p.modelo||"").localeCompare(f.modelo||"")),this.modelos=m,this.modeloEsPersonalizado=!1},error:t=>{console.error("Error al obtener modelos (renta):",t),this.modelos=[]},complete:()=>{this.generalService.loadingDismiss()}})}PeticionesMarcasDeAutos(n){const o=(new Date).getFullYear();n>=2008&&n<=o+1?this.carsService.GetMarcas(n).subscribe({next:t=>{this.marcas=t},error:t=>{console.error("Error al obtener marcas:",t)},complete:()=>{this.generalService.loadingDismiss()}}):n<2008&&n>=1800&&this.carsService.getMarcas_all().subscribe({next:t=>{this.marcas=t.sort((c,s)=>c.nombre.toLowerCase().localeCompare(s.nombre.toLowerCase()))},error:t=>{var c;const s=(null==t||null===(c=t.error)||void 0===c?void 0:c.message)||"Error al cargar marcas - Carros";console.warn(s)},complete:()=>{this.generalService.loadingDismiss()}})}PeticionesMarcasDeMotos(){this.motosService.getMarcas().subscribe({next:n=>{this.marcas=n.sort((o,t)=>o.nombre.toLowerCase().localeCompare(t.nombre.toLowerCase()))},error:n=>{var o;const t=(null==n||null===(o=n.error)||void 0===o?void 0:o.message)||"Error al cargar marcas - Motos";console.warn(t)},complete:()=>{this.generalService.loadingDismiss()}})}PeticionesMarcasDeCamion(){this.carsService.GetMarcasCamiones().subscribe({next:n=>{this.marcas=n.sort((o,t)=>o.nombre.toLowerCase().localeCompare(t.nombre.toLowerCase()))},error:n=>{var o;const t=(null==n||null===(o=n.error)||void 0===o?void 0:o.message)||"Error al cargar marcas - camiones";console.warn(t)},complete:()=>{this.generalService.loadingDismiss()}})}PeticionesModelosDeCamion(){const n=this.marcaSeleccionada;!n||"camion"!==this.seleccion||this.carsService.GetModelosCamiones(n).subscribe({next:o=>{this.modelos=o},error:o=>{console.error("Error al obtener modelos:",o)},complete:()=>{this.generalService.loadingDismiss()}})}PeticionesModelosDeMotos(){const n=this.obtenerAnioActual(),o=this.marcaSeleccionada;this.limpiarDependencias("marca"),n&&o&&"moto"===this.seleccion?this.motosService.GetModelos(o).subscribe({next:t=>{this.modelos=t},error:t=>{console.error("Error al obtener modelos:",t)},complete:()=>{this.generalService.loadingDismiss()}}):this.generalService.alert("Datos incompletos","Por favor, selecciona un a\xf1o y una marca antes de continuar.","warning")}irAInicio(){this.router.navigateByUrl("/inicio")}registrarRenta(n){console.log("Submit Renta:",n)}manejarClick(n){"lote"!==n.tipo?"renta"!==n.tipo?this.seleccionar(n.tipo,n.label,n.icono):this.router.navigateByUrl("/renta/add-coche"):this.router.navigateByUrl("/add-lote")}puedeActivar(n){return"lote"!==n}}return(a=r).\u0275fac=function(n){return new(n||a)(e.rXU(v.O),e.rXU(S.R),e.rXU(x.Ix),e.rXU(P.A),e.rXU(l._t))},a.\u0275cmp=e.VBU({type:a,selectors:[["app-new-car"]],viewQuery:function(n,o){if(1&n&&(e.GBs(Yn,5),e.GBs(Ln,5)),2&n){let t;e.mGM(t=e.lsd())&&(o.contenedorCategorias=t.first),e.mGM(t=e.lsd())&&(o.contenedorForm=t.first)}},standalone:!1,decls:11,vars:5,consts:[["contenedorCategorias",""],[4,"ngIf"],[1,"newcar-bg",3,"fullscreen"],[1,"contenedor_espacio"],[1,"encabezado-subida"],["class","contenedor-categorias",3,"seleccion-activa",4,"ngIf"],["class","contenedor_form",4,"ngIf"],[1,"ios-toolbar","newcar-toolbar"],["slot","start"],[1,"btn-back-ios",3,"click"],["name","chevron-back-outline"],[1,"perfil-header"],["src","/assets/icon/logo2.png","alt","Go Autos",1,"logo"],[1,"titulo-ios"],["slot","end"],[1,"btn-close-ios",3,"click"],["name","close-outline"],[1,"contenedor-categorias"],["class","categoria-card",3,"activa","desactivada","click",4,"ngFor","ngForOf"],[1,"categoria-card",3,"click"],["class","etiqueta-proximamente",4,"ngIf"],[1,"icono"],[3,"src","alt"],["class","check-icono",4,"ngIf"],[1,"label"],[1,"etiqueta-proximamente"],[1,"check-icono"],[1,"contenedor_form"],["class","mensaje-autenticacion",4,"ngIf"],["class","fila-inputs",4,"ngIf"],["class","btn-guardar",3,"disabled","click",4,"ngIf"],["class","fila_select",4,"ngIf"],[3,"anio","marca","modelo","tipo",4,"ngIf"],[3,"anio","marca","modelo","tipo","rentaSubmit",4,"ngIf"],[1,"mensaje-autenticacion"],[1,"btn-acceso",3,"click"],[1,"fila-inputs"],["class","campo",4,"ngIf"],[1,"campo"],["for","marca"],[1,"requerido"],["mode","ios","interface","alert","placeholder","Selecciona una marca",3,"ngModel","disabled","ngModelChange","ionChange",4,"ngIf"],["type","text","maxlength","25","placeholder","Escribe la marca",3,"ngModel","ngModelChange","ionBlur",4,"ngIf"],["for","modelo"],["mode","ios","interface","alert","placeholder","Selecciona un modelo",3,"ngModel","disabled","ngModelChange","ionChange",4,"ngIf"],["type","text","maxlength","25","placeholder","Escribe el modelo",3,"ngModel","ngModelChange","ionBlur",4,"ngIf"],["type","text","maxlength","25","placeholder","Escribe el modelo",3,"ngModel","ngModelChange","ionInput",4,"ngIf"],["for","anio"],["mode","ios","interface","alert","placeholder","Selecciona un a\xf1o",3,"ngModelChange","ionChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","otro"],["type","number","min","1800","max","2007","placeholder","Escribe el a\xf1o",3,"ngModel","ngModelChange","ionInput",4,"ngIf"],["class","error_msj",4,"ngIf"],[3,"value"],["type","number","min","1800","max","2007","placeholder","Escribe el a\xf1o",3,"ngModelChange","ionInput","ngModel"],[1,"error_msj"],["mode","ios","interface","alert","placeholder","Selecciona una marca",3,"ngModelChange","ionChange","ngModel","disabled"],["type","text","maxlength","25","placeholder","Escribe la marca",3,"ngModelChange","ionBlur","ngModel"],["mode","ios","interface","alert","placeholder","Selecciona un modelo",3,"ngModelChange","ionChange","ngModel","disabled"],["type","text","maxlength","25","placeholder","Escribe el modelo",3,"ngModelChange","ionBlur","ngModel"],["type","text","maxlength","25","placeholder","Escribe el modelo",3,"ngModelChange","ionInput","ngModel"],[1,"btn-guardar",3,"click","disabled"],["name","arrow-forward-outline"],[1,"fila_select"],["type","button",1,"btn-regresar-ios",3,"click"],["name","chevron-back-outline",1,"icono-regresar"],[1,"seleccion-info"],["alt","icono seleccionado",3,"src"],[3,"anio","marca","modelo","tipo"],[3,"rentaSubmit","anio","marca","modelo","tipo"]],template:function(n,o){1&n&&(e.DNE(0,Bn,12,0,"ion-header",1)(1,zn,1,0,"app-navbar",1),e.j41(2,"ion-content",2)(3,"section",3)(4,"div",4)(5,"h1"),e.EFF(6,"Publica tu veh\xedculo"),e.k0s(),e.j41(7,"p"),e.EFF(8,"Elige qu\xe9 tipo es, llena los datos b\xe1sicos y contin\xfaa con los detalles."),e.k0s()(),e.DNE(9,Jn,3,3,"div",5)(10,Co,10,9,"div",6),e.k0s()()),2&n&&(e.Y8G("ngIf",o.esDispositivoMovil),e.R7$(),e.Y8G("ngIf",!o.esDispositivoMovil),e.R7$(),e.Y8G("fullscreen",!0),e.R7$(7),e.Y8G("ngIf",!o.mostrarCarComponent),e.R7$(),e.Y8G("ngIf","lote"===o.seleccion||"auto"===o.seleccion||"moto"===o.seleccion||"camion"===o.seleccion||"renta"===o.seleccion))},dependencies:[g.Sq,g.bT,_.BC,_.tU,_.vS,l.Jm,l.QW,l.W9,l.eU,l.iq,l.$w,l.Nm,l.Ip,l.ai,l.su,l.Je,l.Gw,l.T6,l.jL,M._,b.B,V,y,I,G],styles:['@charset "UTF-8";.newcar-bg[_ngcontent-%COMP%]{--background: #f2f2f7}.ios-toolbar.newcar-toolbar[_ngcontent-%COMP%]{--background: rgba(249, 249, 252, .94);--color: #111827;--border-color: rgba(0, 0, 0, .08);backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px);box-shadow:0 1px #0f172a0f;padding-inline:10px;min-height:56px;display:flex;align-items:center;justify-content:space-between}.btn-back-ios[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:4px;padding:5px 10px;border-radius:999px;border:none;background:#e5e5ea;color:#111827;font-size:13px}.btn-back-ios[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.btn-close-ios[_ngcontent-%COMP%]{--background: transparent;--color: #6b7280}.perfil-header[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;margin-left:6px}.perfil-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:54px;height:auto;object-fit:contain}.titulo-ios[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#111827}.contenedor_espacio[_ngcontent-%COMP%]{min-height:85svh;max-width:1000px;margin:0 auto;padding:16px 12px 24px;box-sizing:border-box}.contenedor-categorias[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-wrap:wrap;gap:20px;max-width:650px;margin:1rem auto 0;padding:1rem 0;transition:all .3s ease}@media (max-width: 820px){.contenedor-categorias[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;gap:12px;max-width:480px;padding:10px 14px;margin:0 auto}}@media (max-width: 380px){.contenedor-categorias[_ngcontent-%COMP%]{max-width:100%;gap:8px;padding:8px}}.contenedor-categorias[_ngcontent-%COMP%]   .categoria-card[_ngcontent-%COMP%]{width:110px;height:110px;background:#fff;border-radius:16px;border:1px solid #e2e2e2;box-shadow:0 3px 10px #0000000f;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;position:relative;transition:transform .22s ease,box-shadow .22s ease,border-color .22s ease,opacity .3s ease;padding:12px;box-sizing:border-box;transition:transform .18s ease,box-shadow .18s ease,border-color .18s ease,background .18s ease,opacity .2s ease;-webkit-tap-highlight-color:transparent;touch-action:manipulation}.contenedor-categorias[_ngcontent-%COMP%]   .categoria-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 22px #0f172a1f;border-color:#ff3b3073}.contenedor-categorias[_ngcontent-%COMP%]   .categoria-card.activa[_ngcontent-%COMP%]{border-color:#ff3b30e6;background:#fff5f5;box-shadow:0 12px 26px #ff3b3042;transform:translateY(-1px)}.contenedor-categorias[_ngcontent-%COMP%]   .categoria-card.desactivada[_ngcontent-%COMP%]{opacity:.45;cursor:default}@media (max-width: 820px){.contenedor-categorias[_ngcontent-%COMP%]   .categoria-card[_ngcontent-%COMP%]{width:100%;height:72px;border-radius:16px;padding:10px 12px;display:grid;grid-template-columns:32px 1fr;align-items:center;column-gap:10px}.contenedor-categorias[_ngcontent-%COMP%]   .categoria-card[_ngcontent-%COMP%]:active{transform:scale(.985)}}.contenedor-categorias[_ngcontent-%COMP%]   .categoria-card[_ngcontent-%COMP%]   .icono[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;object-fit:contain}@media (max-width: 820px){.contenedor-categorias[_ngcontent-%COMP%]   .categoria-card[_ngcontent-%COMP%]   .icono[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28px;height:28px}}.contenedor-categorias[_ngcontent-%COMP%]   .categoria-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-top:6px;font-size:14px;font-weight:600;color:#111827;text-align:center}@media (max-width: 820px){.contenedor-categorias[_ngcontent-%COMP%]   .categoria-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-top:0;text-align:left;font-size:13px}}.contenedor-categorias[_ngcontent-%COMP%]   .categoria-card[_ngcontent-%COMP%]   .check-icono[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;background:#ff3b30;color:#fff;font-size:11px;border-radius:999px;width:18px;height:18px;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 10px #ff3b3066}.contenedor-categorias[_ngcontent-%COMP%]   .categoria-card[_ngcontent-%COMP%]   .etiqueta-proximamente[_ngcontent-%COMP%]{position:absolute;top:6px;left:6px;padding:2px 6px;border-radius:999px;font-size:9px;font-weight:600;background:#f97316;color:#fff}@media (max-width: 820px){.contenedor-categorias.seleccion-activa[_ngcontent-%COMP%]   .categoria-card[_ngcontent-%COMP%]{display:none;opacity:0;transform:scale(.96);pointer-events:none}.contenedor-categorias.seleccion-activa[_ngcontent-%COMP%]   .categoria-card.activa[_ngcontent-%COMP%]{display:grid;opacity:1;transform:none;pointer-events:auto;margin-bottom:4px}}.contenedor_form[_ngcontent-%COMP%]{max-width:900px;width:100%;margin:8px auto 0;padding:16px 14px 18px;background:#fff;border-radius:22px;border:1px solid rgba(209,213,219,.9);box-shadow:0 16px 40px #0f172a29,0 0 0 .5px #ffffffe6;box-sizing:border-box;display:flex;flex-direction:column;gap:12px}@media (max-width: 820px){.contenedor_form[_ngcontent-%COMP%]{margin-top:4px;padding:12px 12px 16px;border-radius:20px}}.fila-inputs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px}.campo[_ngcontent-%COMP%]{flex:1 1 30%;min-width:0;display:flex;flex-direction:column;gap:4px}.campo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;font-size:13px;color:#374151}.requerido[_ngcontent-%COMP%]{color:#ef4444}.campo[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .campo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-otro-anio[_ngcontent-%COMP%], .input-personalizado[_ngcontent-%COMP%]{-moz-appearance:none;appearance:none;-webkit-appearance:none;border-radius:12px;border:1px solid rgba(209,213,219,.9);background:#f9fafb;padding:8px 12px;font-size:13px;color:#111827;outline:none;transition:border-color .16s ease,box-shadow .16s ease,background .16s ease}.campo[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .campo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .input-otro-anio[_ngcontent-%COMP%]:focus, .input-personalizado[_ngcontent-%COMP%]:focus{border-color:#ff3b30;box-shadow:0 0 0 1px #ff3b3038;background:#fff}.error_msj[_ngcontent-%COMP%]{color:#dc2626;font-size:11px}.btn-guardar[_ngcontent-%COMP%]{align-self:flex-end;margin-top:4px;padding:10px 18px;border-radius:999px;border:none;background:#ff3b30;color:#fff;font-weight:700;font-size:14px;display:inline-flex;align-items:center;gap:6px;cursor:pointer;box-shadow:0 10px 24px #ff3b3059;transition:transform .14s ease,box-shadow .16s ease,filter .16s ease}.btn-guardar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.btn-guardar[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);filter:brightness(1.05);box-shadow:0 14px 30px #ff3b3073}.btn-guardar[_ngcontent-%COMP%]:disabled{background:#e5e7eb;color:#9ca3af;box-shadow:none;cursor:default}.mensaje-autenticacion[_ngcontent-%COMP%]{font-size:13px;color:#374151;padding:12px 12px 10px;border-radius:16px;background:#fff7ed;border-left:4px solid #fb923c;margin-bottom:2px}.btn-acceso[_ngcontent-%COMP%]{margin-top:10px;padding:8px 16px;border-radius:999px;border:none;background:#ff3b30;color:#fff;font-weight:600;font-size:13px;cursor:pointer}.fila_select[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:6px 0 10px}.btn-regresar-ios[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;border-radius:999px;border:none;background:#e5e7eb;color:#111827;font-size:13px;font-weight:500;cursor:pointer}.btn-regresar-ios[_ngcontent-%COMP%]   .icono-regresar[_ngcontent-%COMP%]{font-size:18px}.seleccion-info[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}.seleccion-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px}.seleccion-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:600;color:#374151}@media (prefers-reduced-motion: reduce){.contenedor-categorias[_ngcontent-%COMP%], .categoria-card[_ngcontent-%COMP%], .contenedor_form[_ngcontent-%COMP%], .btn-guardar[_ngcontent-%COMP%]{transition:none!important}}']}),r})()}];let Mo=(()=>{var a;class r{}return(a=r).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[k.iI.forChild(vo),k.iI]}),r})();var Po=h(4371),Fo=h(7677),Oo=h(5473);let jo=(()=>{var a;class r{}return(a=r).\u0275fac=function(n){return new(n||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[g.MD,_.YN,l.bv,Mo,M._,Po.a,Fo.E,Oo.n,b.B,V,y,b.B,I,G]}),r})()}}]);