"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2274],{2274:(N,y,f)=>{f.r(y),f.d(y,{RentaFichaPageModule:()=>dn});var x=f(2881),T=f(9417),u=f(7343),I=f(9870),P=f(6697),F=f(5473),n=f(1360),E=f(2381),r=f(3104),$=f(5806);const A=()=>[1,2,3,4,5];function j(e,l){if(1&e&&(n.j41(0,"div",13),n.nrm(1,"img",14),n.j41(2,"span"),n.EFF(3),n.k0s()()),2&e){const o=n.XpG();n.R7$(3),n.Lme("",o.rental.marca," ",o.rental.modelo,"")}}function G(e,l){1&e&&(n.j41(0,"div",15),n.nrm(1,"div",16),n.j41(2,"div",17),n.EFF(3,"Cargando veh\xedculo..."),n.k0s()())}function U(e,l){if(1&e){const o=n.RV6();n.j41(0,"button",53),n.bIt("click",function(){n.eBV(o);const i=n.XpG(2);return n.Njj(i.cambiarImagen("anterior"))}),n.EFF(1,"\u2039"),n.k0s()}}function X(e,l){if(1&e){const o=n.RV6();n.j41(0,"button",54),n.bIt("click",function(){n.eBV(o);const i=n.XpG(2);return n.Njj(i.cambiarImagen("siguiente"))}),n.EFF(1,"\u203a"),n.k0s()}}function C(e,l){if(1&e){const o=n.RV6();n.j41(0,"img",57),n.bIt("click",function(){const i=n.eBV(o).$implicit,a=n.XpG(3);return n.Njj(a.imagenSeleccionada=i)}),n.k0s()}if(2&e){const o=l.$implicit,t=n.XpG(3);n.AVh("activa",o===t.imagenSeleccionada),n.Y8G("src",o,n.B4B)}}function D(e,l){if(1&e&&(n.j41(0,"div",55),n.DNE(1,C,1,3,"img",56),n.k0s()),2&e){const o=n.XpG(2);n.R7$(),n.Y8G("ngForOf",o.galeria)("ngForTrackBy",o.trackByUrl)}}function R(e,l){1&e&&(n.j41(0,"span"),n.EFF(1," \u2022 "),n.k0s())}function c(e,l){if(1&e&&(n.qex(0),n.EFF(1),n.DNE(2,R,2,0,"span",49),n.bVm()),2&e){const o=l.$implicit,t=l.index,i=n.XpG(2).ngIf;n.R7$(),n.Lme(" ",o.ciudad,", ",o.estado," "),n.R7$(),n.Y8G("ngIf",t<((null==i.ubicacion?null:i.ubicacion.length)||0)-1)}}function d(e,l){if(1&e&&(n.j41(0,"div",58),n.nrm(1,"ion-icon",59),n.j41(2,"span"),n.DNE(3,c,3,3,"ng-container",60),n.k0s()()),2&e){const o=n.XpG().ngIf;n.R7$(3),n.Y8G("ngForOf",o.ubicacion)}}function g(e,l){if(1&e&&(n.j41(0,"div",61)(1,"span",62),n.EFF(2,"Categor\xeda:"),n.k0s(),n.j41(3,"span",63),n.EFF(4),n.nI1(5,"titlecase"),n.k0s()()),2&e){const o=n.XpG().ngIf;n.R7$(4),n.JRh(n.bMT(5,1,o.tipoVehiculo))}}function _(e,l){if(1&e&&(n.j41(0,"div",64)(1,"strong",65),n.EFF(2),n.nI1(3,"currency"),n.k0s(),n.j41(4,"span",66),n.EFF(5,"/ d\xeda"),n.k0s()()),2&e){const o=n.XpG().ngIf;n.R7$(2),n.SpI(" ",n.brH(3,1,o.precio,"MXN","symbol-narrow")," ")}}function b(e,l){if(1&e&&n.nrm(0,"ion-icon",69),2&e){const o=l.$implicit,t=n.XpG(3);n.AVh("activa",o<=t.ratingEntero)}}function k(e,l){if(1&e&&(n.j41(0,"span"),n.EFF(1),n.nI1(2,"number"),n.k0s()),2&e){const o=n.XpG(2).ngIf;n.R7$(),n.SpI(" ",n.i5U(2,1,o.ratingPromedio,"1.1-1")," ")}}function O(e,l){if(1&e&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&e){const o=n.XpG(2).ngIf;n.R7$(),n.SpI(" \u2022 ",o.totalRentas," rentas ")}}function B(e,l){if(1&e&&(n.j41(0,"div",67),n.DNE(1,b,1,2,"ion-icon",68)(2,k,3,4,"span",49)(3,O,2,1,"span",49),n.k0s()),2&e){const o=n.XpG().ngIf;n.R7$(),n.Y8G("ngForOf",n.lJ4(3,A)),n.R7$(),n.Y8G("ngIf",o.ratingPromedio),n.R7$(),n.Y8G("ngIf",o.totalRentas)}}function L(e,l){if(1&e){const o=n.RV6();n.j41(0,"p",70),n.EFF(1," Al reservar aceptas el "),n.j41(2,"a",71),n.bIt("click",function(){n.eBV(o);const i=n.XpG(2);return n.Njj(i.abrirAviso())}),n.EFF(3,"Aviso de Privacidad"),n.k0s(),n.EFF(4," y los "),n.j41(5,"a",71),n.bIt("click",function(){n.eBV(o);const i=n.XpG(2);return n.Njj(i.abrirTerminos())}),n.EFF(6,"T\xe9rminos y condiciones"),n.k0s(),n.EFF(7,". "),n.k0s()}}function Y(e,l){if(1&e&&(n.j41(0,"ion-item"),n.nrm(1,"ion-icon",72),n.j41(2,"ion-label"),n.EFF(3,"Tipo"),n.k0s(),n.j41(4,"ion-note",7),n.EFF(5),n.nI1(6,"titlecase"),n.k0s()()),2&e){const o=n.XpG().ngIf;n.R7$(5),n.SpI(" ",n.bMT(6,1,o.tipoVehiculo)," ")}}function z(e,l){if(1&e&&(n.j41(0,"ion-item"),n.nrm(1,"ion-icon",73),n.j41(2,"ion-label"),n.EFF(3,"Transmisi\xf3n"),n.k0s(),n.j41(4,"ion-note",7),n.EFF(5),n.k0s()()),2&e){const o=n.XpG().ngIf;n.R7$(5),n.JRh(o.transmision)}}function V(e,l){if(1&e&&(n.j41(0,"ion-item"),n.nrm(1,"ion-icon",74),n.j41(2,"ion-label"),n.EFF(3,"Combustible"),n.k0s(),n.j41(4,"ion-note",7),n.EFF(5),n.k0s()()),2&e){const o=n.XpG().ngIf;n.R7$(5),n.JRh(o.combustible)}}function W(e,l){if(1&e&&(n.j41(0,"ion-item"),n.nrm(1,"ion-icon",75),n.j41(2,"ion-label"),n.EFF(3,"Pasajeros"),n.k0s(),n.j41(4,"ion-note",7),n.EFF(5),n.k0s()()),2&e){const o=n.XpG().ngIf;n.R7$(5),n.JRh(o.pasajeros)}}function K(e,l){if(1&e&&(n.j41(0,"ion-item"),n.nrm(1,"ion-icon",79),n.j41(2,"ion-label"),n.EFF(3,"Dep\xf3sito"),n.k0s(),n.j41(4,"ion-note",7),n.EFF(5),n.nI1(6,"currency"),n.k0s()()),2&e){const o=n.XpG(2).ngIf;n.R7$(5),n.SpI(" ",o.deposito>0?n.brH(6,1,o.deposito,"MXN","symbol-narrow"):"No requerido"," ")}}function H(e,l){if(1&e&&(n.j41(0,"ion-card",47)(1,"ion-card-header")(2,"ion-card-title"),n.EFF(3,"Requisitos del conductor"),n.k0s()(),n.j41(4,"ion-card-content")(5,"ion-list",48)(6,"ion-item"),n.nrm(7,"ion-icon",76),n.j41(8,"ion-label"),n.EFF(9,"Edad m\xednima"),n.k0s(),n.j41(10,"ion-note",7),n.EFF(11),n.k0s()(),n.j41(12,"ion-item"),n.nrm(13,"ion-icon",77),n.j41(14,"ion-label"),n.EFF(15,"Antig\xfcedad licencia"),n.k0s(),n.j41(16,"ion-note",7),n.EFF(17),n.k0s()(),n.j41(18,"ion-item"),n.nrm(19,"ion-icon",78),n.j41(20,"ion-label"),n.EFF(21,"Conductor adicional"),n.k0s(),n.j41(22,"ion-note",7),n.EFF(23),n.k0s()(),n.DNE(24,K,7,5,"ion-item",49),n.k0s()()()),2&e){const o=n.XpG().ngIf;n.R7$(11),n.SpI(" ",o.requisitosConductor.edadMinima," a\xf1os "),n.R7$(6),n.SpI(" ",o.requisitosConductor.antiguedadLicenciaMeses," meses "),n.R7$(6),n.SpI(" ",o.requisitosConductor.permiteConductorAdicional?"S\xed":"No"," "),n.R7$(),n.Y8G("ngIf",null!=o.deposito)}}function J(e,l){if(1&e&&(n.j41(0,"ion-item"),n.nrm(1,"ion-icon",80),n.j41(2,"ion-label"),n.EFF(3,"Combustible"),n.k0s(),n.j41(4,"ion-note",7),n.EFF(5),n.nI1(6,"titlecase"),n.k0s()()),2&e){const o=n.XpG().ngIf;n.R7$(5),n.SpI(" ",n.bMT(6,1,o.politicaCombustible)," ")}}function Q(e,l){if(1&e&&(n.j41(0,"ion-item"),n.nrm(1,"ion-icon",81),n.j41(2,"ion-label"),n.EFF(3,"Limpieza"),n.k0s(),n.j41(4,"ion-note",7),n.EFF(5),n.nI1(6,"titlecase"),n.k0s()()),2&e){const o=n.XpG().ngIf;n.R7$(5),n.SpI(" ",n.bMT(6,1,o.politicaLimpieza)," ")}}function q(e,l){if(1&e&&(n.j41(0,"ion-item"),n.nrm(1,"ion-icon",82),n.j41(2,"ion-label"),n.EFF(3,"M\xednimo de d\xedas"),n.k0s(),n.j41(4,"ion-note",7),n.EFF(5),n.k0s()()),2&e){const o=n.XpG().ngIf;n.R7$(5),n.JRh(o.minDias)}}function Z(e,l){if(1&e&&(n.j41(0,"ion-item"),n.nrm(1,"ion-icon",83),n.j41(2,"ion-label"),n.EFF(3,"Estado"),n.k0s(),n.j41(4,"ion-note",7),n.EFF(5),n.nI1(6,"titlecase"),n.k0s()()),2&e){const o=n.XpG().ngIf;n.R7$(5),n.SpI(" ",n.bMT(6,1,o.estadoRenta)," ")}}function nn(e,l){if(1&e&&(n.j41(0,"div"),n.EFF(1),n.k0s()),2&e){const o=n.XpG().$implicit;n.R7$(),n.JRh(o.nota)}}function tn(e,l){if(1&e&&(n.qex(0),n.EFF(1),n.nI1(2,"currency"),n.bVm()),2&e){const o=n.XpG().$implicit;n.R7$(),n.SpI(" ",n.brH(2,1,o.costoFijo,"MXN","symbol-narrow")," ")}}function en(e,l){if(1&e&&(n.EFF(0),n.nI1(1,"currency")),2&e){const o=n.XpG().$implicit;n.SpI(" ",n.brH(1,1,o.costoPorKm,"MXN","symbol-narrow"),"/km ")}}function on(e,l){if(1&e&&(n.j41(0,"ion-item")(1,"ion-label")(2,"strong"),n.EFF(3),n.k0s(),n.DNE(4,nn,2,1,"div",49),n.k0s(),n.j41(5,"ion-note",7),n.DNE(6,tn,3,5,"ng-container",86)(7,en,2,5,"ng-template",null,0,n.C5r),n.k0s()()),2&e){const o=l.$implicit,t=n.sdS(8);n.R7$(3),n.Lme("",o.desdeKm,"\u2013",o.hastaKm," km"),n.R7$(),n.Y8G("ngIf",o.nota),n.R7$(2),n.Y8G("ngIf",o.costoFijo)("ngIfElse",t)}}function an(e,l){if(1&e&&(n.j41(0,"ion-list"),n.DNE(1,on,9,5,"ion-item",60),n.k0s()),2&e){const o=n.XpG(2).ngIf;n.R7$(),n.Y8G("ngForOf",o.entrega.tarifasPorDistancia)}}function rn(e,l){if(1&e&&(n.j41(0,"ion-card",84)(1,"ion-card-header")(2,"ion-card-title"),n.EFF(3," Entrega a domicilio "),n.j41(4,"span",85),n.EFF(5,"Tarifas"),n.k0s()()(),n.j41(6,"ion-card-content"),n.DNE(7,an,2,1,"ion-list",49),n.k0s()()),2&e){const o=n.XpG().ngIf;n.R7$(7),n.Y8G("ngIf",null==o.entrega||null==o.entrega.tarifasPorDistancia?null:o.entrega.tarifasPorDistancia.length)}}function cn(e,l){if(1&e){const o=n.RV6();n.j41(0,"div",18)(1,"div",19)(2,"div",20)(3,"section",21)(4,"div",22)(5,"div",23)(6,"div",24)(7,"img",25),n.bIt("error",function(i){n.eBV(o);const a=n.XpG();return n.Njj(a.onImgError(i,a.imagenSeleccionada||a.galeria[0]))}),n.k0s(),n.DNE(8,U,2,0,"button",26)(9,X,2,0,"button",27),n.k0s()(),n.DNE(10,D,2,2,"div",28),n.k0s()(),n.j41(11,"aside",29)(12,"div",30)(13,"h2"),n.EFF(14),n.j41(15,"span",31),n.EFF(16),n.k0s()(),n.DNE(17,d,4,1,"div",32),n.j41(18,"div",33),n.DNE(19,g,6,3,"div",34)(20,_,6,5,"div",35),n.k0s(),n.DNE(21,B,4,4,"div",36),n.j41(22,"div",37)(23,"button",38),n.bIt("click",function(){n.eBV(o);const i=n.XpG();return n.Njj(i.reservar())}),n.nrm(24,"ion-icon",39),n.j41(25,"span"),n.EFF(26,"RESERVAR"),n.k0s()(),n.j41(27,"div",40)(28,"button",41),n.bIt("click",function(){n.eBV(o);const i=n.XpG();return n.Njj(i.contactarWhatsApp())}),n.nrm(29,"ion-icon",42),n.j41(30,"span"),n.EFF(31,"Whats App"),n.k0s()(),n.j41(32,"button",43),n.bIt("click",function(){n.eBV(o);const i=n.XpG();return n.Njj(i.compartir())}),n.nrm(33,"ion-icon",44),n.j41(34,"span"),n.EFF(35,"Compartir"),n.k0s()()()(),n.DNE(36,L,8,0,"p",45),n.k0s()()(),n.j41(37,"h2")(38,"span",31),n.EFF(39,"Caracter\xedsticas clave"),n.k0s()(),n.j41(40,"div",46)(41,"ion-card",47)(42,"ion-card-header")(43,"ion-card-title"),n.EFF(44,"Detalles del veh\xedculo"),n.k0s()(),n.j41(45,"ion-card-content")(46,"ion-list",48),n.DNE(47,Y,7,3,"ion-item",49)(48,z,6,1,"ion-item",49)(49,V,6,1,"ion-item",49)(50,W,6,1,"ion-item",49),n.k0s()()(),n.DNE(51,H,25,4,"ion-card",50),n.j41(52,"ion-card",47)(53,"ion-card-header")(54,"ion-card-title"),n.EFF(55,"Pol\xedticas"),n.k0s()(),n.j41(56,"ion-card-content")(57,"ion-list",48),n.DNE(58,J,7,3,"ion-item",49)(59,Q,7,3,"ion-item",49)(60,q,6,1,"ion-item",49)(61,Z,7,3,"ion-item",49),n.k0s()()()(),n.j41(62,"div",51),n.DNE(63,rn,8,1,"ion-card",52),n.k0s()()()}if(2&e){const o=l.ngIf,t=n.XpG();n.R7$(7),n.Y8G("src",t.imagenSeleccionada||t.galeria[0],n.B4B),n.R7$(),n.Y8G("ngIf",t.tieneVarias),n.R7$(),n.Y8G("ngIf",t.tieneVarias),n.R7$(),n.Y8G("ngIf",t.galeria.length>1),n.R7$(4),n.SpI(" ",o.marca," "),n.R7$(2),n.JRh(o.modelo),n.R7$(),n.Y8G("ngIf",null==o.ubicacion?null:o.ubicacion.length),n.R7$(2),n.Y8G("ngIf",o.tipoVehiculo),n.R7$(),n.Y8G("ngIf",null!=o.precio),n.R7$(),n.Y8G("ngIf",o.ratingPromedio||o.totalRentas),n.R7$(2),n.Y8G("disabled","disponible"!==o.estadoRenta||t.esDueno),n.R7$(13),n.Y8G("ngIf",!t.isLoggedIn),n.R7$(11),n.Y8G("ngIf",o.tipoVehiculo),n.R7$(),n.Y8G("ngIf",o.transmision),n.R7$(),n.Y8G("ngIf",o.combustible),n.R7$(),n.Y8G("ngIf",o.pasajeros),n.R7$(),n.Y8G("ngIf",o.requisitosConductor),n.R7$(7),n.Y8G("ngIf",o.politicaCombustible),n.R7$(),n.Y8G("ngIf",o.politicaLimpieza),n.R7$(),n.Y8G("ngIf",o.minDias),n.R7$(),n.Y8G("ngIf",o.estadoRenta),n.R7$(2),n.Y8G("ngIf",o.entrega)}}const sn=[{path:"",component:(()=>{var e;class l{get mergedHighlights(){return[...this.highlightedDisabled,...this.highlightedRange]}get tieneVarias(){var t;return((null===(t=this.galeria)||void 0===t?void 0:t.length)||0)>1}get ratingEntero(){var t,i;const a=Number(null!==(t=null===(i=this.rental)||void 0===i?void 0:i.ratingPromedio)&&void 0!==t?t:0);return Math.max(0,Math.min(5,Math.round(a)))}get fechaInicio(){var t;return null!==(t=this.fechasSeleccionadas)&&void 0!==t&&t.length&&[...this.fechasSeleccionadas].sort()[0]||null}get fechaFin(){var t;return null!==(t=this.fechasSeleccionadas)&&void 0!==t&&t.length&&[...this.fechasSeleccionadas].sort().slice(-1)[0]||null}constructor(t,i,a,s,p){this.route=t,this.router=i,this.rentaService=a,this.general=s,this.cdr=p,this.LOGIN_ROUTE="/login",this.id_car=null,this.loading=!0,this.rental=null,this.isLoggedIn=!1,this.highlightedRange=[],this.ocupadasISO=new Set,this.highlightedDisabled=[],this.esFechaHabil=m=>{try{const h=(m||"").slice(0,10);return!this.ocupadasISO.has(h)}catch{return!0}},this.galeria=[],this.imagenSeleccionada=null,this.esDueno=!1,this.minFecha=this.toLocalISODate(),this.fechasSeleccionadas=[],this.resumen=null}ngOnInit(){this.general.tokenExistente$.pipe((0,P.s)(1)).subscribe(t=>{this.isLoggedIn=t;const i=this.route.snapshot.paramMap.get("id");this.id_car=i,this.cargar(i),this.cdr.markForCheck()})}obtenerIdActual(){const t=this.general;try{var i,a;return t.currentUserId||t.userId||(null===(i=t.usuario)||void 0===i?void 0:i.id)||(null===(a=t.usuario)||void 0===a?void 0:a._id)||("function"==typeof t.getUserId?t.getUserId():null)||null}catch{return null}}extraerOwnerId(t){var i,a,s,p,m,h,v,M;const S=[null==t?void 0:t.propietarioId,null==t?void 0:t.duenoId,null==t?void 0:t.ownerId,null==t?void 0:t.usuarioId,null==t?void 0:t.userId,null==t||null===(i=t.usuario)||void 0===i?void 0:i.id,null==t||null===(a=t.usuario)||void 0===a?void 0:a._id,null==t||null===(s=t.owner)||void 0===s?void 0:s.id,null==t||null===(p=t.owner)||void 0===p?void 0:p._id,null==t||null===(m=t.propietario)||void 0===m?void 0:m.id,null==t||null===(h=t.propietario)||void 0===h?void 0:h._id,null==t||null===(v=t.creadoPor)||void 0===v?void 0:v.id,null==t||null===(M=t.creadoPor)||void 0===M?void 0:M._id].filter(Boolean);return S.length?String(S[0]):null}soyPropietarioDeAuto(t=this.rental){if(!t)return!1;const i=this.obtenerIdActual(),a=this.extraerOwnerId(t);return!!i&&!!a&&String(i).trim()===String(a).trim()}toLocalISODate(t=new Date){return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}asLocalDateOnly(t){const i=(t||"").slice(0,10),[a,s,p]=i.split("-").map(m=>parseInt(m,10));return new Date(a,s-1,p)}startOfDay(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())}diffDaysInclusive(t,i){const a=this.startOfDay(i).getTime()-this.startOfDay(t).getTime(),s=Math.ceil(a/864e5);return Math.max(1,s+1)}toISOyyyyMMdd(t){return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}buildGaleria(t){const s=[...null!=t&&t.imagenPrincipal?[t.imagenPrincipal]:[],...Array.isArray(null==t?void 0:t.imagenes)?t.imagenes:[]].filter(p=>!!p&&"string"==typeof p);return Array.from(new Set(s))}cargar(t){this.loading=!0,this.cdr.markForCheck(),this.rentaService.cochePorId(t).pipe((0,P.s)(1)).subscribe({next:i=>{const a={...i};this.rental=a,this.galeria=this.buildGaleria(a),this.imagenSeleccionada=this.galeria[0]||null,this.fillBlockedFromExcepciones((null==a?void 0:a.excepcionesNoDisponibles)||[]);const s=localStorage.getItem("user"),p=s?JSON.parse(s):null,m=(null==p?void 0:p.rol)||(null==p?void 0:p.role)||null;this.rentaService.diasNoDisponibles(a._id).pipe((0,P.s)(1)).subscribe(h=>{const v=new Set(this.ocupadasISO);(h||[]).forEach(M=>v.add(String(M).slice(0,10))),this.ocupadasISO=v,this.buildDisabledHighlights(),this.cdr.markForCheck()},()=>{this.buildDisabledHighlights(),this.cdr.markForCheck()}),this.isLoggedIn&&"cliente"!==m?this.rentaService.misCoches().pipe((0,P.s)(1)).subscribe({next:h=>{this.obtenerIdActual();const M=Array.isArray(h)&&h.some(w=>String((null==w?void 0:w._id)||(null==w?void 0:w.id))===String(a._id)),S=this.soyPropietarioDeAuto(a);this.esDueno=M||S,this.loading=!1,this.fechasSeleccionadas.length>=1&&this.calcularTotal(),this.buildHighlightedRange(),this.cdr.markForCheck()},error:()=>{this.esDueno=this.soyPropietarioDeAuto(a),this.loading=!1,this.fechasSeleccionadas.length>=1&&this.calcularTotal(),this.buildHighlightedRange(),this.cdr.markForCheck()}}):(this.esDueno=this.soyPropietarioDeAuto(a),this.loading=!1,this.fechasSeleccionadas.length>=1&&this.calcularTotal(),this.buildHighlightedRange(),this.cdr.markForCheck())},error:i=>{var a;this.loading=!1,this.cdr.markForCheck();const s=(null==i||null===(a=i.error)||void 0===a?void 0:a.message)||"No se pudo cargar el veh\xedculo";this.general.alert("Error",s,"danger"),this.router.navigate(["/renta-coches"])}})}fillBlockedFromExcepciones(t){const i=new Set(this.ocupadasISO);for(const a of t||[]){const s=this.expandLocalRangeToYmdList(null==a?void 0:a.inicio,null==a?void 0:a.fin);for(const p of s)i.add(p)}this.ocupadasISO=i,this.buildDisabledHighlights()}buildDisabledHighlights(){this.highlightedDisabled=Array.from(this.ocupadasISO).map(a=>({date:a,backgroundColor:"#e5e7eb",textColor:"#6b7280"}))}expandLocalRangeToYmdList(t,i){if(!t)return[];let a=this.asLocalDateOnly(t),s=this.asLocalDateOnly(i||t);if(s<a){const h=a;a=s,s=h}const p=[],m=new Date(a);for(;m<=s;)p.push(this.toLocalISODate(m)),m.setDate(m.getDate()+1);return p}volver(){try{if(window.history.length>2)return history.back()}catch{}this.router.navigate(["/renta-coches"])}cerrar(){this.volver()}cambiarImagen(t){var i;const a=this.galeria;if(!a.length)return;const s=null!==(i=this.imagenSeleccionada)&&void 0!==i?i:a[0],p=Math.max(0,a.indexOf(s));"siguiente"===t&&p<a.length-1&&(this.imagenSeleccionada=a[p+1]),"anterior"===t&&p>0&&(this.imagenSeleccionada=a[p-1]),this.cdr.markForCheck()}onImgError(t,i){if(t.target.src="/assets/placeholder-car.webp",i){const a=this.galeria.indexOf(i);a>=0&&this.galeria.splice(a,1),this.imagenSeleccionada===i&&(this.imagenSeleccionada=this.galeria[0]||null)}this.cdr.markForCheck()}trackByUrl(t,i){return i}onRangoChange(){this.fechasSeleccionadas.length>2&&(this.fechasSeleccionadas=this.fechasSeleccionadas.slice(-2)),this.fechasSeleccionadas.length>=1?this.calcularTotal():this.resumen=null,this.buildHighlightedRange(),this.cdr.markForCheck()}buildHighlightedRange(){var t;if(this.highlightedRange=[],null===(t=this.fechasSeleccionadas)||void 0===t||!t.length)return;const i=[...this.fechasSeleccionadas].sort();let a=this.asLocalDateOnly(i[0]),s=this.asLocalDateOnly(i[i.length-1]);s<a&&([a,s]=[s,a]);const h=new Date(a);for(;h<=s;)this.highlightedRange.push({date:this.toISOyyyyMMdd(h),backgroundColor:"var(--ion-color-danger)",textColor:"#ffffff"}),h.setDate(h.getDate()+1)}calcularTotal(){this.resumen=null;const t=this.rental;if(!t)return void this.cdr.markForCheck();let i=this.fechaInicio,a=this.fechaFin||this.fechaInicio;if(!i||!a)return void this.cdr.markForCheck();let s=this.asLocalDateOnly(i),p=this.asLocalDateOnly(a);p<s&&([s,p]=[p,s]);let m=1===this.fechasSeleccionadas.length?1:this.diffDaysInclusive(s,p);const h=Number(t.precio||0);this.resumen={valido:m>0&&h>0,dias:m,diasSueltos:m,subtotalDia:h*m,total:h*m},this.cdr.markForCheck()}contactarWhatsApp(){var t;if(null===(t=this.id_car)||void 0===t||!t.trim()||!this.rental)return;const s=encodeURIComponent(`Hola, estoy interesado en rentar: \n\n\u{1f697} *${this.rental.marca} ${this.rental.modelo}*. \n\n\u{1f517} https://wo-aw.com/renta-ficha/${this.id_car}`);window.open(`https://api.whatsapp.com/send?phone=524427706776&text=${s}`,"_blank")}compartir(){const t=location.href;var i,a,s,p;navigator.share?navigator.share({title:`${null===(i=this.rental)||void 0===i?void 0:i.marca} ${null===(a=this.rental)||void 0===a?void 0:a.modelo}${null!==(s=this.rental)&&void 0!==s&&s.anio?" "+(null===(p=this.rental)||void 0===p?void 0:p.anio):""} en renta`,text:"Checa este veh\xedculo en renta",url:t}).catch(()=>{}):(navigator.clipboard.writeText(t),this.general.toast("Enlace copiado","success"))}reservar(){var t;if(null===(t=this.rental)||void 0===t||!t._id)return;if(!this.isLoggedIn)return this.general.alert("Inicia sesi\xf3n","Debes iniciar sesi\xf3n para continuar con la reserva.","info"),void this.router.navigate(["/inicio"]);if(this.esDueno||this.soyPropietarioDeAuto(this.rental))return void this.general.toast("No puedes reservar tu propio veh\xedculo.","warning");const i=this.fechaInicio||null,a=this.fechaFin||this.fechaInicio||null;if(i&&a){var s,p;const m=1===this.fechasSeleccionadas.length?1:this.diffDaysInclusive(this.asLocalDateOnly(i),this.asLocalDateOnly(a)),h=Number(null!==(s=null===(p=this.rental)||void 0===p?void 0:p.minDias)&&void 0!==s?s:0);return h>0&&m<h?void this.general.toast(`La renta m\xednima es de ${h} d\xeda(s).`,"warning"):void this.router.navigate(["/reservas",this.rental._id],{queryParams:{inicio:i,fin:a}})}this.router.navigate(["/reservas",this.rental._id])}abrirAviso(){var t;null!==(t=this.footer)&&void 0!==t&&t.mostrarAviso?this.footer.mostrarAviso():this.general.alert("Aviso de Privacidad","Contenido\u2026","info")}abrirTerminos(){const t=this.footer;null!=t&&t.mostrarTerminos?t.mostrarTerminos():this.general.alert("T\xe9rminos y condiciones","Contenido\u2026","info")}}return(e=l).\u0275fac=function(t){return new(t||e)(n.rXU(E.nX),n.rXU(E.Ix),n.rXU(r.w),n.rXU($.O),n.rXU(n.gRc))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-renta-ficha"]],viewQuery:function(t,i){if(1&t&&n.GBs(F.n,5),2&t){let a;n.mGM(a=n.lsd())&&(i.footer=a.first)}},standalone:!1,decls:13,vars:4,consts:[["porKmTpl",""],["translucent",""],[1,"toolbar-ios"],["slot","start"],["fill","clear","aria-label","Regresar",1,"btn-back-ios",3,"click"],["name","chevron-back-outline"],["class","titulo-ios",4,"ngIf"],["slot","end"],["fill","clear","aria-label","Cerrar",3,"click"],["name","close-outline"],[1,"contenido-ios","ficha-auto",3,"fullscreen"],["class","spinner-ficha-wrapper",4,"ngIf"],["class","contenedor_ficha",4,"ngIf"],[1,"titulo-ios"],["src","/assets/icon/logo4.png","alt","WOAW",1,"logo-ios"],[1,"spinner-ficha-wrapper"],[1,"spinner-ficha"],[1,"spinner-texto"],[1,"contenedor_ficha"],[1,"layout-ficha"],[1,"fila","fila-principal"],[1,"bloque-galeria"],[1,"contenedor-imagenes"],[1,"contenedor_imagen_principal"],[1,"imagen-principal"],["alt","Imagen principal del veh\xedculo",3,"error","src"],["class","flecha izquierda",3,"click",4,"ngIf"],["class","flecha derecha",3,"click",4,"ngIf"],["class","miniaturas-vertical",4,"ngIf"],[1,"bloque-principal"],[1,"card-detalle"],[1,"car-name"],["class","ubicacion",4,"ngIf"],[1,"precio-categoria"],["class","categoria",4,"ngIf"],["class","precio-dia",4,"ngIf"],["class","rating",4,"ngIf"],[1,"botones-ficha"],["type","button",1,"btn-reservar",3,"click","disabled"],["name","calendar-outline"],[1,"fila-secundaria"],["type","button",1,"btn-accion","btn-whatsapp",3,"click"],["name","logo-whatsapp"],["type","button",1,"btn-accion","btn-compartir",3,"click"],["name","share-social-outline"],["class","nota-legal",4,"ngIf"],[1,"fila","fila-informacion"],[1,"info-card"],["lines","none"],[4,"ngIf"],["class","info-card",4,"ngIf"],[1,"fila","fila-calendario"],["class","info-card entrega-card",4,"ngIf"],[1,"flecha","izquierda",3,"click"],[1,"flecha","derecha",3,"click"],[1,"miniaturas-vertical"],["tabindex","0",3,"src","activa","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0",3,"click","src"],[1,"ubicacion"],["name","location-outline"],[4,"ngFor","ngForOf"],[1,"categoria"],[1,"label"],[1,"valor"],[1,"precio-dia"],[1,"monto"],[1,"por-dia"],[1,"rating"],["name","star",3,"activa",4,"ngFor","ngForOf"],["name","star"],[1,"nota-legal"],[3,"click"],["name","car-outline","slot","start"],["name","settings-outline","slot","start"],["name","flash-outline","slot","start"],["name","people-outline","slot","start"],["name","id-card-outline","slot","start"],["name","card-outline","slot","start"],["name","person-add-outline","slot","start"],["name","wallet-outline","slot","start"],["name","trail-sign-outline","slot","start"],["name","sparkles-outline","slot","start"],["name","calendar-outline","slot","start"],["name","checkmark-circle-outline","slot","start"],[1,"info-card","entrega-card"],[1,"badge-mini"],[4,"ngIf","ngIfElse"]],template:function(t,i){1&t&&(n.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3)(3,"ion-button",4),n.bIt("click",function(){return i.volver()}),n.nrm(4,"ion-icon",5),n.k0s(),n.DNE(5,j,4,2,"div",6),n.k0s(),n.j41(6,"ion-buttons",7)(7,"ion-button",8),n.bIt("click",function(){return i.cerrar()}),n.nrm(8,"ion-icon",9),n.k0s()()()(),n.j41(9,"ion-content",10),n.DNE(10,G,4,0,"div",11)(11,cn,64,22,"div",12),n.nrm(12,"app-footer"),n.k0s()),2&t&&(n.R7$(5),n.Y8G("ngIf",i.rental),n.R7$(4),n.Y8G("fullscreen",!0),n.R7$(),n.Y8G("ngIf",i.loading),n.R7$(),n.Y8G("ngIf",!i.loading&&i.rental))},dependencies:[x.Sq,x.bT,u.Jm,u.QW,u.b_,u.I9,u.ME,u.tN,u.W9,u.eU,u.iq,u.uz,u.he,u.nf,u.JI,u.ai,F.n,x.QX,x.PV,x.oe],styles:['@charset "UTF-8";.toolbar-ios[_ngcontent-%COMP%]{--background: rgba(249, 249, 249, .94);--border-color: rgba(0, 0, 0, .08);--color: #111827;backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px);border-bottom:.33px solid var(--border-color);padding-inline:6px;min-height:52px}.btn-back-ios[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:4px 10px;border-radius:999px;border:none;background:#0000000a;color:#007aff;font-size:14px;font-weight:500;cursor:pointer}.btn-back-ios[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.btn-back-ios[_ngcontent-%COMP%]:active{background:#00000014}.titulo-ios[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:6px}.titulo-ios[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:17px;font-weight:600;color:#111827}.logo-ios[_ngcontent-%COMP%]{width:26px;height:26px;object-fit:contain}.contenido-ios[_ngcontent-%COMP%]{--background: #f2f2f7;font-family:-apple-system,BlinkMacSystemFont,SF Pro Text,sans-serif}.ficha-auto[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0}.contenedor_ficha[_ngcontent-%COMP%]{max-width:1260px;margin:12px auto;padding:0 12px}.layout-ficha[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.perfil-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.perfil-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:28px;height:28px;object-fit:contain}.perfil-header[_ngcontent-%COMP%]   .titulo-perfil[_ngcontent-%COMP%]{font-weight:600}.spinner-ficha-wrapper[_ngcontent-%COMP%]{display:grid;place-items:center;padding:40px 0;color:#6b7280}.spinner-ficha-wrapper[_ngcontent-%COMP%]   .spinner-ficha[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;border:3px solid rgba(148,163,184,.35);border-top-color:#ff3b30;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:10px}.spinner-texto[_ngcontent-%COMP%]{font-size:14px;color:#4b5563}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.fila-principal[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.28fr 1fr;gap:18px;align-items:start}.bloque-galeria[_ngcontent-%COMP%]{order:0}.bloque-principal[_ngcontent-%COMP%]{order:1;position:static!important;top:auto!important;align-self:start;display:grid;gap:12px}.contenedor-imagenes[_ngcontent-%COMP%]{position:relative}.contenedor_imagen_principal[_ngcontent-%COMP%]{border-radius:16px;overflow:hidden;background:#111827;width:100%;max-width:100%;height:clamp(280px,34vw,380px);display:flex;align-items:center;justify-content:center}.imagen-principal[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.imagen-principal[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;object-position:center;display:block;background:#020617;box-shadow:0 6px 20px #00000040;transition:opacity .3s ease-in-out}.flecha[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);background:#000000a6;color:#fff;border:0;width:36px;height:36px;border-radius:50%;box-shadow:0 6px 16px #00000059;font-size:20px;cursor:pointer;transition:background .2s}.flecha[_ngcontent-%COMP%]:hover{background:#ff3b30e6}.flecha.izquierda[_ngcontent-%COMP%]{left:8px}.flecha.derecha[_ngcontent-%COMP%]{right:8px}.miniaturas-vertical[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;gap:8px;margin-top:8px;overflow-x:auto;padding-bottom:6px}.miniaturas-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:96px;height:64px;object-fit:cover;border-radius:8px;opacity:.7;cursor:pointer;transition:all .25s ease-in-out;background:#020617}.miniaturas-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:.95;transform:scale(1.02)}.miniaturas-vertical[_ngcontent-%COMP%]   img.activa[_ngcontent-%COMP%]{outline:2px solid #ff3b30;box-shadow:0 0 6px #ff3b3099;opacity:1}ion-card[_ngcontent-%COMP%], .card-info[_ngcontent-%COMP%], .card-detalle[_ngcontent-%COMP%]{border-radius:14px;background:#fff;color:#111827;box-shadow:0 12px 28px #0f172a2e,0 0 0 .5px #ffffffe6;border:1px solid rgba(15,23,42,.06)}.card-detalle[_ngcontent-%COMP%]{padding:20px 24px;min-height:380px!important;display:flex!important;flex-direction:column!important;justify-content:space-between!important;text-align:center;transition:box-shadow .2s ease}.card-detalle[_ngcontent-%COMP%]:hover{box-shadow:0 16px 32px #0f172a33,0 0 0 .5px #ffffffe6}.card-detalle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:clamp(22px,2vw,30px);font-weight:900;color:#111827;margin:4px 0 6px;letter-spacing:-.2px}.card-detalle[_ngcontent-%COMP%]   .ubicacion[_ngcontent-%COMP%]{margin-top:8px;display:inline-flex;align-items:center;justify-content:center;gap:8px;background:#f5f5f7;padding:6px 12px;border-radius:10px;font-weight:700;color:#111827;font-size:.95rem;line-height:1;box-shadow:0 3px 10px #0f172a0f}.card-detalle[_ngcontent-%COMP%]   .ubicacion[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#ff3b30}.card-detalle[_ngcontent-%COMP%]   .precio-categoria[_ngcontent-%COMP%]{display:grid;justify-items:center;align-items:center;gap:6px;margin:6px 0 10px}.card-detalle[_ngcontent-%COMP%]   .categoria[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:6px}.card-detalle[_ngcontent-%COMP%]   .categoria[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:700;color:#6b7280}.card-detalle[_ngcontent-%COMP%]   .categoria[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%]{font-weight:800;color:#111827}.card-detalle[_ngcontent-%COMP%]   .precio-dia[_ngcontent-%COMP%]{display:inline-flex;align-items:baseline;gap:8px}.card-detalle[_ngcontent-%COMP%]   .precio-dia[_ngcontent-%COMP%]   .monto[_ngcontent-%COMP%]{color:#ff3b30;font-weight:900;font-size:clamp(26px,3vw,38px);line-height:1}.card-detalle[_ngcontent-%COMP%]   .precio-dia[_ngcontent-%COMP%]   .por-dia[_ngcontent-%COMP%]{color:#111827;opacity:.9;font-weight:700;font-size:clamp(12px,1.2vw,15px);line-height:1;transform:translateY(1px)}.rating[_ngcontent-%COMP%]{margin-top:6px;display:flex;justify-content:center;align-items:center;gap:4px;font-size:13px;color:#6b7280}.rating[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:#d1d5db}.rating[_ngcontent-%COMP%]   ion-icon.activa[_ngcontent-%COMP%]{color:#facc15}.botones-ficha[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-top:auto}.btn-reservar[_ngcontent-%COMP%]{width:100%;display:inline-flex;align-items:center;justify-content:center;gap:10px;padding:12px 14px;border:0;border-radius:12px;background:#ff3b30;color:#fff;font-weight:800;text-transform:uppercase;font-size:clamp(15px,2vw,17px);box-shadow:0 8px 24px #ff3b3059;cursor:pointer;transition:filter .2s ease}.btn-reservar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:19px}.btn-reservar[_ngcontent-%COMP%]:hover{filter:brightness(1.02)}.btn-reservar[_ngcontent-%COMP%]:disabled{background:#d1d5db;color:#6b7280;box-shadow:none}.card-detalle[_ngcontent-%COMP%]   .fila-secundaria[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:10px}.card-detalle[_ngcontent-%COMP%]   .fila-secundaria[_ngcontent-%COMP%]   .btn-accion[_ngcontent-%COMP%]{min-height:44px;border-radius:14px;justify-content:center}.card-detalle[_ngcontent-%COMP%]   .fila-secundaria[_ngcontent-%COMP%]   .btn-accion[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.btn-accion[_ngcontent-%COMP%]{width:100%;display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:9px 12px;border-radius:12px;border:1px solid rgba(15,23,42,.06);font-weight:700;background:#fff;color:#111827;transition:filter .2s ease}.btn-accion[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:17px}.btn-whatsapp[_ngcontent-%COMP%]{background:#25d366;color:#fff;border:0;box-shadow:0 8px 20px #25d36647}.btn-compartir[_ngcontent-%COMP%]{background:#111827;color:#fff;border:0;box-shadow:0 8px 20px #0f172a40}.card-detalle[_ngcontent-%COMP%]   .nota-legal[_ngcontent-%COMP%]{margin-top:8px;font-size:.9rem;text-align:center}.card-detalle[_ngcontent-%COMP%]   .nota-legal[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff3b30;font-weight:600;cursor:pointer}.car-name[_ngcontent-%COMP%]{color:#ff3b30;font-weight:900}.fila-informacion[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:24px;padding:12px 0;flex-wrap:wrap;border-radius:12px}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{flex:1;background:transparent;box-shadow:none;border:none;padding:0 20px;min-width:260px;position:relative;text-align:left}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]:not(:last-child):after{content:"";position:absolute;top:15%;right:0;width:2px;height:70%;background:#ff3b30;opacity:.35}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0;--min-height: 44px}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native){align-items:center}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[slot=start][_ngcontent-%COMP%]{font-size:20px;min-width:22px;margin-right:8px;opacity:.85}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-label[_ngcontent-%COMP%]{white-space:normal;overflow:visible;text-overflow:clip;line-height:1.25;font-weight:600;margin-right:8px}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] > ion-note[slot=end][_ngcontent-%COMP%]{margin-left:auto;white-space:normal;overflow:visible;text-overflow:clip;line-height:1.25;font-weight:600;color:#111827}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] + ion-item[_ngcontent-%COMP%]{margin-top:4px}.fila-calendario[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.1fr;gap:18px}.info-card.entrega-card[_ngcontent-%COMP%]{border-radius:16px;background:#fff;color:#111827;border:1px solid rgba(15,23,42,.05);box-shadow:0 8px 24px #0f172a14,0 0 0 .5px #ffffffe6;overflow:hidden;transition:transform .12s ease,box-shadow .2s ease}.info-card.entrega-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 32px #0f172a1f,0 0 0 .5px #ffffffe6}.info-card.entrega-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{position:relative;padding:18px 22px 14px;background:linear-gradient(180deg,#fff,#f9fafb);border-bottom:1px solid rgba(15,23,42,.05)}.info-card.entrega-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-weight:900;letter-spacing:-.3px;font-size:clamp(17px,1.6vw,19px);display:flex;align-items:center;gap:10px;color:#111827}.info-card.entrega-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   .badge-mini[_ngcontent-%COMP%]{font-size:11px;line-height:1;padding:5px 8px;border-radius:999px;background:#ff3b30;color:#fff;font-weight:800;letter-spacing:.3px;text-transform:uppercase;box-shadow:0 3px 8px #ff3b3059}.info-card.entrega-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:16px 18px}.info-card.entrega-card[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{margin:0;padding:0;background:transparent}.info-card.entrega-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: #ffffff;--padding-start: 14px;--inner-padding-end: 14px;--min-height: 56px;border-radius:14px;margin:10px 0;border:1px solid rgba(15,23,42,.05);box-shadow:0 3px 12px #0f172a0a;transition:background .15s ease,transform .15s ease,box-shadow .2s ease}.info-card.entrega-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{--background: #fdfdfd;transform:translateY(-1px);box-shadow:0 6px 18px #0f172a14;border-color:#0f172a14}.info-card.entrega-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3px}.info-card.entrega-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:900;color:#111827;font-size:15.5px}.info-card.entrega-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{font-size:13px;color:#6b7280;line-height:1.2}.info-card.entrega-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-note[slot=end][_ngcontent-%COMP%]{margin-left:12px;font-weight:900;font-size:14px;background:#ff3b30;color:#fff;padding:8px 12px;border-radius:999px;min-width:90px;text-align:center;box-shadow:0 4px 12px #ff3b3059;transition:transform .15s ease,box-shadow .2s ease}.info-card.entrega-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-note[slot=end][_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 20px #ff3b3066}.info-card.entrega-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%] + ion-item[_ngcontent-%COMP%]{margin-top:10px}@media (min-width: 1280px){.contenedor_ficha[_ngcontent-%COMP%]{max-width:1420px}.fila-informacion[_ngcontent-%COMP%]{gap:32px}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{flex:1 1 360px;min-width:340px}}@media (max-width: 960px){.fila-principal[_ngcontent-%COMP%], .fila-calendario[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.fila-principal[_ngcontent-%COMP%]{display:flex!important;flex-direction:column!important;gap:16px!important}.bloque-galeria[_ngcontent-%COMP%]{order:1!important}.bloque-principal[_ngcontent-%COMP%]{order:2!important;width:100%!important}.contenedor-imagenes[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:stretch;gap:8px}.contenedor_imagen_principal[_ngcontent-%COMP%]{flex:1 1 auto;aspect-ratio:1/1;height:auto}.miniaturas-vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px;width:84px;background:#e5e5ea;border-radius:10px;padding:6px;overflow-y:auto}.miniaturas-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;aspect-ratio:4/3;border-radius:8px;opacity:.85;transition:all .25s ease-in-out}.miniaturas-vertical[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{opacity:1;transform:scale(1.04)}.miniaturas-vertical[_ngcontent-%COMP%]   img.activa[_ngcontent-%COMP%]{outline:2px solid #ff3b30;box-shadow:0 0 8px #ff3b30b3;opacity:1;transform:scale(1.05)}.card-detalle[_ngcontent-%COMP%]{min-height:auto!important;padding:14px 16px 16px}.card-detalle[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:22px}.card-detalle[_ngcontent-%COMP%]   .precio-dia[_ngcontent-%COMP%]   .monto[_ngcontent-%COMP%]{font-size:28px}.card-detalle[_ngcontent-%COMP%]   .precio-categoria[_ngcontent-%COMP%]{gap:6px}.fila-informacion[_ngcontent-%COMP%]{flex-direction:column;gap:16px;padding:8px 6px}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;box-shadow:0 3px 14px #0f172a14;border:1px solid rgba(15,23,42,.05);padding:14px 16px;text-align:left;width:100%}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]:after{display:none}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 46px;border-radius:10px;margin:4px 0;box-shadow:none;--background: #ffffff;border-bottom:1px solid rgba(15,23,42,.06)}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[slot=start][_ngcontent-%COMP%]{font-size:18px;color:#ff3b30;margin-right:10px}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.fila-informacion[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-note[slot=end][_ngcontent-%COMP%]{font-size:13px;color:#111827;font-weight:700}.info-card.entrega-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:14px 16px}.info-card.entrega-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:12px 10px}.info-card.entrega-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--min-height: 50px}.info-card.entrega-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-note[slot=end][_ngcontent-%COMP%]{min-width:76px;padding:7px 9px;font-size:13px}}'],changeDetection:0}),l})()}];let ln=(()=>{var e;class l{}return(e=l).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[I.iI.forChild(sn),I.iI]}),l})(),dn=(()=>{var e;class l{}return(e=l).\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[x.MD,T.YN,u.bv,ln,F.n]}),l})()},5473:(N,y,f)=>{f.d(y,{n:()=>X});var x=f(467),T=f(2881),u=f(7343),I=f(9467),P=f(6557),F=f(4771),n=f(7392),E=f(5083),r=f(1360),$=f(5806),A=f(9417),j=f(2381),G=f(9557);const U=["footerRoot"];let X=(()=>{var C;class D{constructor(c,d,g,_,b,k,O,B,L){this.menu=c,this.generalService=d,this.popoverCtrl=g,this.fb=_,this.alertCtrl=b,this.router=k,this.modalCtrl=O,this.activatedRoute=B,this.carsService=L,this.blog=[],this.mostrarMapa=!1,this.mostrarVerMas=!1,this.aceptoPopup=!1,this.YaseptePopup=!1,this.esDispositivoMovil=!1,this.dispositivo="",this.currentYear=(new Date).getFullYear(),this.destinoLat=20.6079,this.destinoLng=-100.3793,this.destinoLabel="WOAW Automotive - Oficinas Operativas",this.destinoDir="Blvd. Bernardo Quintana Arrioja 14, Alamos 2da Secc, 76160 Santiago de Quer\xe9taro, Qro."}ngOnInit(){var c=this;return(0,x.A)(function*(){localStorage.setItem("popUp","true"),"true"===localStorage.getItem("popUp")&&(c.YaseptePopup=!0),c.generalService.dispositivo$.subscribe(_=>{c.esDispositivoMovil="telefono"===_||"tablet"===_,c.dispositivo=_});const g=window.location.pathname;c.mostrarMapa=g.includes("/home")})()}ngAfterViewInit(){const c=this.footerRoot.nativeElement.querySelectorAll(".is-reveal"),d=new IntersectionObserver(g=>{g.forEach(_=>{_.isIntersecting&&(_.target.classList.add("visible"),d.unobserve(_.target))})},{threshold:.15});c.forEach(g=>d.observe(g))}abrirUbicacion(){return(0,x.A)(function*(){let d=20.607572064205126,g=-100.37906506352265;const _=encodeURIComponent("Blvd. Bernardo Quintana Arrioja 17, \xc1lamos 2da Secc, Santiago de Quer\xe9taro"),b=`https://www.google.com/maps/search/?api=1&query=${d},${g}`,k=E.Ii.getPlatform();if("android"!==k)if("ios"!==k)window.open(b,"_blank");else{const O=`http://maps.apple.com/?ll=${d},${g}&q=${_}`;try{yield n.P.open({url:O})}catch{window.open(b,"_blank")}}else{const O=`geo:${d},${g}?q=${d},${g}(${_})`;try{yield n.P.open({url:O})}catch{window.open(b,"_blank")}}})()}mostrarTerminos(){var c=this;return(0,x.A)(function*(){let d;d="telefono"===c.dispositivo?yield c.modalCtrl.create({component:I.W,componentProps:{onAceptar:()=>c.setAceptado("terminos",!0),onCancelar:()=>c.setAceptado("terminos",!1)},breakpoints:[0,.7,1],cssClass:"modal-perfil",initialBreakpoint:1,handle:!0,backdropDismiss:!0,showBackdrop:!0}):yield c.modalCtrl.create({component:I.W,componentProps:{onAceptar:()=>c.setAceptado("terminos",!0),onCancelar:()=>c.setAceptado("terminos",!1)},backdropDismiss:!0,showBackdrop:!0,cssClass:"modal-consentimiento"}),yield d.present()})()}setAceptado(c,d){!0===d?localStorage.setItem(c,"true"):(localStorage.setItem(c,"false"),this.generalService.alert({aviso:"Aviso de Privacidad",terminos:"T\xe9rminos y Condiciones"}[c],{aviso:"Por tu seguridad y protecci\xf3n de datos, es necesario aceptar el Aviso de Privacidad.",terminos:"Debes aceptar los T\xe9rminos y Condiciones para usar este servicio de forma segura y responsable."}[c],"info"),localStorage.removeItem(c))}abrirCorreo(){window.location.href="mailto:comercial@wo-aw.com"}mostrarAviso(){var c=this;return(0,x.A)(function*(){let d;d="telefono"===c.dispositivo?yield c.modalCtrl.create({component:P.X,componentProps:{onAceptar:()=>c.setAceptado("aviso",!0),onCancelar:()=>c.setAceptado("aviso",!1)},breakpoints:[0,.7,1],cssClass:"modal-perfil",initialBreakpoint:1,handle:!0,backdropDismiss:!0,showBackdrop:!0}):yield c.modalCtrl.create({component:P.X,componentProps:{onAceptar:()=>c.setAceptado("aviso",!0),onCancelar:()=>c.setAceptado("aviso",!1)},backdropDismiss:!0,showBackdrop:!0,cssClass:"modal-consentimiento"}),yield d.present()})()}handleContactoClick(c){c.preventDefault();const d="true"===localStorage.getItem("popUp");console.log(d),d?window.open("mailto:contacto@goautos.mx","_blank"):this.mostrarPopUp("email")}mostrarPopUp(c){var d=this;return(0,x.A)(function*(){if("true"===localStorage.getItem("popUp"))return"telefono"===c?window.open("tel:+524425516440"):"email"===c&&window.open("mailto:contacto@goautos.mx","_blank"),void d.generalService.alert("PopUp Aceptado","\xa1Gracias por aceptar el PopUp! Ahora puedes continuar con tu registro.","success");let _;_="telefono"===d.dispositivo?yield d.modalCtrl.create({component:F.I,breakpoints:[0,.7,1],cssClass:"modal-perfil",initialBreakpoint:1,handle:!0,backdropDismiss:!1,showBackdrop:!0}):yield d.modalCtrl.create({component:F.I,backdropDismiss:!1,showBackdrop:!0,cssClass:"modal-consentimiento"}),yield _.present();const{data:b}=yield _.onDidDismiss();d.popUpAceptado(b,c)})()}handleTelefonoClick(c){c.preventDefault(),c.stopPropagation(),"true"===localStorage.getItem("popUp")?window.open("tel:+524425516440"):this.mostrarPopUp("telefono")}popUpAceptado(c,d){var g=this;return(0,x.A)(function*(){c?(localStorage.setItem("popUp","true"),"telefono"===d?window.open("tel:+524425516440"):"email"===d&&window.open("mailto:contacto@goautos.mx","_blank"),g.generalService.alert("PopUp Aceptado","\xa1Gracias por aceptar el PopUp! Ahora puedes continuar con tu registro.","success")):console.error("El usuario no acept\xf3 el PopUp")})()}redirecion(c){this.router.navigate([c])}onCambioConsentimiento(c){this.aceptoPopup=!!c.detail.checked}aceptarConsentimiento(){this.aceptoPopup?(localStorage.setItem("popUp","true"),this.YaseptePopup=!0):this.generalService.alert("Consentimiento requerido","Debes aceptar el aviso de privacidad para continuar.","warning")}}return(C=D).\u0275fac=function(c){return new(c||C)(r.rXU(u._t),r.rXU($.O),r.rXU(u.IE),r.rXU(A.ok),r.rXU(u.hG),r.rXU(j.Ix),r.rXU(u.W3),r.rXU(j.nX),r.rXU(G.R))},C.\u0275cmp=r.VBU({type:C,selectors:[["app-footer"]],viewQuery:function(c,d){if(1&c&&r.GBs(U,7),2&c){let g;r.mGM(g=r.lsd())&&(d.footerRoot=g.first)}},decls:47,vars:0,consts:[["footerRoot",""],[1,"woaw-footer"],[1,"wf-wrap"],[1,"wf-col","brand","is-reveal"],[1,"marca_title"],[1,"tagline"],[1,"legal-mini"],["type","button",1,"link",3,"click"],[1,"wf-col","contact","is-reveal"],[1,"contacto_title"],[1,"empresa"],[1,"ubicacion"],[1,"consent"],["href","","role","link",1,"dato",3,"click","keydown.enter","keydown.space"],[1,"horario"],["type","button",1,"btn-primary",3,"click"],["name","navigate-outline"],[1,"wf-col","explore","is-reveal"],[1,"explora_title"],[1,"social-row"],["href","https://www.instagram.com/woaw.mx/","target","_blank","aria-label","Instagram",1,"chip"],["name","logo-instagram"],["href","https://www.tiktok.com/@woaw.mx","target","_blank","aria-label","TikTok",1,"chip"],["name","logo-tiktok"],["href","https://www.facebook.com/share/16wiS1yd9L/?mibextid=wwXIfr","target","_blank","aria-label","Facebook",1,"chip"],["name","logo-facebook"],["href","https://wa.me/524427706776","target","_blank","aria-label","WhatsApp",1,"chip"],["name","logo-whatsapp"],["href","https://www.linkedin.com/company/woaw-automotive","target","_blank","aria-label","LinkedIn",1,"chip"],["name","logo-linkedin"],["href","https://mail.google.com/mail/?view=cm&fs=1&to=comercial@wo-aw.com\n          &su=Contacto%20desde%20la%20web%20Woaw\n          &body=Hola%20equipo%20Woaw,","target","_blank","aria-label","Correo Gmail",1,"chip"],["name","mail-outline"],[1,"copy"]],template:function(c,d){if(1&c){const g=r.RV6();r.j41(0,"footer",1,0)(2,"div",2)(3,"section",3)(4,"h2",4),r.EFF(5,"Woaw Automotive"),r.k0s(),r.j41(6,"p",5),r.EFF(7," Veh\xedculos, personas y rutas claras. Sin ruido, sin adornos innecesarios. "),r.k0s(),r.j41(8,"div",6)(9,"button",7),r.bIt("click",function(){return r.eBV(g),r.Njj(d.mostrarAviso())}),r.EFF(10," Aviso de Privacidad "),r.k0s(),r.j41(11,"button",7),r.bIt("click",function(){return r.eBV(g),r.Njj(d.mostrarTerminos())}),r.EFF(12," T\xe9rminos "),r.k0s()()(),r.j41(13,"section",8)(14,"h2",9),r.EFF(15,"Contacto"),r.k0s(),r.j41(16,"h3",10),r.EFF(17,"Woaw Automotive S.A. de C.V."),r.k0s(),r.j41(18,"p",11),r.EFF(19,"Santiago de Quer\xe9taro, M\xe9xico"),r.k0s(),r.j41(20,"p",12),r.EFF(21," Consentimiento registrado. Puedes escribirnos o llamarnos cuando quieras. "),r.k0s(),r.j41(22,"a",13),r.bIt("click",function(b){return r.eBV(g),r.Njj(d.handleTelefonoClick(b))})("keydown.enter",function(b){return r.eBV(g),r.Njj(d.handleTelefonoClick(b))})("keydown.space",function(b){return r.eBV(g),d.handleTelefonoClick(b),r.Njj(b.preventDefault())}),r.EFF(23," +52 442 770 6776 "),r.k0s(),r.j41(24,"p",14),r.EFF(25,"Lunes a Viernes: 9:00\u201318:00"),r.k0s(),r.j41(26,"button",15),r.bIt("click",function(){return r.eBV(g),r.Njj(d.abrirUbicacion())}),r.nrm(27,"ion-icon",16),r.EFF(28," C\xd3MO LLEGAR "),r.k0s()(),r.j41(29,"section",17)(30,"h2",18),r.EFF(31,"Redes"),r.k0s(),r.j41(32,"div",19)(33,"a",20),r.nrm(34,"ion-icon",21),r.k0s(),r.j41(35,"a",22),r.nrm(36,"ion-icon",23),r.k0s(),r.j41(37,"a",24),r.nrm(38,"ion-icon",25),r.k0s(),r.j41(39,"a",26),r.nrm(40,"ion-icon",27),r.k0s(),r.j41(41,"a",28),r.nrm(42,"ion-icon",29),r.k0s(),r.j41(43,"a",30),r.nrm(44,"ion-icon",31),r.k0s()()()(),r.j41(45,"div",32),r.EFF(46,"\xa9 2025 Woaw Automotive. Todos los derechos reservados."),r.k0s()()}},dependencies:[u.bv,u.iq,T.MD],styles:['@charset "UTF-8";.woaw-footer[_ngcontent-%COMP%]{background:#f2f2f7;padding:28px 20px 110px;color:#1c1c1e;border-top:1px solid rgba(0,0,0,.08)}.wf-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px}.wf-col[_ngcontent-%COMP%]{background:#fff;padding:18px 20px;border-radius:16px;box-shadow:0 3px 12px #0000000a;border:1px solid rgba(0,0,0,.06)}h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:800;color:#111}p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:14px;line-height:1.45}.legal-mini[_ngcontent-%COMP%]{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap}.legal-mini[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#007aff;font-weight:600;border-radius:12px;padding:6px 12px;background:#f3f3f7;border:1px solid rgba(0,0,0,.06)}.empresa[_ngcontent-%COMP%]{font-weight:700;margin-bottom:4px;font-size:15px;color:#111}.dato[_ngcontent-%COMP%]{display:inline-block;margin-top:8px;color:#007aff;font-weight:600;font-size:15px;border-bottom:1px dotted rgba(0,0,0,.2)}.btn-primary[_ngcontent-%COMP%]{margin-top:14px;display:inline-flex;align-items:center;gap:8px;padding:12px 18px;background:#ff3b30;color:#fff;border-radius:14px;font-weight:700;border:none;font-size:15px;box-shadow:0 6px 20px #ff3b3040}.social-row[_ngcontent-%COMP%]{margin-top:14px;display:flex;gap:14px;flex-wrap:wrap}.social-row[_ngcontent-%COMP%]   .chip[_ngcontent-%COMP%]{width:42px;height:42px;background:#fff;border-radius:50%;border:1px solid rgba(0,0,0,.08);display:grid;place-items:center;color:#111;font-size:22px;box-shadow:0 2px 6px #00000014}.copy[_ngcontent-%COMP%]{margin-top:20px;font-size:12px;text-align:center;color:#8e8e93}']}),D})()}}]);