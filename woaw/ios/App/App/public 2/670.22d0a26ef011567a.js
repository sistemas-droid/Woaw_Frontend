"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[670],{670:(to,Y,h)=>{h.r(Y),h.d(Y,{UpdateCarPageModule:()=>qn});var D=h(2881),R=h(9417),b=h(7343),H=h(9870),v=h(467),J=h(6967),K=h(3943),Z=h(4843),q=h(5964),n=h(1360),W=h(2381),nn=h(5806),on=h(7643),en=h(9557),tn=h(7636),an=h(4277),rn=h(6171);const cn=["mapAutoContainer"],ln=["inputArchivo"],S=()=>({cssClass:"select-lote-rojo"});function sn(r,d){if(1&r&&(n.j41(0,"span",34),n.EFF(1),n.k0s()),2&r){const t=n.XpG();n.R7$(),n.E5c(" ",t.auto.marca," ",t.auto.modelo," ",t.auto.anio," ")}}function dn(r,d){1&r&&(n.j41(0,"ion-row")(1,"ion-col",57)(2,"div",60),n.nrm(3,"ion-icon",61),n.j41(4,"span"),n.EFF(5,"Versiones"),n.k0s()()()())}function un(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-button",70),n.bIt("click",function(){n.eBV(t);const o=n.XpG().index,e=n.XpG(4);return n.Njj(e.eliminarVersion(o))}),n.nrm(1,"ion-icon",31),n.k0s()}}function _n(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-col",64)(1,"div",65)(2,"label",66),n.EFF(3),n.k0s(),n.j41(4,"ion-item",58)(5,"ion-label",67),n.EFF(6,"Precio"),n.k0s(),n.j41(7,"ion-input",68),n.mxI("ngModelChange",function(o){const e=n.eBV(t).index,a=n.XpG(4);return n.DH7(a.auto.version[e].Precio,o)||(a.auto.version[e].Precio=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(4);return n.Njj(o.verificarCambiosPrecio())}),n.k0s(),n.DNE(8,un,2,0,"ion-button",69),n.k0s()()()}if(2&r){const t=d.$implicit,i=d.index,o=n.XpG(4);n.R7$(3),n.JRh(t.Name),n.R7$(4),n.R50("ngModel",o.auto.version[i].Precio),n.R7$(),n.Y8G("ngIf","nuevo"==o.auto.tipoVenta)}}function pn(r,d){if(1&r&&(n.j41(0,"ion-row",62),n.DNE(1,_n,9,3,"ion-col",63),n.k0s()),2&r){const t=n.XpG(3);n.R7$(),n.Y8G("ngForOf",t.auto.version)}}function gn(r,d){if(1&r&&(n.j41(0,"ion-col",57)(1,"div",60),n.nrm(2,"ion-icon",61),n.j41(3,"span"),n.EFF(4),n.k0s()()()),2&r){const t=n.XpG(3);n.R7$(4),n.SpI("Versi\xf3n: ",(null==t.auto.version[0]?null:t.auto.version[0].Name)||"\xdanica","")}}function mn(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-col",50)(1,"ion-item")(2,"ion-label",51),n.EFF(3,"Precio"),n.k0s(),n.j41(4,"ion-input",68),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(3);return n.DH7(e.auto.version[0].Precio,o)||(e.auto.version[0].Precio=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(3);return n.Njj(o.verificarCambiosPrecio())}),n.k0s()()()}if(2&r){const t=n.XpG(3);n.R7$(4),n.R50("ngModel",t.auto.version[0].Precio)}}function vn(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-col",50)(1,"ion-item")(2,"ion-label",51),n.EFF(3,"Kilometraje"),n.k0s(),n.j41(4,"ion-input",71),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(3);return n.DH7(e.auto.kilometraje,o)||(e.auto.kilometraje=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(3);return n.Njj(o.markDirty())}),n.k0s()()()}if(2&r){const t=n.XpG(3);n.R7$(4),n.R50("ngModel",t.auto.kilometraje)}}function bn(r,d){if(1&r&&(n.j41(0,"ion-select-option",72),n.EFF(1),n.k0s()),2&r){const t=d.$implicit;n.Y8G("value",t.label),n.R7$(),n.SpI(" ",t.label," ")}}function hn(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-col",50)(1,"ion-item")(2,"ion-label",51),n.EFF(3,"Placas (opcional)"),n.k0s(),n.j41(4,"ion-input",73),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(3);return n.DH7(e.auto.placas,o)||(e.auto.placas=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(3);return n.Njj(o.markDirty())}),n.k0s()()()}if(2&r){const t=n.XpG(3);n.R7$(4),n.R50("ngModel",t.auto.placas)}}function fn(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-grid"),n.DNE(1,dn,6,0,"ion-row",23)(2,pn,2,1,"ion-row",47),n.j41(3,"ion-row"),n.DNE(4,gn,5,1,"ion-col",48)(5,mn,5,1,"ion-col",49)(6,vn,5,1,"ion-col",49),n.j41(7,"ion-col",50)(8,"ion-item")(9,"ion-label",51),n.EFF(10,"Color"),n.k0s(),n.j41(11,"ion-select",52),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.color,o)||(e.auto.color=o),n.Njj(o)}),n.bIt("ionChange",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.DNE(12,bn,2,2,"ion-select-option",53),n.k0s()()(),n.j41(13,"ion-col",50)(14,"ion-item")(15,"ion-label",51),n.EFF(16,"Moneda"),n.k0s(),n.j41(17,"ion-select",54),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.moneda,o)||(e.auto.moneda=o),n.Njj(o)}),n.bIt("ionChange",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.j41(18,"ion-select-option",55),n.EFF(19,"MXN - Pesos mexicanos"),n.k0s(),n.j41(20,"ion-select-option",56),n.EFF(21,"USD - D\xf3lares estadounidenses"),n.k0s()()()(),n.DNE(22,hn,5,1,"ion-col",49),n.j41(23,"ion-col",57)(24,"ion-item",58)(25,"ion-label",51),n.EFF(26,"Descripci\xf3n del veh\xedculo"),n.k0s(),n.j41(27,"ion-textarea",59),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.descripcion,o)||(e.auto.descripcion=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.k0s()()()()()}if(2&r){const t=n.XpG(2);n.R7$(),n.Y8G("ngIf",(null==t.auto||null==t.auto.version?null:t.auto.version.length)>1),n.R7$(),n.Y8G("ngIf",(null==t.auto||null==t.auto.version?null:t.auto.version.length)>1),n.R7$(2),n.Y8G("ngIf",1===(null==t.auto||null==t.auto.version?null:t.auto.version.length)),n.R7$(),n.Y8G("ngIf",1===(null==t.auto||null==t.auto.version?null:t.auto.version.length)),n.R7$(),n.Y8G("ngIf",!t.isNuevo),n.R7$(5),n.R50("ngModel",t.auto.color),n.Y8G("interfaceOptions",n.lJ4(12,S)),n.R7$(),n.Y8G("ngForOf",t.opciones),n.R7$(5),n.R50("ngModel",t.auto.moneda),n.Y8G("interfaceOptions",n.lJ4(13,S)),n.R7$(5),n.Y8G("ngIf",!t.isNuevo),n.R7$(5),n.R50("ngModel",t.auto.descripcion)}}function Cn(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-col",50)(1,"ion-item")(2,"ion-label",51),n.EFF(3,"Placas (opcional)"),n.k0s(),n.j41(4,"ion-input",73),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(3);return n.DH7(e.auto.placas,o)||(e.auto.placas=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(3);return n.Njj(o.markDirty())}),n.k0s()()()}if(2&r){const t=n.XpG(3);n.R7$(4),n.R50("ngModel",t.auto.placas)}}function xn(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-col",50)(1,"ion-item")(2,"ion-label",51),n.EFF(3,"Kilometraje"),n.k0s(),n.j41(4,"ion-input",81),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(3);return n.DH7(e.auto.kilometraje,o)||(e.auto.kilometraje=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(3);return n.Njj(o.markDirty())}),n.k0s()()()}if(2&r){const t=n.XpG(3);n.R7$(4),n.R50("ngModel",t.auto.kilometraje)}}function Mn(r,d){if(1&r&&(n.j41(0,"ion-select-option",72),n.EFF(1),n.k0s()),2&r){const t=d.$implicit;n.Y8G("value",t.label),n.R7$(),n.SpI(" ",t.label," ")}}function Pn(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-grid")(1,"ion-row",62)(2,"ion-col",50)(3,"div",65)(4,"label",66),n.EFF(5,"Precio"),n.k0s(),n.j41(6,"ion-item",58)(7,"ion-label",67),n.EFF(8,"Precio"),n.k0s(),n.j41(9,"ion-input",68),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.precioMoto,o)||(e.precioMoto=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.verificarCambiosPrecio())}),n.k0s()()()()(),n.j41(10,"ion-row"),n.DNE(11,Cn,5,1,"ion-col",49)(12,xn,5,1,"ion-col",49),n.j41(13,"ion-col",50)(14,"ion-item")(15,"ion-label",51),n.EFF(16,"Color"),n.k0s(),n.j41(17,"ion-select",52),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.color,o)||(e.auto.color=o),n.Njj(o)}),n.bIt("ionChange",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.DNE(18,Mn,2,2,"ion-select-option",53),n.k0s()()(),n.j41(19,"ion-col",50)(20,"ion-item")(21,"ion-label",51),n.EFF(22,"Moneda"),n.k0s(),n.j41(23,"ion-select",54),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.moneda,o)||(e.auto.moneda=o),n.Njj(o)}),n.bIt("ionChange",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.j41(24,"ion-select-option",55),n.EFF(25,"MXN - Pesos mexicanos"),n.k0s(),n.j41(26,"ion-select-option",56),n.EFF(27,"USD - D\xf3lares estadounidenses"),n.k0s()()()(),n.j41(28,"ion-col",50)(29,"ion-item")(30,"ion-label",51),n.EFF(31,"Tipo de Motor (opcional)"),n.k0s(),n.j41(32,"ion-input",74),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.tipoMotor,o)||(e.auto.tipoMotor=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.k0s()()(),n.j41(33,"ion-col",50)(34,"ion-item")(35,"ion-label",51),n.EFF(36,"Cilindrada"),n.k0s(),n.j41(37,"ion-input",75),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.cilindrada,o)||(e.auto.cilindrada=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.k0s()()(),n.j41(38,"ion-col",50)(39,"ion-item")(40,"ion-label",51),n.EFF(41,"Transmisi\xf3n"),n.k0s(),n.j41(42,"ion-input",76),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.transmision,o)||(e.auto.transmision=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.k0s()()(),n.j41(43,"ion-col",50)(44,"ion-item")(45,"ion-label",51),n.EFF(46,"Combustible (opcional)"),n.k0s(),n.j41(47,"ion-input",77),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.combustible,o)||(e.auto.combustible=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.k0s()()(),n.j41(48,"ion-col",50)(49,"ion-item")(50,"ion-label",51),n.EFF(51,"Frenos (opcional)"),n.k0s(),n.j41(52,"ion-input",78),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.frenos,o)||(e.auto.frenos=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.k0s()()(),n.j41(53,"ion-col",50)(54,"ion-item")(55,"ion-label",51),n.EFF(56,"Suspensi\xf3n (opcional)"),n.k0s(),n.j41(57,"ion-input",79),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.suspension,o)||(e.auto.suspension=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.k0s()()(),n.j41(58,"ion-col",57)(59,"ion-item",58)(60,"ion-label",51),n.EFF(61,"Descripci\xf3n de la motocicleta"),n.k0s(),n.j41(62,"ion-textarea",80),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.descripcion,o)||(e.auto.descripcion=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.k0s()()()()()}if(2&r){const t=n.XpG(2);n.R7$(9),n.R50("ngModel",t.precioMoto),n.R7$(2),n.Y8G("ngIf",!t.isNuevo),n.R7$(),n.Y8G("ngIf",!t.isNuevo),n.R7$(5),n.R50("ngModel",t.auto.color),n.Y8G("interfaceOptions",n.lJ4(15,S)),n.R7$(),n.Y8G("ngForOf",t.opciones),n.R7$(5),n.R50("ngModel",t.auto.moneda),n.Y8G("interfaceOptions",n.lJ4(16,S)),n.R7$(9),n.R50("ngModel",t.auto.tipoMotor),n.R7$(5),n.R50("ngModel",t.auto.cilindrada),n.R7$(5),n.R50("ngModel",t.auto.transmision),n.R7$(5),n.R50("ngModel",t.auto.combustible),n.R7$(5),n.R50("ngModel",t.auto.frenos),n.R7$(5),n.R50("ngModel",t.auto.suspension),n.R7$(5),n.R50("ngModel",t.auto.descripcion)}}function jn(r,d){1&r&&(n.j41(0,"ion-row")(1,"ion-col",57)(2,"div",60),n.nrm(3,"ion-icon",61),n.j41(4,"span"),n.EFF(5,"Versiones"),n.k0s()()()())}function On(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-button",70),n.bIt("click",function(){n.eBV(t);const o=n.XpG().index,e=n.XpG(4);return n.Njj(e.eliminarVersion(o))}),n.nrm(1,"ion-icon",31),n.k0s()}}function kn(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-col",64)(1,"div",65)(2,"label",66),n.EFF(3),n.k0s(),n.j41(4,"ion-item",58)(5,"ion-label",67),n.EFF(6,"Precio"),n.k0s(),n.j41(7,"ion-input",68),n.mxI("ngModelChange",function(o){const e=n.eBV(t).index,a=n.XpG(4);return n.DH7(a.auto.version[e].Precio,o)||(a.auto.version[e].Precio=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(4);return n.Njj(o.verificarCambiosPrecio())}),n.k0s(),n.DNE(8,On,2,0,"ion-button",69),n.k0s()()()}if(2&r){const t=d.$implicit,i=d.index,o=n.XpG(4);n.R7$(3),n.JRh(t.Name),n.R7$(4),n.R50("ngModel",o.auto.version[i].Precio),n.R7$(),n.Y8G("ngIf","nuevo"==o.auto.tipoVenta)}}function Sn(r,d){if(1&r&&(n.j41(0,"ion-row",62),n.DNE(1,kn,9,3,"ion-col",63),n.k0s()),2&r){const t=n.XpG(3);n.R7$(),n.Y8G("ngForOf",t.auto.version)}}function Fn(r,d){if(1&r&&(n.j41(0,"ion-col",57)(1,"div",60),n.nrm(2,"ion-icon",61),n.j41(3,"span"),n.EFF(4),n.k0s()()()),2&r){const t=n.XpG(3);n.R7$(4),n.SpI("Versi\xf3n: ",(null==t.auto.version[0]?null:t.auto.version[0].Name)||"\xdanica","")}}function In(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-col",50)(1,"ion-item")(2,"ion-label",51),n.EFF(3,"Precio"),n.k0s(),n.j41(4,"ion-input",68),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(3);return n.DH7(e.auto.version[0].Precio,o)||(e.auto.version[0].Precio=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(3);return n.Njj(o.verificarCambiosPrecio())}),n.k0s()()()}if(2&r){const t=n.XpG(3);n.R7$(4),n.R50("ngModel",t.auto.version[0].Precio)}}function En(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-col",50)(1,"ion-item")(2,"ion-label",51),n.EFF(3,"Precio"),n.k0s(),n.j41(4,"ion-input",68),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(3);return n.DH7(e.auto.precio,o)||(e.auto.precio=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(3);return n.Njj(o.verificarCambiosPrecio())}),n.k0s()()()}if(2&r){const t=n.XpG(3);n.R7$(4),n.R50("ngModel",t.auto.precio)}}function yn(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-col",50)(1,"ion-item")(2,"ion-label",51),n.EFF(3,"Kilometraje"),n.k0s(),n.j41(4,"ion-input",98),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(3);return n.DH7(e.auto.kilometraje,o)||(e.auto.kilometraje=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(3);return n.Njj(o.markDirty())}),n.k0s()()()}if(2&r){const t=n.XpG(3);n.R7$(4),n.R50("ngModel",t.auto.kilometraje)}}function Gn(r,d){if(1&r&&(n.j41(0,"ion-select-option",72),n.EFF(1),n.k0s()),2&r){const t=d.$implicit;n.Y8G("value",t.label),n.R7$(),n.SpI(" ",t.label," ")}}function Nn(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-col",50)(1,"ion-item")(2,"ion-label",51),n.EFF(3,"Placas (opcional)"),n.k0s(),n.j41(4,"ion-input",99),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(3);return n.DH7(e.auto.placas,o)||(e.auto.placas=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(3);return n.Njj(o.markDirty())}),n.k0s()()()}if(2&r){const t=n.XpG(3);n.R7$(4),n.R50("ngModel",t.auto.placas)}}function Un(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-grid"),n.DNE(1,jn,6,0,"ion-row",23)(2,Sn,2,1,"ion-row",47),n.j41(3,"ion-row"),n.DNE(4,Fn,5,1,"ion-col",48)(5,In,5,1,"ion-col",49)(6,En,5,1,"ion-col",49)(7,yn,5,1,"ion-col",49),n.j41(8,"ion-col",50)(9,"ion-item")(10,"ion-label",51),n.EFF(11,"Color"),n.k0s(),n.j41(12,"ion-select",52),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.color,o)||(e.auto.color=o),n.Njj(o)}),n.bIt("ionChange",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.DNE(13,Gn,2,2,"ion-select-option",53),n.k0s()()(),n.j41(14,"ion-col",50)(15,"ion-item")(16,"ion-label",51),n.EFF(17,"Moneda"),n.k0s(),n.j41(18,"ion-select",54),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.moneda,o)||(e.auto.moneda=o),n.Njj(o)}),n.bIt("ionChange",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.j41(19,"ion-select-option",55),n.EFF(20,"MXN - Pesos mexicanos"),n.k0s(),n.j41(21,"ion-select-option",56),n.EFF(22,"USD - D\xf3lares estadounidenses"),n.k0s()()()(),n.DNE(23,Nn,5,1,"ion-col",49),n.j41(24,"ion-col",50)(25,"ion-item")(26,"ion-label",51),n.EFF(27,"Capacidad de carga (kg)"),n.k0s(),n.j41(28,"ion-input",82),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.capacidadCarga,o)||(e.auto.capacidadCarga=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.k0s()()(),n.j41(29,"ion-col",50)(30,"ion-item")(31,"ion-label",51),n.EFF(32,"Ejes"),n.k0s(),n.j41(33,"ion-input",83),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.ejes,o)||(e.auto.ejes=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.k0s()()(),n.j41(34,"ion-col",50)(35,"ion-item")(36,"ion-label",51),n.EFF(37,"Tipo de cabina"),n.k0s(),n.j41(38,"ion-select",84),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.tipoCabina,o)||(e.auto.tipoCabina=o),n.Njj(o)}),n.bIt("ionChange",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.j41(39,"ion-select-option",85),n.EFF(40,"Cabina sencilla"),n.k0s(),n.j41(41,"ion-select-option",86),n.EFF(42,"Doble cabina"),n.k0s(),n.j41(43,"ion-select-option",87),n.EFF(44,"Cabover"),n.k0s(),n.j41(45,"ion-select-option",88),n.EFF(46,"Dormitorio"),n.k0s(),n.j41(47,"ion-select-option",89),n.EFF(48,"Chasis"),n.k0s(),n.j41(49,"ion-select-option",90),n.EFF(50,"Otro"),n.k0s()()()(),n.j41(51,"ion-col",50)(52,"ion-item")(53,"ion-label",51),n.EFF(54,"Transmisi\xf3n"),n.k0s(),n.j41(55,"ion-input",91),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.transmision,o)||(e.auto.transmision=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.k0s()()(),n.j41(56,"ion-col",50)(57,"ion-item")(58,"ion-label",51),n.EFF(59,"Combustible"),n.k0s(),n.j41(60,"ion-select",84),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.combustible,o)||(e.auto.combustible=o),n.Njj(o)}),n.bIt("ionChange",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.j41(61,"ion-select-option",92),n.EFF(62,"Di\xe9sel"),n.k0s(),n.j41(63,"ion-select-option",93),n.EFF(64,"Gasolina"),n.k0s(),n.j41(65,"ion-select-option",94),n.EFF(66,"Gas Natural"),n.k0s(),n.j41(67,"ion-select-option",95),n.EFF(68,"El\xe9ctrico"),n.k0s(),n.j41(69,"ion-select-option",96),n.EFF(70,"H\xedbrido"),n.k0s(),n.j41(71,"ion-select-option",90),n.EFF(72,"Otro"),n.k0s()()()(),n.j41(73,"ion-col",57)(74,"ion-item",58)(75,"ion-label",51),n.EFF(76,"Descripci\xf3n del cami\xf3n"),n.k0s(),n.j41(77,"ion-textarea",97),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.auto.descripcion,o)||(e.auto.descripcion=o),n.Njj(o)}),n.bIt("ionInput",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.markDirty())}),n.k0s()()()()()}if(2&r){const t=n.XpG(2);n.R7$(),n.Y8G("ngIf",(null==t.auto||null==t.auto.version?null:t.auto.version.length)>1),n.R7$(),n.Y8G("ngIf",(null==t.auto||null==t.auto.version?null:t.auto.version.length)>1),n.R7$(2),n.Y8G("ngIf",1===(null==t.auto||null==t.auto.version?null:t.auto.version.length)),n.R7$(),n.Y8G("ngIf",1===(null==t.auto||null==t.auto.version?null:t.auto.version.length)),n.R7$(),n.Y8G("ngIf",!(null!=t.auto&&null!=t.auto.version&&t.auto.version.length)),n.R7$(),n.Y8G("ngIf",!t.isNuevo),n.R7$(5),n.R50("ngModel",t.auto.color),n.Y8G("interfaceOptions",n.lJ4(20,S)),n.R7$(),n.Y8G("ngForOf",t.opciones),n.R7$(5),n.R50("ngModel",t.auto.moneda),n.Y8G("interfaceOptions",n.lJ4(21,S)),n.R7$(5),n.Y8G("ngIf",!t.isNuevo),n.R7$(5),n.R50("ngModel",t.auto.capacidadCarga),n.R7$(5),n.R50("ngModel",t.auto.ejes),n.R7$(5),n.R50("ngModel",t.auto.tipoCabina),n.Y8G("interfaceOptions",n.lJ4(22,S)),n.R7$(17),n.R50("ngModel",t.auto.transmision),n.R7$(5),n.R50("ngModel",t.auto.combustible),n.Y8G("interfaceOptions",n.lJ4(23,S)),n.R7$(17),n.R50("ngModel",t.auto.descripcion)}}function $n(r,d){if(1&r){const t=n.RV6();n.j41(0,"div",41),n.bIt("click",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.seleccionarTipo("lote"))}),n.nrm(1,"img",100),n.j41(2,"p"),n.EFF(3,"Lote"),n.k0s(),n.nrm(4,"ion-icon",43),n.k0s()}if(2&r){const t=n.XpG(2);n.AVh("activa","lote"===t.tipoSeleccionado)}}function Rn(r,d){if(1&r&&(n.j41(0,"ion-select-option",72),n.EFF(1),n.k0s()),2&r){const t=d.$implicit;n.Y8G("value",t._id),n.R7$(),n.SpI(" ",t.nombre||"Lote sin nombre"," ")}}function Dn(r,d){if(1&r&&(n.j41(0,"ion-select-option",72),n.EFF(1),n.k0s()),2&r){const t=d.$implicit,i=d.index,o=n.XpG(4);n.Y8G("value",t),n.R7$(),n.SpI(" ",o.ubicacionesLoteLegibles[i]||"Obteniendo direcci\xf3n..."," ")}}function wn(r,d){if(1&r){const t=n.RV6();n.j41(0,"ion-item")(1,"ion-label",51),n.EFF(2,"Ubicaci\xf3n"),n.k0s(),n.j41(3,"ion-select",103),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(3);return n.DH7(e.direccionSeleccionada,o)||(e.direccionSeleccionada=o),n.Njj(o)}),n.bIt("ionChange",function(o){n.eBV(t);const e=n.XpG(3);return n.Njj(e.onUbicacionChange(o))}),n.DNE(4,Dn,2,2,"ion-select-option",53),n.k0s()()}if(2&r){const t=n.XpG(3);n.R7$(3),n.R50("ngModel",t.direccionSeleccionada),n.Y8G("interfaceOptions",n.lJ4(3,S)),n.R7$(),n.Y8G("ngForOf",t.ubicacionesLoteSeleccionado)}}function Vn(r,d){if(1&r&&(n.j41(0,"ion-item"),n.nrm(1,"ion-input",104),n.k0s()),2&r){const t=n.XpG(3);n.R7$(),n.Y8G("value",t.direccionCompleta)}}function Tn(r,d){if(1&r){const t=n.RV6();n.j41(0,"div",101)(1,"ion-item")(2,"ion-label",51),n.EFF(3,"Lote"),n.k0s(),n.j41(4,"ion-select",102),n.mxI("ngModelChange",function(o){n.eBV(t);const e=n.XpG(2);return n.DH7(e.loteSeleccionado,o)||(e.loteSeleccionado=o),n.Njj(o)}),n.bIt("ionChange",function(o){n.eBV(t);const e=n.XpG(2);return n.Njj(e.seleccionarLote(o.detail.value))}),n.DNE(5,Rn,2,2,"ion-select-option",53),n.k0s()(),n.DNE(6,wn,5,4,"ion-item",23)(7,Vn,2,1,"ion-item",23),n.k0s()}if(2&r){const t=n.XpG(2);n.R7$(4),n.R50("ngModel",t.loteSeleccionado),n.Y8G("interfaceOptions",n.lJ4(5,S)),n.R7$(),n.Y8G("ngForOf",t.lotes),n.R7$(),n.Y8G("ngIf",t.ubicacionesLoteSeleccionado.length>1),n.R7$(),n.Y8G("ngIf",1===t.ubicacionesLoteSeleccionado.length)}}function Xn(r,d){if(1&r&&(n.j41(0,"div",109),n.nrm(1,"ion-icon",110),n.EFF(2),n.k0s()),2&r){const t=n.XpG(3);n.R7$(2),n.SpI(" ",t.direccionCompleta," ")}}function An(r,d){if(1&r){const t=n.RV6();n.j41(0,"div",105)(1,"button",106),n.bIt("click",function(){n.eBV(t);const o=n.XpG(2);return n.Njj(o.seleccionarUbicacion())}),n.nrm(2,"ion-icon",107),n.EFF(3," Seleccionar ubicaci\xf3n "),n.k0s(),n.DNE(4,Xn,3,1,"div",108),n.k0s()}if(2&r){const t=n.XpG(2);n.R7$(4),n.Y8G("ngIf",t.ubicacionSeleccionada)}}function Bn(r,d){if(1&r){const t=n.RV6();n.j41(0,"div")(1,"div",35)(2,"div",36),n.DNE(3,fn,28,14,"ion-grid",23)(4,Pn,63,17,"ion-grid",23)(5,Un,78,24,"ion-grid",23),n.k0s(),n.j41(6,"div",37)(7,"div",38)(8,"h2",39)(9,"strong"),n.EFF(10,"Ubicaci\xf3n"),n.k0s()(),n.j41(11,"div",40)(12,"div",41),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.seleccionarTipo("particular"))}),n.nrm(13,"img",42),n.j41(14,"p"),n.EFF(15,"Particular"),n.k0s(),n.nrm(16,"ion-icon",43),n.k0s(),n.DNE(17,$n,5,2,"div",44),n.k0s(),n.DNE(18,Tn,8,6,"div",45)(19,An,5,1,"div",46),n.k0s()()()()}if(2&r){const t=n.XpG();n.R7$(3),n.Y8G("ngIf",("autos"===t.tipo_veiculo||"renta"===t.tipo_veiculo)&&t.auto),n.R7$(),n.Y8G("ngIf","motos"===t.tipo_veiculo&&t.auto),n.R7$(),n.Y8G("ngIf","camiones"===t.tipo_veiculo&&t.auto),n.R7$(7),n.AVh("activa","particular"===t.tipoSeleccionado),n.R7$(5),n.Y8G("ngIf",t.auto&&"nuevo"!==(null==t.auto.tipoVenta?null:t.auto.tipoVenta.toLowerCase())&&("admin"===t.MyRole||"lotero"===t.MyRole)),n.R7$(),n.Y8G("ngIf","lote"===t.tipoSeleccionado&&("admin"==t.MyRole||"lotero"==t.MyRole)),n.R7$(),n.Y8G("ngIf","particular"===t.tipoSeleccionado&&("admin"==t.MyRole||"vendedor"==t.MyRole||"lotero"==t.MyRole))}}function zn(r,d){if(1&r){const t=n.RV6();n.j41(0,"img",124),n.bIt("click",function(){const o=n.eBV(t).$implicit,e=n.XpG(3);return n.Njj(e.actualizarImagenPrincipal(o))}),n.k0s()}2&r&&n.Y8G("src",d.$implicit,n.B4B)}function Ln(r,d){if(1&r&&(n.j41(0,"div",122),n.DNE(1,zn,1,1,"img",123),n.k0s()),2&r){const t=n.XpG(2);n.R7$(),n.Y8G("ngForOf",t.urlsImagenes)}}function Yn(r,d){if(1&r){const t=n.RV6();n.j41(0,"div",127),n.nrm(1,"img",128),n.j41(2,"div",129)(3,"button",130),n.bIt("click",function(){const o=n.eBV(t).$implicit,e=n.XpG(3);return n.Njj(e.eliminarImagen_visual(o))}),n.nrm(4,"ion-icon",31),n.EFF(5," Eliminar "),n.k0s()()()}if(2&r){const t=d.$implicit;n.R7$(),n.Y8G("src",t,n.B4B)}}function Hn(r,d){if(1&r&&(n.j41(0,"div",125),n.DNE(1,Yn,6,1,"div",126),n.k0s()),2&r){const t=n.XpG(2);n.R7$(),n.Y8G("ngForOf",t.urlsImagenes)}}function Jn(r,d){if(1&r){const t=n.RV6();n.j41(0,"div")(1,"ion-grid")(2,"ion-row")(3,"ion-col",50)(4,"ion-card",111)(5,"ion-card-header")(6,"ion-card-title"),n.EFF(7,"Imagen principal del auto"),n.k0s(),n.j41(8,"ion-card-subtitle"),n.EFF(9,"Selecciona una imagen para remover el fondo"),n.k0s()(),n.j41(10,"ion-card-content")(11,"div",112)(12,"button",113),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.seleccionarImagen())}),n.nrm(13,"ion-icon",114),n.EFF(14," Nueva imagen "),n.k0s(),n.j41(15,"input",115,0),n.bIt("change",function(o){n.eBV(t);const e=n.XpG();return n.Njj(e.cargarNuevaImagen(o))}),n.k0s()(),n.j41(17,"div",116),n.nrm(18,"img",117),n.k0s(),n.j41(19,"p",118),n.EFF(20,"Selecciona una imagen para remover el fondo"),n.k0s(),n.DNE(21,Ln,2,1,"div",119),n.k0s()()(),n.j41(22,"ion-col",50)(23,"ion-card",111)(24,"ion-card-header")(25,"ion-card-title"),n.EFF(26,"Im\xe1genes de mi auto"),n.k0s(),n.j41(27,"ion-card-subtitle"),n.EFF(28,"Agrega m\xe1ximo 10 im\xe1genes"),n.k0s()(),n.j41(29,"ion-card-content")(30,"label",120),n.nrm(31,"ion-icon",114),n.EFF(32," Agregar imagen "),n.j41(33,"input",115),n.bIt("change",function(o){n.eBV(t);const e=n.XpG();return n.Njj(e.agregarImagen(o))}),n.k0s()(),n.DNE(34,Hn,2,1,"div",121),n.k0s()()()()()()}if(2&r){const t=n.XpG();n.R7$(18),n.Y8G("src",t.imagenPrincipalMostrada,n.B4B),n.R7$(3),n.Y8G("ngIf",null==t.urlsImagenes?null:t.urlsImagenes.length),n.R7$(13),n.Y8G("ngIf",null==t.urlsImagenes?null:t.urlsImagenes.length)}}const Wn=[{path:"",component:(()=>{var r;class d{constructor(i,o,e,a,c,l,_,u,s){this.route=i,this.modalController=o,this.generalService=e,this.http=a,this.router=c,this.carsService=l,this.motosService=_,this.camionesService=u,this.registroService=s,this.auto=null,this.seccionActiva="datos",this.urlsImagenes=[],this.imagenes=[],this.urlsImagenesExistentes=[],this.precioMoto=null,this.esDispositivoMovil=!1,this.descripcionExpandida=!1,this.ActualizaImgen=!1,this.ubicacionSeleccionada=null,this.versionSeleccionada=null,this.versiones=[],this.especificacionesAuto=[],this.isLoggedIn=!1,this.MyRole=null,this.tipo="",this.direccionCompleta="Obteniendo ubicaci\xf3n...",this.tipo_veiculo="",this.ubicacionesLoteLegibles=[],this.imagenPrincipal_sinFondo=null,this.imagenPrincipalMostrada="",this.opciones=[{label:"Blanco"},{label:"Negro"},{label:"Gris"},{label:"Plateado"},{label:"Rojo"},{label:"Azul"},{label:"Azul marino"},{label:"Verde"},{label:"Verde oscuro"},{label:"Beige"},{label:"Caf\xe9"},{label:"Amarillo"},{label:"Naranja"},{label:"Morado"},{label:"Vino"},{label:"Oro"},{label:"Bronce"},{label:"Turquesa"},{label:"Gris Oxford"},{label:"Arena"},{label:"Azul cielo"},{label:"Grafito"},{label:"Champagne"},{label:"Titanio"},{label:"Cobre"},{label:"Camale\xf3n"},{label:"Otro"}],this.restablecer=!1,this.versionesOriginales=[],this.lotes=[],this.totalLotes=0,this.loteSeleccionado=null,this.direccionSeleccionada=null,this.direccionSeleccionadaActual=null,this.ubicacionesLoteSeleccionado=[],this.tipoSeleccionado="particular",this.initializing=!0,this.initialComparable=null}ngAfterViewInit(){const i=o=>{o.interface="alert",o.interfaceOptions={cssClass:"alert-rojo"}};queueMicrotask(()=>this.selects.forEach(i)),this.selects.changes.subscribe(o=>o.forEach(i))}get isNuevo(){var i;return"nuevo"===((null===(i=this.auto)||void 0===i?void 0:i.tipoVenta)||"").toLowerCase()}ngOnInit(){var i=this;return(0,v.A)(function*(){i.generalService.tokenExistente$.subscribe(e=>{i.isLoggedIn=e}),i.generalService.dispositivo$.subscribe(e=>{i.esDispositivoMovil="telefono"===e||"tablet"===e});const o=yield(0,Z._)(i.generalService.tipoRol$.pipe((0,q.p)(e=>void 0!==e)));i.MyRole=null!=o?o:null,yield i.obtenerVeiculo(),"admin"===i.MyRole?i.getLotes("all"):"lotero"===i.MyRole?i.getLotes("mios"):i.tryFinalizeInit()})()}normColor(i){return Array.isArray(i)?i.join(", "):(null!=i?i:"").toString()}buildComparableState(){var i,o,e,a,c,l,_,u,s,p,g,m,C,x,f,M,P,j,F,O,I,E,y,k,G,N,U,$,w,V,T,X,A,B,z,L;const no=this.ubicacionSeleccionada?{lat:this.ubicacionSeleccionada[2],lng:this.ubicacionSeleccionada[3]}:null,oo=this.direccionSeleccionada?{lat:Number(null!==(i=this.direccionSeleccionada.lat)&&void 0!==i?i:0),lng:Number(null!==(o=this.direccionSeleccionada.lng)&&void 0!==o?o:0)}:null,eo="motos"===this.tipo_veiculo?{tipoMotor:String(null!==(e=null===(a=this.auto)||void 0===a?void 0:a.tipoMotor)&&void 0!==e?e:""),cilindrada:String(null!==(c=null===(l=this.auto)||void 0===l?void 0:l.cilindrada)&&void 0!==c?c:""),transmision:String(null!==(_=null===(u=this.auto)||void 0===u?void 0:u.transmision)&&void 0!==_?_:""),combustible:String(null!==(s=null===(p=this.auto)||void 0===p?void 0:p.combustible)&&void 0!==s?s:""),frenos:String(null!==(g=null===(m=this.auto)||void 0===m?void 0:m.frenos)&&void 0!==g?g:""),suspension:String(null!==(C=null===(x=this.auto)||void 0===x?void 0:x.suspension)&&void 0!==C?C:""),precioMoto:Number(null!==(f=this.precioMoto)&&void 0!==f?f:0)}:{tipoMotor:"",cilindrada:"",transmision:"",combustible:"",frenos:"",suspension:"",precioMoto:null},io="camiones"===this.tipo_veiculo?{precioCamion:Number(null!==(M=null===(P=this.auto)||void 0===P?void 0:P.precio)&&void 0!==M?M:0),tipoCamion:String(null!==(j=null===(F=this.auto)||void 0===F?void 0:F.tipoCamion)&&void 0!==j?j:"").trim(),capacidadCarga:Number(null!==(O=null===(I=this.auto)||void 0===I?void 0:I.capacidadCarga)&&void 0!==O?O:0),tipoCabina:String(null!==(E=null===(y=this.auto)||void 0===y?void 0:y.tipoCabina)&&void 0!==E?E:"").trim(),combustibleCamion:String(null!==(k=null===(G=this.auto)||void 0===G?void 0:G.combustible)&&void 0!==k?k:"").trim()}:{precioCamion:null,tipoCamion:"",capacidadCarga:null,tipoCabina:"",combustibleCamion:""};return{tipo:this.tipo_veiculo,tipoSeleccionado:this.tipoSeleccionado,loteSeleccionado:null!==(N=this.loteSeleccionado)&&void 0!==N?N:null,direccionSeleccionada:oo,ubicacionSeleccionada:no,kilometraje:null!==(U=null===($=this.auto)||void 0===$?void 0:$.kilometraje)&&void 0!==U?U:null,color:this.normColor(null===(w=this.auto)||void 0===w?void 0:w.color),moneda:null!==(V=null===(T=this.auto)||void 0===T?void 0:T.moneda)&&void 0!==V?V:null,placas:null!==(X=this.auto)&&void 0!==X&&X.placas&&"null"!==this.auto.placas?this.auto.placas:"",descripcion:null!==(A=null===(B=this.auto)||void 0===B?void 0:B.descripcion)&&void 0!==A?A:"",imagenPrincipalMostrada:null!==(z=this.imagenPrincipalMostrada)&&void 0!==z?z:null,imagenes:(this.urlsImagenes||[]).slice().sort(),versiones:"autos"===this.tipo_veiculo?((null===(L=this.auto)||void 0===L?void 0:L.version)||[]).map(Q=>({Name:Q.Name,Precio:Number(Q.Precio)})):null,...eo,...io}}actualizarFlagCambios(){const i=this.buildComparableState();this.restablecer=JSON.stringify(i)!==JSON.stringify(this.initialComparable)}markDirtyFromUI(){this.initializing||this.actualizarFlagCambios()}tryFinalizeInit(){this.initializing&&this.auto&&(this.initialComparable=this.buildComparableState(),this.restablecer=!1,this.initializing=!1)}obtenerVeiculo(){var i=this;return(0,v.A)(function*(){var o;i.tipo_veiculo=null!==(o=i.route.snapshot.paramMap.get("tipo"))&&void 0!==o?o:"";const e=i.route.snapshot.paramMap.get("id");e&&("autos"===i.tipo_veiculo?i.autosURL(e):"motos"===i.tipo_veiculo?i.motosURL(e):"renta"===i.tipo_veiculo?i.rentaURL(e):"camiones"===i.tipo_veiculo&&i.camionesURL(e))})()}autosURL(i){var o=this;return(0,v.A)(function*(){o.carsService.getCar(i).subscribe({next:e=>{if(o.auto=e,o.isNuevo&&(o.auto.kilometraje=0,o.auto.placas=""),o.imagenPrincipalMostrada=o.auto.imagenPrincipal,o.urlsImagenes=[...o.auto.imagenes],o.urlsImagenesExistentes=[...e.imagenes],o.versionesOriginales=JSON.parse(JSON.stringify(o.auto.version)),null!=e.lote&&(o.tipoSeleccionado="lote",o.loteSeleccionado=e.lote._id,o.direccionSeleccionadaActual=e.ubicacion,o.ubicacionesLoteSeleccionado=e.lote.direccion||[],o.leerLatLng()),e.ubicacion&&null==e.lote){o.tipoSeleccionado="particular",o.direccionSeleccionada=e.ubicacion;const a=e.ubicacion;o.ubicacionSeleccionada=[a.ciudad||"Sin ciudad",a.estado||"Sin estado",a.lat||0,a.lng||0],o.generalService.obtenerDireccionDesdeCoordenadas(a.lat,a.lng).then(c=>{o.direccionCompleta=c}).catch(c=>{o.direccionCompleta="No se pudo obtener la direcci\xf3n.",console.warn(c)})}o.tryFinalizeInit()},error:e=>{var a;const c=(null==e||null===(a=e.error)||void 0===a?void 0:a.message)||"Ocurri\xf3 un error inesperado";o.generalService.alert("Error",c,"danger")},complete:()=>{o.generalService.loadingDismiss()}})})()}motosURL(i){var o=this;return(0,v.A)(function*(){o.motosService.getMoto(i).subscribe({next:e=>{var a,c,l;if(o.auto=e||{},o.precioMoto=null!==(a=null==e?void 0:e.precio)&&void 0!==a?a:null,o.isNuevo&&(o.auto.kilometraje=0,o.auto.placas=""),o.imagenPrincipalMostrada=(null===(c=o.auto)||void 0===c?void 0:c.imagenPrincipal)||null,o.urlsImagenes=Array.isArray(null===(l=o.auto)||void 0===l?void 0:l.imagenes)?[...o.auto.imagenes]:[],o.urlsImagenesExistentes=Array.isArray(null==e?void 0:e.imagenes)?[...e.imagenes]:[],null!=e&&e.lote){var _;if(o.tipoSeleccionado="lote",o.loteSeleccionado=e.lote._id,o.ubicacionesLoteSeleccionado=Array.isArray(null===(_=e.lote)||void 0===_?void 0:_.direccion)?e.lote.direccion:[],o.direccionSeleccionadaActual=e.ubicacion||null,e.ubicacion&&o.ubicacionesLoteSeleccionado.length>0){const{lat:u,lng:s}=e.ubicacion,p=o.ubicacionesLoteSeleccionado.find(g=>g.lat===u&&g.lng===s);o.direccionSeleccionada=p||null}else o.direccionSeleccionada=null;o.leerLatLng()}if(null!=e&&e.ubicacion&&(null==e||!e.lote)){o.tipoSeleccionado="particular",o.direccionSeleccionada=e.ubicacion;const{ciudad:u,estado:s,lat:p,lng:g}=e.ubicacion;o.ubicacionSeleccionada=[u||"Sin ciudad",s||"Sin estado","number"==typeof p?p:0,"number"==typeof g?g:0],o.generalService.obtenerDireccionDesdeCoordenadas(o.ubicacionSeleccionada[2],o.ubicacionSeleccionada[3]).then(m=>o.direccionCompleta=m).catch(m=>{o.direccionCompleta="No se pudo obtener la direcci\xf3n.",console.warn(m)})}o.tryFinalizeInit()},error:e=>{var a;const c=(null==e||null===(a=e.error)||void 0===a?void 0:a.message)||"Ocurri\xf3 un error inesperado";o.generalService.alert("Error",c,"danger")},complete:()=>{o.generalService.loadingDismiss()}})})()}camionesURL(i){var o=this;return(0,v.A)(function*(){o.camionesService.getcamionID(i).subscribe({next:e=>{var a,c,l,_,u;if(o.auto=e,o.auto.tipoCamion=String(null!==(a=null==e?void 0:e.tipoCamion)&&void 0!==a?a:""),o.auto.tipoCamion=String(null!==(c=null==e?void 0:e.tipoCamion)&&void 0!==c?c:""),o.auto.capacidadCarga=Number(null!==(l=null==e?void 0:e.capacidadCarga)&&void 0!==l?l:0),o.auto.tipoCabina=String(null!==(_=null==e?void 0:e.tipoCabina)&&void 0!==_?_:""),o.auto.combustible=String(null!==(u=null==e?void 0:e.combustible)&&void 0!==u?u:""),o.isNuevo&&(o.auto.kilometraje=0,o.auto.placas=""),o.imagenPrincipalMostrada=o.auto.imagenPrincipal,o.urlsImagenes=[...o.auto.imagenes],o.urlsImagenesExistentes=[...e.imagenes],null!=e.lote&&(o.tipoSeleccionado="lote",o.loteSeleccionado=e.lote._id,o.direccionSeleccionadaActual=e.ubicacion,o.ubicacionesLoteSeleccionado=e.lote.direccion||[],o.leerLatLng()),e.ubicacion&&null==e.lote){o.tipoSeleccionado="particular",o.direccionSeleccionada=e.ubicacion;const s=e.ubicacion;o.ubicacionSeleccionada=[s.ciudad||"Sin ciudad",s.estado||"Sin estado",s.lat||0,s.lng||0],o.generalService.obtenerDireccionDesdeCoordenadas(s.lat,s.lng).then(p=>{o.direccionCompleta=p}).catch(p=>{o.direccionCompleta="No se pudo obtener la direcci\xf3n.",console.warn(p)})}o.tryFinalizeInit()},error:e=>{var a;const c=(null==e||null===(a=e.error)||void 0===a?void 0:a.message)||"Ocurri\xf3 un error inesperado";o.generalService.alert("Error",c,"danger")},complete:()=>{o.generalService.loadingDismiss()}})})()}rentaURL(i){var o=this;return(0,v.A)(function*(){o.carsService.getCar(i).subscribe({next:e=>{if(o.auto=e,o.isNuevo&&(o.auto.kilometraje=0,o.auto.placas=""),o.imagenPrincipalMostrada=o.auto.imagenPrincipal,o.urlsImagenes=[...o.auto.imagenes],o.urlsImagenesExistentes=[...e.imagenes],o.versionesOriginales=JSON.parse(JSON.stringify(o.auto.version)),null!=e.lote&&(o.tipoSeleccionado="lote",o.loteSeleccionado=e.lote._id,o.direccionSeleccionadaActual=e.ubicacion,o.ubicacionesLoteSeleccionado=e.lote.direccion||[],o.leerLatLng()),e.ubicacion&&null==e.lote){o.tipoSeleccionado="particular",o.direccionSeleccionada=e.ubicacion;const a=e.ubicacion;o.ubicacionSeleccionada=[a.ciudad||"Sin ciudad",a.estado||"Sin estado",a.lat||0,a.lng||0],o.generalService.obtenerDireccionDesdeCoordenadas(a.lat,a.lng).then(c=>{o.direccionCompleta=c}).catch(c=>{o.direccionCompleta="No se pudo obtener la direcci\xf3n.",console.warn(c)})}o.tryFinalizeInit()},error:e=>{var a;const c=(null==e||null===(a=e.error)||void 0===a?void 0:a.message)||"Ocurri\xf3 un error inesperado";o.generalService.alert("Error",c,"danger")},complete:()=>{o.generalService.loadingDismiss()}})})()}getEspecificacionesPorVersion(i){this.carsService.EspesificacionesVersionFicha(this.auto.anio,this.auto.marca,this.auto.modelo,i).subscribe({next:l=>{this.generalService.loadingDismiss(),this.especificacionesAuto=l},error:l=>{var _;this.generalService.loadingDismiss();const u=(null==l||null===(_=l.error)||void 0===_?void 0:_.message)||"Ocurri\xf3 un error al traer las especificaciones";this.generalService.alert("Error al obtener especificaciones",u,"danger")},complete:()=>{this.generalService.loadingDismiss()}})}onSeleccionarVersion(i){this.versionSeleccionada=i,this.getEspecificacionesPorVersion(i.nombre)}mostrarmapa(){const{lat:i,lng:o,ciudad:e,estado:a}=this.auto.ubicacion,c=new google.maps.LatLng(i,o);setTimeout(()=>{this.mapAuto=new google.maps.Map(this.mapAutoContainer.nativeElement,{center:c,zoom:15}),this.autoMarker=new google.maps.Marker({position:c,map:this.mapAuto,title:`${e}, ${a}`,icon:{url:"assets/icon/car_red.png",scaledSize:new google.maps.Size(30,30),anchor:new google.maps.Point(15,30)}})},300),this.generalService.obtenerDireccionDesdeCoordenadas(i,o).then(l=>{this.direccionCompleta=l}).catch(l=>{this.direccionCompleta="No se pudo obtener la direcci\xf3n.",console.warn(l)})}actualizarImagenPrincipal(i){this.generalService.confirmarAccion("\xbfDeseas usar esta imagen como imagen principal del veh\xedculo?","Establecer como principal",()=>{this.selecionarUnaExistente(i)})}selecionarUnaExistente(i){this.imagenPrincipalMostrada=i,this.imagenPrincipal_sinFondo=i,this.markDirtyFromUI()}seleccionarImagen(){this.inputArchivo.nativeElement.click()}cargarNuevaImagen(i){var o=this;return(0,v.A)(function*(){var e,a;const l=(null===(e=i.target.files)||void 0===e?void 0:e[0])||null;if(!l)return;if(l.size>10485760)return void o.generalService.alert("Imagen demasiado grande","La imagen principal no debe exceder los 10 MB.","warning");const u=null===(a=l.name.split(".").pop())||void 0===a?void 0:a.toLowerCase();if(u&&["heic","heif"].includes(u))o.generalService.alert("Formato no compatible","Por favor selecciona una imagen en formato JPG, PNG o similar.","warning");else try{const p=yield(0,J.A)(l,{maxSizeMB:2,maxWidthOrHeight:1600,useWebWorker:!0}),g=URL.createObjectURL(p);o.imagenPrincipalMostrada=g,o.imagenPrincipal_sinFondo=p,o.markDirtyFromUI(),o.generalService.alert("\xa1Listo!","La imagen fue agregada exitosamente.","success")}catch(p){console.error("Error al procesar la imagen:",p),o.generalService.alert("Error","No se pudo procesar la imagen.","danger")}})()}agregarImagen(i){var o=this;return(0,v.A)(function*(){var e,a;const l=(null===(e=i.target.files)||void 0===e?void 0:e[0])||null;if(!l)return;if(o.urlsImagenes.length>=10)return void o.generalService.alert("L\xedmite alcanzado","Solo puedes agregar hasta 10 im\xe1genes.","warning");if(l.size>10485760)return void o.generalService.alert("Imagen demasiado grande","Cada imagen no debe exceder los 10 MB.","warning");const u=null===(a=l.name.split(".").pop())||void 0===a?void 0:a.toLowerCase();if(u&&["heic","heif"].includes(u))o.generalService.alert("Formato no compatible","Por favor selecciona una imagen en formato JPG, PNG o similar.","warning");else try{const p=yield(0,J.A)(l,{maxSizeMB:2,maxWidthOrHeight:1600,useWebWorker:!0}),g=URL.createObjectURL(p);o.urlsImagenes.push(g),o.imagenes.push(p),o.markDirtyFromUI(),o.generalService.alert("\xa1Listo!","La imagen fue agregada exitosamente.","success")}catch(p){console.error("Error al procesar la imagen:",p),o.generalService.alert("Error","No se pudo procesar la imagen.","danger")}})()}dividirImagenes(i,o){if(!i||0===i.length)return[];const e=[];for(let a=0;a<i.length;a+=o)e.push(i.slice(a,a+o));return e}alert(i){var o=this;return(0,v.A)(function*(){o.generalService.confirmarAccion("\xbfEst\xe1s seguro de eliminar este veh\xedculo?","Eliminar",()=>{"autos"===o.tipo_veiculo?o.eliminarCoches(i):"motos"===o.tipo_veiculo&&o.eliminarMotos(i)})})()}eliminarCoches(i){this.carsService.deleteCar(i).subscribe({next:o=>{this.generalService.alert("\xc9xito","Veh\xedculo eliminado correctamente.","success"),this.router.navigate(["/mis-autos"])},error:o=>{var e;const a=(null==o||null===(e=o.error)||void 0===e?void 0:e.message)||"Error al eliminar el veh\xedculo";this.generalService.alert("Error",a,"danger")},complete:()=>{this.generalService.loadingDismiss()}})}eliminarMotos(i){this.motosService.deleteMoto(i).subscribe({next:o=>{this.generalService.alert("\xc9xito","Motos eliminada correctamente.","success"),this.router.navigate(["/mis-motos"])},error:o=>{var e;const a=(null==o||null===(e=o.error)||void 0===e?void 0:e.message)||"Error al eliminar el veh\xedculo";this.generalService.alert("Error",a,"danger")},complete:()=>{this.generalService.loadingDismiss()}})}verificarCambiosPrecio(){this.actualizarFlagCambios()}alertPutCar(i){var o=this;return(0,v.A)(function*(){o.generalService.confirmarAccion("\xbfEst\xe1s seguro de actualizar este veh\xedculo?","Actualizar informaci\xf3n",(0,v.A)(function*(){yield o.PutAuto(i)}))})()}PutAuto(i){var o=this;return(0,v.A)(function*(){yield o.generalService.loading("Verificando...");try{let e=yield o.generarFormDataImagenes();"autos"===o.tipo_veiculo||"renta"===o.tipo_veiculo?(e=yield o.agregarCamposBasicosAlFormData_autos(e),e=yield o.agregarUbicacionAlFormData_autos(e),e=yield o.agregarVersionesAlFormData_autos(e),o.appendClearFields(e,o.getCamposVaciosAutos()),o.enviarDatos_autos(i,e)):"motos"===o.tipo_veiculo?(e=yield o.agregarPrecioAlFormData_Motos(e),e=yield o.agregarCamposBasicosAlFormData_motos(e),e=yield o.agregarUbicacionAlFormData_autos(e),o.appendClearFields(e,o.getCamposVaciosMotos()),o.enviarDatos_motos(i,e)):"camiones"===o.tipo_veiculo&&(e=yield o.agregarPrecioAlFormData_Camiones(e),e=yield o.agregarCamposBasicosAlFormData_camiones(e),e=yield o.agregarUbicacionAlFormData_autos(e),o.appendClearFields(e,o.getCamposVaciosCamiones()),o.enviarDatos_camiones(i,e))}catch(e){o.generalService.loadingDismiss();let a="Error desconocido";"string"==typeof e?a=e:"object"==typeof e&&null!==e&&"error"in e&&(a=e.error),o.generalService.alert("Error",String(a),"danger")}})()}generarFormDataImagenes(){var i=this;return(0,v.A)(function*(){const o=new FormData;(i.imagenPrincipal_sinFondo instanceof File||"string"==typeof i.imagenPrincipal_sinFondo&&i.imagenPrincipal_sinFondo.trim())&&o.append("imagenPrincipal",i.imagenPrincipal_sinFondo);for(const e of i.imagenes)o.append("imagenes",e);return i.urlsImagenesExistentes.length>0&&o.append("imagenesExistentes",JSON.stringify(i.urlsImagenesExistentes)),o})()}agregarVersionesAlFormData_autos(i){var o=this;return(0,v.A)(function*(){return new Promise((e,a)=>{var c;if(null===(c=o.auto)||void 0===c||null===(c=c.version)||void 0===c||!c.length)return e(i);const l=[];for(let _=0;_<o.auto.version.length;_++){const u=o.auto.version[_],s=u.Precio;if(null==s||isNaN(s)||s<1e4||s>1e7)throw o.generalService.alert("Precio inv\xe1lido",`El precio para la versi\xf3n "${u.Name}" debe estar entre $10,000 y $10,000,000.`,"warning"),new Error("Precio inv\xe1lido en versi\xf3n");l.push({Name:u.Name,Precio:s})}i.append("version",JSON.stringify(l)),e(i)})})()}agregarCamposBasicosAlFormData_autos(i){var o=this;return(0,v.A)(function*(){var e,a,c,l,_,u,s,p;const g=o.isNuevo?0:null!==(e=null===(a=o.auto)||void 0===a?void 0:a.kilometraje)&&void 0!==e?e:"";let m=null===(c=o.auto)||void 0===c?void 0:c.color;var C,x;(!m||"string"==typeof m&&""===m.trim())&&(m=null!==(C=null===(x=o.auto)||void 0===x?void 0:x.color)&&void 0!==C?C:"");const f=Array.isArray(m)?m.join(", "):String(null!=m?m:"").trim();f&&"null"!==f&&"undefined"!==f&&i.append("color",f);const M=(null!==(l=null===(_=o.auto)||void 0===_?void 0:_.moneda)&&void 0!==l?l:"MXN").toString(),P=o.isNuevo?"":null!==(u=o.auto)&&void 0!==u&&u.placas&&"null"!==o.auto.placas?o.auto.placas:"",j=(null!==(s=null===(p=o.auto)||void 0===p?void 0:p.descripcion)&&void 0!==s?s:"").toString();return i.append("kilometraje",String(g)),i.append("moneda",M),i.append("placas",P),i.append("descripcion",j),i})()}agregarCamposBasicosAlFormData_motos(i){var o=this;return(0,v.A)(function*(){var e,a,c,l,_,u,s,p,g,m,C,x,f,M,P,j,F,O,I,E;const y=o.isNuevo?0:null===(e=o.auto)||void 0===e?void 0:e.kilometraje;i.append("kilometraje",null==y?"":String(y));const k=null===(a=o.auto)||void 0===a?void 0:a.color,G=Array.isArray(k)?k.join(", "):(null!=k?k:"").toString();i.append("color",G);const N=(null!==(c=null===(l=o.auto)||void 0===l?void 0:l.moneda)&&void 0!==c?c:"MXN").toString();i.append("moneda",N);const U=o.isNuevo?"":String(null!==(_=null===(u=o.auto)||void 0===u?void 0:u.placas)&&void 0!==_?_:"");return i.append("placas",U),i.append("descripcion",String(null!==(s=null===(p=o.auto)||void 0===p?void 0:p.descripcion)&&void 0!==s?s:"")),i.append("tipoMotor",String(null!==(g=null===(m=o.auto)||void 0===m?void 0:m.tipoMotor)&&void 0!==g?g:"")),i.append("cilindrada",String(null!==(C=null===(x=o.auto)||void 0===x?void 0:x.cilindrada)&&void 0!==C?C:"")),i.append("transmision",String(null!==(f=null===(M=o.auto)||void 0===M?void 0:M.transmision)&&void 0!==f?f:"")),i.append("combustible",String(null!==(P=null===(j=o.auto)||void 0===j?void 0:j.combustible)&&void 0!==P?P:"")),i.append("frenos",String(null!==(F=null===(O=o.auto)||void 0===O?void 0:O.frenos)&&void 0!==F?F:"")),i.append("suspension",String(null!==(I=null===(E=o.auto)||void 0===E?void 0:E.suspension)&&void 0!==I?I:"")),i})()}agregarCamposBasicosAlFormData_camiones(i){var o=this;return(0,v.A)(function*(){var e,a,c,l,_,u,s,p,g,m,C,x,f,M,P,j;const F=o.isNuevo?0:null!==(e=null===(a=o.auto)||void 0===a?void 0:a.kilometraje)&&void 0!==e?e:"",O=null===(c=o.auto)||void 0===c?void 0:c.color,I=Array.isArray(O)?O.join(", "):(null!=O?O:"").toString(),E=(null!==(l=null===(_=o.auto)||void 0===_?void 0:_.moneda)&&void 0!==l?l:"MXN").toString(),y=o.isNuevo?"":null!==(u=o.auto)&&void 0!==u&&u.placas&&"null"!==o.auto.placas?o.auto.placas:"",k=(null!==(s=null===(p=o.auto)||void 0===p?void 0:p.descripcion)&&void 0!==s?s:"").toString(),G=(null!==(g=null===(m=o.auto)||void 0===m?void 0:m.tipoCamion)&&void 0!==g?g:"").toString().trim(),N=null!==(C=null===(x=o.auto)||void 0===x?void 0:x.capacidadCarga)&&void 0!==C?C:"",U=(null!==(f=null===(M=o.auto)||void 0===M?void 0:M.tipoCabina)&&void 0!==f?f:"").toString().trim(),$=(null!==(P=null===(j=o.auto)||void 0===j?void 0:j.combustible)&&void 0!==P?P:"").toString().trim();return i.append("kilometraje",String(F)),i.append("color",I),i.append("moneda",E),i.append("placas",y),i.append("descripcion",k),i.append("tipoCamion",G),i.append("capacidadCarga",String(N)),i.append("tipoCabina",U),i.append("combustible",$),i})()}agregarUbicacionAlFormData_autos(i){var o=this;return(0,v.A)(function*(){return new Promise(function(){var e=(0,v.A)(function*(a,c){let l=null;const _=u=>"number"==typeof u&&Number.isFinite(u);if("particular"===o.tipoSeleccionado&&o.ubicacionSeleccionada){const[u,s,p,g]=o.ubicacionSeleccionada;return u&&s&&_(p)&&_(g)?(l={ciudad:u,estado:s,lat:p,lng:g},i.append("ubicacion",JSON.stringify(l)),i.append("lote",""),a(i)):(yield o.generalService.alert("Ubicaci\xf3n incompleta","Debes seleccionar una ciudad, estado y coordenadas v\xe1lidas.","warning"),c("Ubicaci\xf3n inv\xe1lida"))}if("lote"===o.tipoSeleccionado){const u=o.lotes.find(p=>p._id===o.loteSeleccionado);if(!u)return yield o.generalService.alert("Lote no encontrado","Debes seleccionar un lote v\xe1lido.","warning"),c("Lote no v\xe1lido");const s=u.direccion.length>1?o.direccionSeleccionada:u.direccion[0];return s&&s.ciudad&&s.estado&&_(s.lat)&&_(s.lng)?(l={ciudad:s.ciudad,estado:s.estado,lat:s.lat,lng:s.lng},i.append("lote",u._id),i.append("ubicacion",JSON.stringify(l)),a(i)):(yield o.generalService.alert("Direcci\xf3n inv\xe1lida","Debes seleccionar una ubicaci\xf3n v\xe1lida del lote.","warning"),c("Direcci\xf3n de lote inv\xe1lida"))}return c("Sin ubicaci\xf3n v\xe1lida")});return function(a,c){return e.apply(this,arguments)}}())})()}agregarPrecioAlFormData_Motos(i){var o=this;return(0,v.A)(function*(){return new Promise((e,a)=>{if(null==o.precioMoto||isNaN(o.precioMoto)||o.precioMoto<1e4||o.precioMoto>1e7)return o.generalService.alert("Precio inv\xe1lido","El precio debe estar entre $10,000 y $10,000,000.","warning"),a(new Error("Precio inv\xe1lido en moto"));i.append("precio",String(o.precioMoto)),e(i)})})()}agregarPrecioAlFormData_Camiones(i){var o=this;return(0,v.A)(function*(){return new Promise((e,a)=>{if(null==o.auto.precio||isNaN(o.auto.precio)||o.auto.precio<1e4||o.auto.precio>1e8)return o.generalService.alert("Precio inv\xe1lido","El precio debe estar entre $10,000 y $100,000,000.","warning"),a(new Error("Precio inv\xe1lido en cami\xf3n"));i.append("precio",String(o.auto.precio)),e(i)})})()}appendClearFields(i,o){if(!o||!o.length)return;const e=new Set;i.forEach((c,l)=>{(c instanceof Blob||""!==String(null!=c?c:"").trim())&&e.add(l)});const a=o.filter(c=>!e.has(c));a.length&&i.append("clearFields",JSON.stringify(a))}getCamposVaciosAutos(){var i;const o=[],e=c=>null==c||""===String(c).trim();var a;return(this.isNuevo||e(null===(a=this.auto)||void 0===a?void 0:a.placas))&&o.push("placas"),e(null===(i=this.auto)||void 0===i?void 0:i.descripcion)&&o.push("descripcion"),o}getCamposVaciosMotos(){var i,o,e,a,c,l,_,u;const s=[],p=m=>null==m||""===String(m).trim();var g;return(this.isNuevo||p(null===(g=this.auto)||void 0===g?void 0:g.placas))&&s.push("placas"),p(null===(i=this.auto)||void 0===i?void 0:i.descripcion)&&s.push("descripcion"),p(null===(o=this.auto)||void 0===o?void 0:o.tipoMotor)&&s.push("tipoMotor"),p(null===(e=this.auto)||void 0===e?void 0:e.cilindrada)&&s.push("cilindrada"),p(null===(a=this.auto)||void 0===a?void 0:a.transmision)&&s.push("transmision"),p(null===(c=this.auto)||void 0===c?void 0:c.combustible)&&s.push("combustible"),p(null===(l=this.auto)||void 0===l?void 0:l.frenos)&&s.push("frenos"),p(null===(_=this.auto)||void 0===_?void 0:_.suspension)&&s.push("suspension"),p(null===(u=this.auto)||void 0===u?void 0:u.color)&&s.push("color"),s}getCamposVaciosCamiones(){var i,o,e,a,c,l;const _=[],u=p=>null==p||""===String(p).trim();var s;return(this.isNuevo||u(null===(s=this.auto)||void 0===s?void 0:s.placas))&&_.push("placas"),u(null===(i=this.auto)||void 0===i?void 0:i.descripcion)&&_.push("descripcion"),u(null===(o=this.auto)||void 0===o?void 0:o.tipoCamion)&&_.push("tipoCamion"),u(null===(e=this.auto)||void 0===e?void 0:e.color)&&_.push("color"),u(null===(a=this.auto)||void 0===a?void 0:a.capacidadCarga)&&_.push("capacidadCarga"),u(null===(c=this.auto)||void 0===c?void 0:c.tipoCabina)&&_.push("tipoCabina"),u(null===(l=this.auto)||void 0===l?void 0:l.combustible)&&_.push("combustible"),_}enviarDatos_autos(i,o){var a,e=this;this.carsService.putCar(i,o).subscribe({next:(a=(0,v.A)(function*(c){yield e.restablecerDatos(),e.router.navigate("renta"===e.tipo_veiculo?["/mis-rentas"]:["/mis-autos"]),e.generalService.alert("\xc9xito","Veh\xedculo actualizado correctamente.","success")}),function(l){return a.apply(this,arguments)}),error:a=>{var c;const l=(null==a||null===(c=a.error)||void 0===c?void 0:c.message)||"Error al actualizar el veh\xedculo";this.generalService.alert("Error",l,"danger")},complete:()=>{this.generalService.loadingDismiss()}})}enviarDatos_motos(i,o){var a,e=this;this.motosService.putMoto(i,o).subscribe({next:(a=(0,v.A)(function*(c){yield e.restablecerDatos(),e.router.navigate(["/mis-motos"]),e.generalService.alert("\xc9xito","Moto actualizada correctamente.","success")}),function(l){return a.apply(this,arguments)}),error:a=>{var c;const l=(null==a||null===(c=a.error)||void 0===c?void 0:c.message)||"Error al actualizar el veh\xedculo";this.generalService.alert("Error",l,"danger")},complete:()=>{this.generalService.loadingDismiss()}})}enviarDatos_camiones(i,o){var a,e=this;this.camionesService.actualizarCamion(i,o).subscribe({next:(a=(0,v.A)(function*(c){yield e.restablecerDatos(),e.router.navigate(["/mis-camiones"]),e.generalService.alert("\xc9xito","Cami\xf3n actualizado correctamente.","success")}),function(l){return a.apply(this,arguments)}),error:a=>{var c;const l=(null==a||null===(c=a.error)||void 0===c?void 0:c.message)||"Error al actualizar el veh\xedculo";this.generalService.alert("Error",l,"danger")},complete:()=>{this.generalService.loadingDismiss()}})}eliminarImagen_visual(i){const o=this.urlsImagenes.indexOf(i),e=this.urlsImagenesExistentes.indexOf(i);-1!==o&&(this.urlsImagenes.splice(o,1),this.imagenes.splice(o,1)),-1!==e&&this.urlsImagenesExistentes.splice(e,1),this.markDirtyFromUI()}regresar(){"autos"===this.tipo_veiculo?this.router.navigate(["/mis-autos"]):"motos"===this.tipo_veiculo?this.router.navigate(["/mis-motos"]):"camiones"===this.tipo_veiculo&&this.router.navigate(["/mis-camiones"])}eliminarVersion(i){this.generalService.confirmarAccion("Eliminar versi\xf3n",`\xbfEst\xe1s seguro de eliminar la versi\xf3n "${this.auto.version[i].Name}"?`,()=>{this.auto.version.splice(i,1),this.markDirtyFromUI()})}restablecerDatos(){var i=this;return(0,v.A)(function*(){var o;if(i.restablecer=!1,i.imagenPrincipalMostrada=i.auto.imagenPrincipal,i.imagenPrincipal_sinFondo=null,i.urlsImagenes=[...i.auto.imagenes],i.urlsImagenesExistentes=[...i.auto.imagenes],i.imagenes=[],"autos"===i.tipo_veiculo&&(i.auto.version=JSON.parse(JSON.stringify(i.versionesOriginales))),"motos"===i.tipo_veiculo&&(i.precioMoto=null!==(o=i.auto.precio)&&void 0!==o?o:null),"camiones"===i.tipo_veiculo&&i.versionesOriginales&&(i.auto.version=JSON.parse(JSON.stringify(i.versionesOriginales))),i.loteSeleccionado=null,i.ubicacionesLoteSeleccionado=[],i.direccionSeleccionada=null,i.ubicacionSeleccionada=null,i.auto.lote)if(i.tipoSeleccionado="lote",i.loteSeleccionado=i.auto.lote._id,i.ubicacionesLoteSeleccionado=i.auto.lote.direccion||[],1===i.ubicacionesLoteSeleccionado.length)i.direccionSeleccionada=i.ubicacionesLoteSeleccionado[0];else if(i.direccionSeleccionadaActual){const e=i.ubicacionesLoteSeleccionado.findIndex(a=>a.lat===i.direccionSeleccionadaActual.lat&&a.lng===i.direccionSeleccionadaActual.lng);i.direccionSeleccionada=-1!==e?i.ubicacionesLoteSeleccionado[e]:null}else i.direccionSeleccionada=null;else if(i.auto.ubicacion){i.tipoSeleccionado="particular";const e=i.auto.ubicacion;i.ubicacionSeleccionada=[e.ciudad,e.estado,e.lat,e.lng]}i.initialComparable=i.buildComparableState(),i.restablecer=!1})()}getLotes(i){var e,o=this;this.registroService.allLotes(i).subscribe({next:(e=(0,v.A)(function*(a){o.lotes=a.lotes,o.totalLotes=o.lotes.length,1===o.totalLotes&&o.seleccionarLote(o.lotes[0]._id,!0),o.tryFinalizeInit()}),function(c){return e.apply(this,arguments)}),error:function(){var e=(0,v.A)(function*(a){yield o.generalService.loadingDismiss(),yield o.generalService.alert("Verifica tu red","Error de red. Intenta m\xe1s tarde.","danger"),o.tryFinalizeInit()});return function(c){return e.apply(this,arguments)}}()})}seleccionarLote(i,o=!1){this.loteSeleccionado=i;const e=this.lotes.find(a=>a._id===i);this.ubicacionesLoteSeleccionado=(null==e?void 0:e.direccion)||[],this.leerLatLng(),o||this.markDirtyFromUI()}seleccionarUbicacion(){var i=this;return(0,v.A)(function*(){const o=yield i.modalController.create({component:K.D,cssClass:"mapa-modal-flotante",backdropDismiss:!1,showBackdrop:!0,animated:!0,mode:"ios",breakpoints:[],initialBreakpoint:void 0});yield o.present();const{data:e}=yield o.onDidDismiss();e&&(i.ubicacionSeleccionada=e,i.markDirtyFromUI(),i.ubicacionSeleccionada&&i.generalService.obtenerDireccionDesdeCoordenadas(i.ubicacionSeleccionada[2],i.ubicacionSeleccionada[3]).then(a=>{i.direccionCompleta=a}).catch(a=>{i.direccionCompleta="No se pudo obtener la direcci\xf3n.",console.warn(a)}))})()}seleccionarTipo(i){this.tipoSeleccionado=i,this.markDirtyFromUI()}leerLatLng(){if(1===this.ubicacionesLoteSeleccionado.length)this.direccionSeleccionada=this.ubicacionesLoteSeleccionado[0],this.generalService.obtenerDireccionDesdeCoordenadas(this.direccionSeleccionada.lat,this.direccionSeleccionada.lng).then(i=>{this.direccionCompleta=i}).catch(i=>{this.direccionCompleta="No se pudo obtener la direcci\xf3n.",console.warn(i)});else{this.direccionSeleccionada=null,this.ubicacionesLoteLegibles=[];const i=this.ubicacionesLoteSeleccionado.map(o=>this.generalService.obtenerDireccionDesdeCoordenadas(o.lat,o.lng));Promise.all(i).then(o=>{if(this.ubicacionesLoteLegibles=o,this.direccionSeleccionadaActual){const e=this.ubicacionesLoteSeleccionado.findIndex(a=>a.lat===this.direccionSeleccionadaActual.lat&&a.lng===this.direccionSeleccionadaActual.lng);-1!==e&&(this.direccionSeleccionada=this.ubicacionesLoteSeleccionado[e])}}).catch(o=>{console.warn("\u274c Error obteniendo direcciones:",o),this.ubicacionesLoteLegibles=this.ubicacionesLoteSeleccionado.map(()=>"No disponible")})}}onUbicacionChange(i){this.markDirtyFromUI()}markDirty(){this.markDirtyFromUI()}onGuardarClick(){var i;if(null!==(i=this.auto)&&void 0!==i&&i._id){if(!this.restablecer)return void this.generalService.alert("Sin cambios","No hay cambios por guardar.","warning");this.alertPutCar(this.auto._id)}}onRestablecerClick(){this.restablecer?this.restablecerDatos():this.generalService.alert("Nada que restablecer","No has modificado nada.","info")}}return(r=d).\u0275fac=function(i){return new(i||r)(n.rXU(W.nX),n.rXU(b.W3),n.rXU(nn.O),n.rXU(on.Qq),n.rXU(W.Ix),n.rXU(en.R),n.rXU(tn.A),n.rXU(an.L),n.rXU(rn.f))},r.\u0275cmp=n.VBU({type:r,selectors:[["app-update-car"]],viewQuery:function(i,o){if(1&i&&(n.GBs(cn,5),n.GBs(ln,5),n.GBs(b.Nm,5)),2&i){let e;n.mGM(e=n.lsd())&&(o.mapAutoContainer=e.first),n.mGM(e=n.lsd())&&(o.inputArchivo=e.first),n.mGM(e=n.lsd())&&(o.selects=e)}},standalone:!1,decls:52,vars:12,consts:[["inputArchivo",""],[3,"translucent"],[1,"toolbar-ios"],["slot","start"],["fill","clear",1,"btn-back-ios",3,"click"],["name","chevron-back-outline","slot","icon-only"],[1,"toolbar-center"],["src","/assets/icon/logo2.png","alt","Go Autos",1,"logo-header"],[1,"titles"],[1,"title-main"],["class","title-sub",4,"ngIf"],["slot","end"],["fill","clear",1,"btn-close-ios",3,"click"],["name","close-outline","slot","icon-only"],[1,"ios-content",3,"fullscreen"],[1,"titulo-editar"],["name","build-outline"],[1,"car-name"],[1,"contenedor"],[1,"barra-secciones"],[3,"click"],["name","create-outline"],["name","images-outline"],[4,"ngIf"],[1,"action-bar"],[1,"action-buttons"],["fill","clear","color","medium",3,"click"],["name","close-outline"],["fill","outline","color","warning",3,"click","disabled"],["name","refresh-outline"],["fill","outline","color","danger",3,"click","disabled"],["name","trash-outline"],["color","success",3,"click","disabled"],["name","save-outline"],[1,"title-sub"],[1,"layout-dos-columnas"],[1,"columna-datos"],[1,"columna-ubicacion"],[1,"contenedor_ubicaciones"],[1,"titulo-ubicacion"],[1,"opciones-vehiculo"],[1,"casilla",3,"click"],["src","assets/img/particular.png","alt","Particular"],["name","checkmark-circle-outline",1,"icono-check"],["class","casilla",3,"activa","click",4,"ngIf"],["class","contenedor_version",4,"ngIf"],["class","bloque-ubicacion",4,"ngIf"],["class","row-versiones",4,"ngIf"],["size","12",4,"ngIf"],["size","12","size-md","6",4,"ngIf"],["size","12","size-md","6"],["position","stacked"],["placeholder","Selecciona un color","interface","alert",3,"ngModelChange","ionChange","ngModel","interfaceOptions"],[3,"value",4,"ngFor","ngForOf"],["interface","alert",3,"ngModelChange","ionChange","ngModel","interfaceOptions"],["value","MXN"],["value","USD"],["size","12"],["lines","none"],["auto-grow","true","rows","4","placeholder","Ej. Auto en excelente estado, \xfanico due\xf1o...",3,"ngModelChange","ionInput","ngModel"],[1,"section-title"],["name","albums-outline"],[1,"row-versiones"],["class","version-col","size","6","size-sm","6","size-md","4",4,"ngFor","ngForOf"],["size","6","size-sm","6","size-md","4",1,"version-col"],[1,"contenedor-input-version"],[1,"titulo-version"],["position","floating"],["type","number",3,"ngModelChange","ionInput","ngModel"],["fill","clear","color","danger","slot","end",3,"click",4,"ngIf"],["fill","clear","color","danger","slot","end",3,"click"],["type","number","inputmode","numeric","pattern","\\\\d*","placeholder","Ej. 45000",3,"ngModelChange","ionInput","ngModel"],[3,"value"],["placeholder","Ej. UVY-123-A",3,"ngModelChange","ionInput","ngModel"],["placeholder","Ej. 4 tiempos, el\xe9ctrico...",3,"ngModelChange","ionInput","ngModel"],["placeholder","Ej. 150cc",3,"ngModelChange","ionInput","ngModel"],["placeholder","Ej. manual, CVT, etc.",3,"ngModelChange","ionInput","ngModel"],["placeholder","Ej. gasolina, el\xe9ctrico...",3,"ngModelChange","ionInput","ngModel"],["placeholder","Ej. disco, tambor, ABS...",3,"ngModelChange","ionInput","ngModel"],["placeholder","Ej. telesc\xf3pica, mono-shock",3,"ngModelChange","ionInput","ngModel"],["auto-grow","true","rows","4","placeholder","Ej. Moto en excelente estado, \xfanico due\xf1o...",3,"ngModelChange","ionInput","ngModel"],["type","number","placeholder","Ej. 45000",3,"ngModelChange","ionInput","ngModel"],["type","number","placeholder","Ej. 8000",3,"ngModelChange","ionInput","ngModel"],["type","number","placeholder","Ej. 2",3,"ngModelChange","ionInput","ngModel"],["placeholder","Selecciona","interface","alert",3,"ngModelChange","ionChange","ngModel","interfaceOptions"],["value","Cabina sencilla"],["value","Doble cabina"],["value","Cabover"],["value","Dormitorio"],["value","Chasis"],["value","Otro"],["placeholder","Ej. manual, autom\xe1tica",3,"ngModelChange","ionInput","ngModel"],["value","Di\xe9sel"],["value","Gasolina"],["value","Gas Natural"],["value","El\xe9ctrico"],["value","H\xedbrido"],["auto-grow","true","rows","4","placeholder","Ej. Tracto en excelente estado, \xfanico due\xf1o...",3,"ngModelChange","ionInput","ngModel"],["type","number","inputmode","numeric","pattern","\\\\d*","placeholder","Ej. 120000",3,"ngModelChange","ionInput","ngModel"],["placeholder","Ej. 12-AB-345",3,"ngModelChange","ionInput","ngModel"],["src","assets/img/lote.png","alt","Lote"],[1,"contenedor_version"],["placeholder","Selecciona un lote","interface","alert",3,"ngModelChange","ionChange","ngModel","interfaceOptions"],["placeholder","Selecciona una ubicaci\xf3n","interface","alert",3,"ngModelChange","ionChange","ngModel","interfaceOptions"],["readonly","",2,"font-size","10px",3,"value"],[1,"bloque-ubicacion"],["type","button",1,"btn_ubicacion",3,"click"],["name","location-outline",1,"icono"],["class","ubicacion-mostrada",4,"ngIf"],[1,"ubicacion-mostrada"],["name","location-outline"],[1,"card-ios"],[1,"botons"],[1,"button-nuevo",3,"click"],["name","add-outline"],["type","file","accept","image/*","hidden","",3,"change"],[1,"contenedor-imagen"],["alt","Imagen principal del auto",3,"src"],[1,"texto_css"],["class","galeria-scroll",4,"ngIf"],[1,"btn-agregar"],["class","galeria-scroll-big",4,"ngIf"],[1,"galeria-scroll"],["alt","Imagen del auto",3,"src","click",4,"ngFor","ngForOf"],["alt","Imagen del auto",3,"click","src"],[1,"galeria-scroll-big"],["class","img-wrapper",4,"ngFor","ngForOf"],[1,"img-wrapper"],["alt","Imagen del auto",3,"src"],[1,"overlay-botones"],[1,"btn-accion","eliminar",3,"click"]],template:function(i,o){1&i&&(n.j41(0,"ion-header",1)(1,"ion-toolbar",2)(2,"ion-buttons",3)(3,"ion-button",4),n.bIt("click",function(){return o.regresar()}),n.nrm(4,"ion-icon",5),n.k0s()(),n.j41(5,"div",6),n.nrm(6,"img",7),n.j41(7,"div",8)(8,"span",9),n.EFF(9,"Editar veh\xedculo"),n.k0s(),n.DNE(10,sn,2,3,"span",10),n.k0s()(),n.j41(11,"ion-buttons",11)(12,"ion-button",12),n.bIt("click",function(){return o.regresar()}),n.nrm(13,"ion-icon",13),n.k0s()()()(),n.j41(14,"ion-content",14)(15,"div",15)(16,"h1"),n.nrm(17,"ion-icon",16),n.j41(18,"span"),n.EFF(19,"Edita "),n.j41(20,"span",17),n.EFF(21,"tu auto"),n.k0s()()(),n.j41(22,"p"),n.EFF(23,"Actualiza la informaci\xf3n, im\xe1genes y ubicaci\xf3n de tu veh\xedculo"),n.k0s()(),n.j41(24,"div",18)(25,"div",19)(26,"button",20),n.bIt("click",function(){return o.seccionActiva="datos"}),n.nrm(27,"ion-icon",21),n.EFF(28," Datos del veh\xedculo "),n.k0s(),n.j41(29,"button",20),n.bIt("click",function(){return o.seccionActiva="imagenes"}),n.nrm(30,"ion-icon",22),n.EFF(31," Im\xe1genes "),n.k0s()(),n.DNE(32,Bn,20,8,"div",23)(33,Jn,35,3,"div",23),n.j41(34,"div",24)(35,"div",25)(36,"ion-button",26),n.bIt("click",function(){return o.regresar()}),n.nrm(37,"ion-icon",27),n.j41(38,"span"),n.EFF(39,"Cancelar"),n.k0s()(),n.j41(40,"ion-button",28),n.bIt("click",function(){return o.onRestablecerClick()}),n.nrm(41,"ion-icon",29),n.j41(42,"span"),n.EFF(43,"Restablecer"),n.k0s()(),n.j41(44,"ion-button",30),n.bIt("click",function(){return o.alert(null==o.auto?null:o.auto._id)}),n.nrm(45,"ion-icon",31),n.j41(46,"span"),n.EFF(47,"Eliminar"),n.k0s()(),n.j41(48,"ion-button",32),n.bIt("click",function(){return o.onGuardarClick()}),n.nrm(49,"ion-icon",33),n.j41(50,"span"),n.EFF(51,"Guardar"),n.k0s()()()()()()),2&i&&(n.Y8G("translucent",!0),n.R7$(10),n.Y8G("ngIf",o.auto),n.R7$(4),n.Y8G("fullscreen",!0),n.R7$(12),n.AVh("activa","datos"===o.seccionActiva),n.R7$(3),n.AVh("activa","imagenes"===o.seccionActiva),n.R7$(3),n.Y8G("ngIf","datos"===o.seccionActiva),n.R7$(),n.Y8G("ngIf","imagenes"===o.seccionActiva),n.R7$(7),n.Y8G("disabled",!o.restablecer),n.R7$(4),n.Y8G("disabled",!(null!=o.auto&&o.auto._id)),n.R7$(4),n.Y8G("disabled",!o.restablecer))},dependencies:[D.Sq,D.bT,R.BC,R.R_,R.vS,b.Jm,b.QW,b.b_,b.I9,b.ME,b.HW,b.tN,b.hU,b.W9,b.lO,b.eU,b.iq,b.$w,b.uz,b.he,b.ln,b.Nm,b.Ip,b.nc,b.ai,b.su,b.Je,b.Gw],styles:['@charset "UTF-8";[_nghost-%COMP%]{--woaw-red: #ff3b30;--bg-app: #f2f2f7;--bg-card: #ffffff;--text-main: #111827;--text-muted: #6b7280;--ion-background-color: var(--bg-app)}.ios-content[_ngcontent-%COMP%]{--background: var(--bg-app) !important}ion-header[_ngcontent-%COMP%]{--background: transparent}.toolbar-ios[_ngcontent-%COMP%]{--background: rgba(248, 248, 250, .9);--border-color: transparent;backdrop-filter:blur(18px);-webkit-backdrop-filter:blur(18px);box-shadow:0 .5px #0000000f;padding-inline:8px;min-height:52px;display:flex;align-items:center}.toolbar-center[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex:1;justify-content:center;pointer-events:none}.toolbar-ios[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]{pointer-events:auto}.logo-header[_ngcontent-%COMP%]{height:22px;width:auto;object-fit:contain}.titles[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;text-align:left}.title-main[_ngcontent-%COMP%]{font-size:15px;font-weight:700;color:var(--text-main)}.title-sub[_ngcontent-%COMP%]{font-size:11px;color:var(--text-muted)}.btn-back-ios[_ngcontent-%COMP%]{--padding-start: 6px;--padding-end: 6px;--border-radius: 999px;--background-hover: rgba(0, 0, 0, .05);min-width:34px;height:34px}.btn-back-ios[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--text-main)}.btn-close-ios[_ngcontent-%COMP%]{--padding-start: 6px;--padding-end: 6px;min-width:34px;height:34px}.btn-close-ios[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--text-main)}.titulo-editar[_ngcontent-%COMP%]{text-align:center;padding:14px 12px 8px;background:var(--bg-app)}.titulo-editar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(20px,3.2vw,26px);font-weight:800;color:#000;display:inline-flex;align-items:center;gap:8px;margin:0;letter-spacing:.2px}.titulo-editar[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;color:#000}.titulo-editar[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;color:var(--text-muted);margin-top:4px}.car-name[_ngcontent-%COMP%]{color:var(--woaw-red);font-weight:900}.contenedor[_ngcontent-%COMP%]{max-width:1300px;margin:0 auto;padding:4px 10px 92px;font-family:Poppins,system-ui,-apple-system,BlinkMacSystemFont,sans-serif;box-sizing:border-box}.contenedor[_ngcontent-%COMP%]   .layout-dos-columnas[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:18px;align-items:flex-start;margin-top:8px}@media (max-width: 992px){.contenedor[_ngcontent-%COMP%]   .layout-dos-columnas[_ngcontent-%COMP%]{grid-template-columns:1fr}}.contenedor[_ngcontent-%COMP%]   .columna-datos[_ngcontent-%COMP%]{background-color:var(--bg-card);border-radius:18px;padding:14px 14px 18px;border:1px solid rgba(15,23,42,.06);box-shadow:0 12px 24px #0f172a0f,0 0 0 .5px #ffffffe6}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]{background:var(--bg-card);border-radius:18px;border:1px solid rgba(15,23,42,.06);padding:16px 16px 18px;box-shadow:0 12px 24px #0f172a0f,0 0 0 .5px #ffffffe6;text-align:center}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .titulo-ubicacion[_ngcontent-%COMP%]{font-weight:800;color:#e11b22;font-size:1.1rem;text-align:center;margin-bottom:10px;letter-spacing:.3px;position:relative}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .titulo-ubicacion[_ngcontent-%COMP%]:after{content:"";display:block;width:56px;height:3px;background:#e11b22;border-radius:999px;margin:6px auto 0}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .opciones-vehiculo[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-bottom:16px}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .opciones-vehiculo[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]{width:84px;height:84px;border-radius:18px;background:#f5f5f7;border:2px solid transparent;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;transition:all .18s ease;cursor:pointer;box-shadow:0 6px 14px #0f172a14}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .opciones-vehiculo[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:6px}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .opciones-vehiculo[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;color:#333;margin:0}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .opciones-vehiculo[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]   .icono-check[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;font-size:16px;opacity:0;transition:opacity .15s ease;color:#16a34a}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .opciones-vehiculo[_ngcontent-%COMP%]   .casilla.activa[_ngcontent-%COMP%]{border-color:#e11b22;background-color:#fff5f5}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .opciones-vehiculo[_ngcontent-%COMP%]   .casilla.activa[_ngcontent-%COMP%]   .icono-check[_ngcontent-%COMP%]{opacity:1}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .opciones-vehiculo[_ngcontent-%COMP%]   .casilla[_ngcontent-%COMP%]:hover{background-color:#fff}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .btn_ubicacion[_ngcontent-%COMP%]{width:100%;background:#e11b22;color:#fff;padding:11px 12px;border-radius:999px;font-weight:600;border:none;display:flex;align-items:center;justify-content:center;gap:6px;transition:background .2s ease,transform .1s ease;font-size:13px}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .btn_ubicacion[_ngcontent-%COMP%]:hover{background:#c91017}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .btn_ubicacion[_ngcontent-%COMP%]:active{transform:scale(.98)}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .btn_ubicacion[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .ubicacion-mostrada[_ngcontent-%COMP%]{margin-top:12px;font-size:12px;color:#374151;background:#f9fafb;border-left:4px solid #e11b22;padding:8px 10px;border-radius:10px;text-align:left;display:flex;gap:6px;align-items:flex-start}.contenedor[_ngcontent-%COMP%]   .columna-ubicacion[_ngcontent-%COMP%]   .ubicacion-mostrada[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-top:2px}.contenedor[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--inner-padding-end: 8px;--inner-padding-start: 8px;--padding-start: 0;--padding-end: 0;--min-height: 68px;align-items:flex-start!important;padding-top:4px;padding-bottom:4px}.contenedor[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{display:block!important;white-space:normal!important;overflow:visible!important;text-overflow:unset!important;font-size:13px;line-height:1.25;margin-bottom:4px;padding-right:4px}.contenedor[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%], .contenedor[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], .contenedor[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{width:100%;min-width:100%;flex:1;min-height:40px}.contenedor[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{margin-bottom:6px}.contenedor[_ngcontent-%COMP%]   .contenedor-imagen[_ngcontent-%COMP%]{width:100%;max-width:600px;height:260px;margin-bottom:6px;border-radius:16px;overflow:hidden;background-color:#f9fafb;display:flex;align-items:center;justify-content:center}.contenedor[_ngcontent-%COMP%]   .contenedor-imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;display:block}.contenedor[_ngcontent-%COMP%]   .galeria-scroll[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:12px;padding:8px 0;max-width:100%;scrollbar-width:none;-ms-overflow-style:none}.contenedor[_ngcontent-%COMP%]   .galeria-scroll[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.contenedor[_ngcontent-%COMP%]   .galeria-scroll[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex:0 0 auto;width:72px;height:48px;border-radius:10px;object-fit:cover;box-shadow:0 2px 6px #0f172a29;cursor:pointer;transition:transform .15s ease,box-shadow .15s ease}.contenedor[_ngcontent-%COMP%]   .galeria-scroll[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.04);box-shadow:0 4px 10px #0f172a38}.contenedor[_ngcontent-%COMP%]   .galeria-scroll-big[_ngcontent-%COMP%]{display:flex;overflow-x:auto;gap:16px;padding:10px 0;flex-wrap:nowrap;scrollbar-width:none;-ms-overflow-style:none}.contenedor[_ngcontent-%COMP%]   .galeria-scroll-big[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.contenedor[_ngcontent-%COMP%]   .galeria-scroll-big[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{position:relative;flex:0 0 auto;width:340px;height:260px;border-radius:16px;box-shadow:0 6px 14px #0f172a29;overflow:hidden;display:flex;align-items:center;justify-content:center;background:#0b0b0b}.contenedor[_ngcontent-%COMP%]   .galeria-scroll-big[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;display:block}.contenedor[_ngcontent-%COMP%]   .galeria-scroll-big[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .overlay-botones[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;right:8px;display:flex;justify-content:flex-end;gap:6px;padding:0 4px;z-index:2}.contenedor[_ngcontent-%COMP%]   .galeria-scroll-big[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .overlay-botones[_ngcontent-%COMP%]   .btn-accion.eliminar[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;background-color:#dc2626e6;color:#fff;border:none;font-size:12px;font-weight:600;padding:6px 10px;border-radius:999px;cursor:pointer;transition:background-color .2s ease,transform .1s ease;box-shadow:0 4px 12px #00000040}.contenedor[_ngcontent-%COMP%]   .galeria-scroll-big[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .overlay-botones[_ngcontent-%COMP%]   .btn-accion.eliminar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:15px}.contenedor[_ngcontent-%COMP%]   .galeria-scroll-big[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .overlay-botones[_ngcontent-%COMP%]   .btn-accion.eliminar[_ngcontent-%COMP%]:hover{background-color:#b91c1cf2}.contenedor[_ngcontent-%COMP%]   .galeria-scroll-big[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .overlay-botones[_ngcontent-%COMP%]   .btn-accion.eliminar[_ngcontent-%COMP%]:active{transform:scale(.97)}.contenedor[_ngcontent-%COMP%]   .btn-agregar[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background-color:#f3f4f6;color:#111827;font-size:13px;font-weight:600;border:1px dashed #d1d5db;padding:12px 20px;border-radius:999px;cursor:pointer;transition:background-color .2s ease,transform .1s ease}@media (max-width: 768px){.contenedor[_ngcontent-%COMP%]   .btn-agregar[_ngcontent-%COMP%]{padding:10px 16px}}.contenedor[_ngcontent-%COMP%]   .btn-agregar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.contenedor[_ngcontent-%COMP%]   .btn-agregar[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}.contenedor[_ngcontent-%COMP%]   .btn-agregar[_ngcontent-%COMP%]:active{transform:scale(.97)}.contenedor[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:flex-start;margin-bottom:10px}.contenedor[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .button-restablecer[_ngcontent-%COMP%]{background-color:#f97316;color:#fff;border:none;padding:9px 16px;border-radius:999px;font-size:13px;cursor:pointer;display:inline-flex;align-items:center;gap:6px;transition:background-color .2s ease,transform .1s ease}.contenedor[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .button-restablecer[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:17px}.contenedor[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .button-restablecer[_ngcontent-%COMP%]:hover{background-color:#ea580c}.contenedor[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .button-restablecer[_ngcontent-%COMP%]:active{transform:scale(.97)}.contenedor[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .button-nuevo[_ngcontent-%COMP%]{background-color:#d50000;color:#fff;border:none;padding:9px 16px;border-radius:999px;font-size:13px;cursor:pointer;display:inline-flex;align-items:center;gap:6px;transition:background-color .2s ease,transform .1s ease}.contenedor[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .button-nuevo[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:17px}.contenedor[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .button-nuevo[_ngcontent-%COMP%]:hover{background-color:#b91c1c}.contenedor[_ngcontent-%COMP%]   .botons[_ngcontent-%COMP%]   .button-nuevo[_ngcontent-%COMP%]:active{transform:scale(.97)}.contenedor[_ngcontent-%COMP%]   .texto_css[_ngcontent-%COMP%]{font-size:11px;color:#4b5563;margin-bottom:0;line-height:1.4;text-align:justify}[_nghost-%COMP%]     ion-alert.alert-rojo::part(content){background:#111;color:#fff;border:1px solid #e11b22;border-radius:12px;box-shadow:0 0 22px #e1112259}[_nghost-%COMP%]     ion-alert.alert-rojo{--background: #1a1a1a !important;--color: #ffffff !important;--backdrop-opacity: .95 !important;--border-radius: 14px !important;--width: 90%;--max-width: 400px;border:1px solid #e11b22!important;box-shadow:0 0 25px #e1112280!important}ion-alert.alert-rojo[_ngcontent-%COMP%]   .alert-head[_ngcontent-%COMP%], ion-alert.alert-rojo[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%], ion-alert.alert-rojo[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{color:#fff!important;text-align:center}ion-alert.alert-rojo[_ngcontent-%COMP%]   .alert-radio-label[_ngcontent-%COMP%], ion-alert.alert-rojo[_ngcontent-%COMP%]   .alert-checkbox-label[_ngcontent-%COMP%]{color:#fff!important}ion-alert.alert-rojo[_ngcontent-%COMP%]   .alert-radio-icon[_ngcontent-%COMP%], ion-alert.alert-rojo[_ngcontent-%COMP%]   .alert-checkbox-icon[_ngcontent-%COMP%]{border-color:#e11b22!important}ion-alert.alert-rojo[_ngcontent-%COMP%]   .alert-radio-inner[_ngcontent-%COMP%], ion-alert.alert-rojo[_ngcontent-%COMP%]   .alert-checkbox-inner[_ngcontent-%COMP%]{background:#e11b22!important}ion-alert.alert-rojo[_ngcontent-%COMP%]   .alert-button-group[_ngcontent-%COMP%]{border-top:1px solid #e11b22!important}ion-alert.alert-rojo[_ngcontent-%COMP%]   .alert-button[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase;background:transparent!important}ion-alert.alert-rojo[_ngcontent-%COMP%]   .alert-button.role-cancel[_ngcontent-%COMP%]{color:#ccc!important}ion-alert.alert-rojo[_ngcontent-%COMP%]   .alert-button[_ngcontent-%COMP%]:not(.role-cancel){color:#fff!important;background:#e11b22!important;border-radius:8px;padding:8px 14px;margin:4px}.action-bar[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:100;padding:8px 10px;border-top:1px solid rgba(148,163,184,.28);background:#f8f8fae6;backdrop-filter:saturate(180%) blur(16px);-webkit-backdrop-filter:saturate(180%) blur(16px);box-shadow:0 -10px 25px #0f172a24}.action-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;flex-wrap:wrap}.action-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{min-width:180px;height:44px;font-size:13px;font-weight:600;letter-spacing:.4px}.action-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:6px}@media (max-width: 480px){.action-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{justify-content:space-between;gap:6px}.action-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{flex:1;min-width:unset;height:42px;font-size:12px}.action-bar[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:4px;font-size:16px}}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:700;font-size:13px;color:#111827;margin:6px 4px;text-transform:uppercase;letter-spacing:.4px}.section-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;color:var(--woaw-red)}.barra-secciones[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:6px auto 14px;padding:4px;background:#e5e5ea;border-radius:999px;width:-moz-fit-content;width:fit-content;gap:4px}.barra-secciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:transparent;border:none;font-weight:600;font-size:13px;color:#3c3c43;cursor:pointer;position:relative;padding:6px 14px;border-radius:999px;display:inline-flex;align-items:center;gap:6px;transition:background .18s ease,color .18s ease,transform .1s ease}.barra-secciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px;vertical-align:middle}.barra-secciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-.5px)}.barra-secciones[_ngcontent-%COMP%]   button.activa[_ngcontent-%COMP%]{background:#fff;color:#000;box-shadow:0 4px 8px #0000001f}.card-ios[_ngcontent-%COMP%]{--background: #ffffff;--color: #111827;border-radius:18px;box-shadow:0 12px 24px #0f172a14,0 0 0 .5px #ffffffe6}']}),d})()}];let Qn=(()=>{var r;class d{}return(r=d).\u0275fac=function(i){return new(i||r)},r.\u0275mod=n.$C({type:r}),r.\u0275inj=n.G2t({imports:[H.iI.forChild(Wn),H.iI]}),d})();var Kn=h(9847),Zn=h(5473);let qn=(()=>{var r;class d{}return(r=d).\u0275fac=function(i){return new(i||r)},r.\u0275mod=n.$C({type:r}),r.\u0275inj=n.G2t({imports:[D.MD,R.YN,Kn._,b.bv,Qn,Zn.n]}),d})()}}]);