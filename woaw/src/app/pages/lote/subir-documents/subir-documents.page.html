<app-navbar></app-navbar>

<ion-content [fullscreen]="true">
  <div class="ion-padding-content">
    
    <!-- Header Section -->
    <div class="header-section">
      <h1>Documentación Requerida</h1>
      <p class="subtitle">Para completar tu solicitud, necesitamos los siguientes documentos</p>
      
      <!-- Progress Indicator -->
      <div class="progress-container">
        <div class="progress-info">
          <span class="progress-text">Progreso: {{getUploadedCount()}}/{{documents.length}}</span>
          <span class="progress-percentage">{{getProgressPercentage()}}%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" [style.width.%]="getProgressPercentage()"></div>
        </div>
      </div>
    </div>

    <!-- Documents Grid -->
    <div class="documents-grid">
      
      <!-- Constancia de Situación Fiscal -->
      <div class="document-card" [class.uploaded]="documents[0].uploaded">
        <div class="document-header">
          <div class="document-icon">
            <ion-icon name="document"></ion-icon>
          </div>
          <div class="document-info">
            <h3>Constancia de Situación Fiscal</h3>
            <p class="document-status" [class.status-completed]="documents[0].uploaded">
              {{documents[0].uploaded ? 'Completado' : 'Pendiente'}}
            </p>
          </div>
        </div>
        <div class="document-actions">
          <button class="btn-upload" (click)="uploadDocument(0)" *ngIf="!documents[0].uploaded">
            <i class="fas fa-cloud-upload-alt"></i>
            Subir Documento
          </button>
          <button class="btn-view" (click)="viewDocument(0)" *ngIf="documents[0].uploaded">
            <i class="fas fa-eye"></i>
            Ver Documento
          </button>
        </div>
      </div>

      <!-- Identificación del Apoderado -->
      <div class="document-card" [class.uploaded]="documents[1].uploaded">
        <div class="document-header">
          <div class="document-icon">
            <ion-icon name="card"></ion-icon>
          </div>
          <div class="document-info">
            <h3>Identificación del Apoderado</h3>
            <p class="document-subtitle">INE o Pasaporte Vigente</p>
            <p class="document-status" [class.status-completed]="documents[1].uploaded">
              {{documents[1].uploaded ? 'Completado' : 'Pendiente'}}
            </p>
          </div>
        </div>
        <div class="document-actions">
          <button class="btn-upload" (click)="uploadDocument(1)" *ngIf="!documents[1].uploaded">
            <i class="fas fa-cloud-upload-alt"></i>
            Subir Documento
          </button>
          <button class="btn-view" (click)="viewDocument(1)" *ngIf="documents[1].uploaded">
            <i class="fas fa-eye"></i>
            Ver Documento
          </button>
        </div>
      </div>

      <!-- Estado de Cuenta Lote -->
      <div class="document-card" [class.uploaded]="documents[2].uploaded">
        <div class="document-header">
          <div class="document-icon">
            <ion-icon name="wallet"></ion-icon>
          </div>
          <div class="document-info">
            <h3>Estado de Cuenta Lote</h3>
            <p class="document-subtitle">Con CLABE interbancaria</p>
            <p class="document-status" [class.status-completed]="documents[2].uploaded">
              {{documents[2].uploaded ? 'Completado' : 'Pendiente'}}
            </p>
          </div>
        </div>
        <div class="document-actions">
          <button class="btn-upload" (click)="uploadDocument(2)" *ngIf="!documents[2].uploaded">
            <i class="fas fa-cloud-upload-alt"></i>
            Subir Documento
          </button>
          <button class="btn-view" (click)="viewDocument(2)" *ngIf="documents[2].uploaded">
            <i class="fas fa-eye"></i>
            Ver Documento
          </button>
        </div>
      </div>

      <!-- Acta Constitutiva (Solo Persona Moral) -->
      <div class="document-card" [class.uploaded]="documents[3].uploaded">
        <div class="document-header">
          <div class="document-icon">
            <ion-icon name="document"></ion-icon>
          </div>
          <div class="document-info">
            <h3>Acta Constitutiva / Asamblea</h3>
            <p class="document-subtitle">Solo para persona Moral</p>
            <p class="document-status" [class.status-completed]="documents[3].uploaded">
              {{documents[3].uploaded ? 'Completado' : 'Pendiente'}}
            </p>
          </div>
        </div>
        <div class="document-actions">
          <button class="btn-upload" (click)="uploadDocument(3)" *ngIf="!documents[3].uploaded">
            <i class="fas fa-cloud-upload-alt"></i>
            Subir Documento
          </button>
          <button class="btn-view" (click)="viewDocument(3)" *ngIf="documents[3].uploaded">
            <i class="fas fa-eye"></i>
            Ver Documento
          </button>
        </div>
      </div>

      <!-- Fotos del Lote -->
      <div class="document-card" [class.uploaded]="documents[4].uploaded">
        <div class="document-header">
          <div class="document-icon">
            <ion-icon name="camera"></ion-icon>
          </div>
          <div class="document-info">
            <h3>Fotos del Lote</h3>
            <p class="document-subtitle">Interior y exterior que demuestren ubicación clara e inventarios</p>
            <p class="document-status" [class.status-completed]="documents[4].uploaded">
              {{documents[4].uploaded ? 'Completado' : 'Pendiente'}}
            </p>
          </div>
        </div>
        <div class="document-actions">
          <button class="btn-upload" (click)="uploadDocument(4)" *ngIf="!documents[4].uploaded">
            <i class="fas fa-cloud-upload-alt"></i>
            Subir Fotos
          </button>
          <button class="btn-view" (click)="viewDocument(4)" *ngIf="documents[4].uploaded">
            <i class="fas fa-eye"></i>
            Ver Fotos
          </button>
        </div>
      </div>

      <!-- Formatos de Autorización -->
      <div class="document-card" [class.uploaded]="documents[5].uploaded">
        <div class="document-header">
          <div class="document-icon">
            <ion-icon name="hammer"></ion-icon>
          </div>
          <div class="document-info">
            <h3>Formatos de Autorización</h3>
            <p class="document-subtitle">HEY COL-008-2 (Personas Físicas) / HEY-COL-009-2 (Personas Morales)</p>
            <p class="document-status" [class.status-completed]="documents[5].uploaded">
              {{documents[5].uploaded ? 'Completado' : 'Pendiente'}}
            </p>
          </div>
        </div>
        <div class="document-actions">
          <button class="btn-upload" (click)="uploadDocument(5)" *ngIf="!documents[5].uploaded">
            <i class="fas fa-cloud-upload-alt"></i>
            Subir Formatos
          </button>
          <button class="btn-view" (click)="viewDocument(5)" *ngIf="documents[5].uploaded">
            <i class="fas fa-eye"></i>
            Ver Formatos
          </button>
        </div>
      </div>

    </div>

    <!-- Nota Informativa -->
    <div class="info-note">
      <div class="note-icon">
        <i class="fas fa-info-circle"></i>
      </div>
      <div class="note-content">
        <p><strong>Nota:</strong> Si el Lote está registrado como persona física con actividad sólo se llena la autorización de reportes de crédito personas físicas, si está registrado como persona moral se llenan ambos formatos adjuntos.</p>
      </div>
    </div>

  </div>

  <app-footer></app-footer>
</ion-content>