<app-navbar></app-navbar>

<ion-content [fullscreen]="true">
  <div class="page-wrap">
    <section class="danger-card">
      <div class="alert-header">
        <span class="alert-dot"></span>
        <h1 class="danger-title">Eliminar cuenta</h1>
      </div>

      <!-- Imagen del usuario -->
      <div class="user-photo" *ngIf="fotoPerfil">
        <img [src]="fotoPerfil" alt="Foto de perfil" />
      </div>

      <div class="user-name" *ngIf="nombreCompleto">
        <h2>{{ nombreCompleto }}</h2>
      </div>

      <ul class="effects-list">
        <li>Se borrarán tus publicaciones y favoritos.</li>
        <li>Perderás el acceso a tus historiales.</li>
      </ul>

      <p class="lead">
        Esta acción es permanente. Se eliminarán tus datos y ya no podrás
        recuperar tu cuenta.
      </p>

      <!--  Debe marcarse para habilitar el botón -->
      <div class="confirm-box">
        <ion-checkbox class="confirm" labelPlacement="end" [(ngModel)]="confirmed">
          Confirmo que entiendo las consecuencias.
        </ion-checkbox>
      </div>

      <div class="actions">
        <ion-button expand="block" class="delete-btn" [disabled]="!confirmed || loading" (click)="onDelete()">
          {{ loading ? 'Eliminando…' : 'Eliminar definitivamente' }}
        </ion-button>

        <ion-button routerLink="/home" expand="block" fill="clear" class="cancel-btn" [disabled]="loading">
          Cancelar
        </ion-button>
      </div>
    </section>
  </div>

  <app-footer></app-footer>
</ion-content>