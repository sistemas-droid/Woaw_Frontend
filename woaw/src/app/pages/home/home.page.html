<app-navbar></app-navbar>

<ion-content [fullscreen]="true" class="ios-content">

  <div class="home-shell">
    <!-- HERO / BUSCADOR -->
    <div class="goautos-bg">
      <div
        class="hero-overlay"
        [class.loaded]="overlayLoaded"
        [ngStyle]="overlayLoaded ? {
          'background-image':
          'linear-gradient(to bottom, rgba(255, 255, 255, 0) 75%, #ffffff00 100%), url(' + imgenPrincipal + ')',
          'background-size': 'cover',
          'opacity': '1',
          'background-position': '50% 95%',
          'background-repeat': 'no-repeat'
        } : {}"
      >
        <div class="contenido-principal">
          <div class="bloque-contenido">

            <h1 class="titulo typing">
              {{ textoAnimado }}
            </h1>

            <div class="buscador-container">
              <ion-searchbar
                mode="ios"
                [(ngModel)]="terminoBusqueda"
                (ionInput)="onInputChange($event)"
                (keyup.enter)="irABusqueda(terminoBusqueda)"
                placeholder="Escribe lo que buscas..."
                animated="true"
                class="buscador">
              </ion-searchbar>
            </div>

            <div class="tipos-vehiculos">
              <div class="lista-tipos">
                <div
                  class="tipo-card"
                  *ngFor="let tipo of TiposVeiculo"
                  (click)="buscarPorTipo(tipo)">
                  {{ tipo }}
                </div>
              </div>
            </div>

            <div class="top-marcas">
              <img src="https://storage.googleapis.com/wo-aw/uploads/marcas/nissan-1752250741191.png"
                   (click)="irABusqueda('nissan')" alt="Nissan" loading="lazy" />
              <img src="https://storage.googleapis.com/wo-aw/uploads/marcas/chevrolet-1752250726132.png"
                   (click)="irABusqueda('Chevrolet')" alt="Chevrolet" loading="lazy" />
              <img src="https://storage.googleapis.com/wo-aw/uploads/marcas/honda-1752250731294.png"
                   (click)="irABusqueda('Honda')" alt="Honda" loading="lazy" />
              <img src="https://storage.googleapis.com/wo-aw/uploads/marcas/volkswagen-1752250719366.png"
                   (click)="irABusqueda('Volkswagen')" alt="Volkswagen" loading="lazy" />
              <img src="https://storage.googleapis.com/wo-aw/uploads/marcas/kia-1752250740506.png"
                   (click)="irABusqueda('Kia')" alt="Kia" loading="lazy" />
              <img src="https://storage.googleapis.com/wo-aw/uploads/marcas/hyundai-1752250721333.png"
                   (click)="irABusqueda('Hyundai')" alt="Hyundai" loading="lazy" />
              <img src="https://storage.googleapis.com/wo-aw/uploads/marcas/bmw-1752250746130.png"
                   (click)="irABusqueda('bmw')" alt="BMW" loading="lazy" />
            </div>

          </div>
        </div>
      </div>
    </div>

    <!-- Sección principal de cards / listados -->
    <app-principal></app-principal>

    <!-- VIDEO SECTION tipo card iOS -->
    <section class="video-wrap">
      <video
        #videoEl
        class="video"
        [src]="videoSrc"
        autoplay
        muted
        loop
        playsinline
        preload="auto"
        poster="assets/img/poster.jpg">
      </video>
      <div class="overlay">
        <img src="assets/icon/logo4.png" alt="Logo woaw" class="logo-goautos2" loading="lazy" />
        <h1 class="headline">Encuentra tu siguiente vehículo</h1>
        <p class="subheadline">Coches, seminuevos y camiones.</p>
      </div>
    </section>

    <!-- Mensaje app -->
    <section class="seccion-app-mensaje">
      <div class="contenedor-app-mensaje">
        <h2 class="titulo-app">
          Woaw te ayuda a <br />
          comprar o vender tu auto <br />
          desde la <span>palma de tu mano</span><br />
          de forma segura
        </h2>
      </div>
    </section>

    <button class="btn_conocenos" routerLink="/conocenos" type="button">
      Conócenos
    </button>
  </div>

  <app-footer></app-footer>
</ion-content>
